import './polyfills.server.mjs';
import{$ as Ao,A as nn,Aa as Do,B as on,Ba as U,C as f,Ca as X,D as y,Da as pl,E as Po,Ea as Le,F as ht,Fa as gi,G as ot,Ga as fl,H as M,Ha as hl,I as rn,J as g,K as Gt,Ka as gl,L as nl,M as c,N as l,O as k,Oa as ce,P as ol,Pa as an,Q as rl,R as q,Ra as H,S as al,Sa as To,T as v,Ta as bl,U as E,Ua as sn,V as Fo,W as Ke,X as u,Y as A,Z as ie,_ as sl,a as Ks,aa as R,b as Hn,ba as j,c as Zs,ca as Oo,d as Te,da as Ge,e as Js,ea as ll,f as Qs,fa as we,g as Ne,ga as cl,h as Xr,ha as Me,i as Io,ia as dl,j as vt,ja as Wt,k as Ee,l as Di,m as Ti,n as Ie,o as el,p as qt,q as z,qa as Kr,r as Ni,ra as ul,s as Re,sa as Zr,t as tl,u as Ri,ua as Jr,v as D,va as Nt,w as T,wa as ne,x as ri,xa as ee,y as il,ya as Rt,z as Vo,za as ml}from"./chunk-MCTLM6QS.mjs";import{a as De,b as dt}from"./chunk-VVCT4QZE.mjs";var _l={production:!1,apiUrl:"https://kururayback-app-a1f8360c6979.herokuapp.com/"};var oe=(()=>{let e=class e{constructor(i){this.http=i,this.loginUrl=`${_l.apiUrl}login`,this.tipo_usuario="",this.token="",this.userId=new Hn(null),this.nombre_completo=""}login(i){return this.http.post(this.loginUrl,i)}setClaveDni(i){typeof window<"u"&&localStorage.setItem("clave_dni",JSON.stringify(i))}getClaveDni(){if(typeof window<"u"){let i=localStorage.getItem("clave_dni");return i?JSON.parse(i):!1}return!1}setUserId(i){this.userId.next(i)}getUserId(){return this.userId.asObservable()}settipo_usuario(i){this.tipo_usuario=i,typeof window<"u"&&localStorage.setItem("usertipo_usuario",i)}getid_usuario(){return typeof window<"u"?localStorage.getItem("id"):null}setid_usuario(i){this.id=i,typeof window<"u"&&localStorage.setItem("id",i)}gettipo_usuario(){return typeof window<"u"?localStorage.getItem("usertipo_usuario"):null}hastipo_usuario(i){return this.tipo_usuario===i}settoken(i){this.token=i,typeof window<"u"&&localStorage.setItem("token",i)}gettoken(){return typeof window<"u"?localStorage.getItem("token"):null}hastoken(i){return this.token===i}isLoggedIn(){return!!this.gettoken()}isUserAdmin(){return this.gettipo_usuario()==="ADMINISTRADOR"}logout(){typeof window<"u"&&(localStorage.removeItem("token"),localStorage.removeItem("usertipo_usuario"))}setNombreUsuario(i){this.nombre_completo=i,typeof window<"u"&&localStorage.setItem("nombreUsuario",i)}getNombreUsuario(){return typeof window<"u"?localStorage.getItem("nombreUsuario"):null}};e.\u0275fac=function(o){return new(o||e)(Ie(Le))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vl=(()=>{let e=class e{constructor(i){this.authService=i,this.title="kururay-front"}onBeforeUnload(i){this.authService.logout()}};e.\u0275fac=function(o){return new(o||e)(y(oe))},e.\u0275cmp=z({type:e,selectors:[["app-root"]],hostBindings:function(o,r){o&1&&v("beforeunload",function(s){return r.onBeforeUnload(s)},!1,Vo)},standalone:!0,features:[R([oe]),j],decls:1,vars:0,template:function(o,r){o&1&&k(0,"router-outlet")},dependencies:[an,gi]});let t=e;return t})();var Vl=(()=>{let e=class e{constructor(i,o){this._renderer=i,this._elementRef=o,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(i,o){this._renderer.setProperty(this._elementRef.nativeElement,i,o)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(o){return new(o||e)(y(on),y(nn))},e.\u0275dir=Re({type:e});let t=e;return t})(),Yn=(()=>{let e=class e extends Vl{};e.\u0275fac=(()=>{let i;return function(r){return(i||(i=ri(e)))(r||e)}})(),e.\u0275dir=Re({type:e,features:[ot]});let t=e;return t})(),Li=new Ti("NgValueAccessor");var up={provide:Li,useExisting:vt(()=>K),multi:!0};function mp(){let t=Zr()?Zr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var pp=new Ti("CompositionEventMode"),K=(()=>{let e=class e extends Vl{constructor(i,o,r){super(i,o),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!mp())}writeValue(i){let o=i??"";this.setProperty("value",o)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(o){return new(o||e)(y(on),y(nn),y(pp,8))},e.\u0275dir=Re({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(o,r){o&1&&v("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[R([up]),ot]});let t=e;return t})();function bi(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Pl(t){return t!=null&&typeof t.length=="number"}var ai=new Ti("NgValidators"),un=new Ti("NgAsyncValidators"),fp=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,S=class{static min(e){return hp(e)}static max(e){return gp(e)}static required(e){return Fl(e)}static requiredTrue(e){return bp(e)}static email(e){return _p(e)}static minLength(e){return vp(e)}static maxLength(e){return Al(e)}static pattern(e){return Ol(e)}static nullValidator(e){return Ro(e)}static compose(e){return Bl(e)}static composeAsync(e){return zl(e)}};function hp(t){return e=>{if(bi(e.value)||bi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function gp(t){return e=>{if(bi(e.value)||bi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function Fl(t){return bi(t.value)?{required:!0}:null}function bp(t){return t.value===!0?null:{required:!0}}function _p(t){return bi(t.value)||fp.test(t.value)?null:{email:!0}}function vp(t){return e=>bi(e.value)||!Pl(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function Al(t){return e=>Pl(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Ol(t){if(!t)return Ro;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(bi(i.value))return null;let o=i.value;return e.test(o)?null:{pattern:{requiredPattern:n,actualValue:o}}}}function Ro(t){return null}function Dl(t){return t!=null}function Tl(t){return al(t)?Zs(t):t}function Nl(t){let e={};return t.forEach(n=>{e=n!=null?De(De({},e),n):e}),Object.keys(e).length===0?null:e}function Rl(t,e){return e.map(n=>n(t))}function xp(t){return!t.validate}function Ll(t){return t.map(e=>xp(e)?e:n=>e.validate(n))}function Bl(t){if(!t)return null;let e=t.filter(Dl);return e.length==0?null:function(n){return Nl(Rl(n,e))}}function ia(t){return t!=null?Bl(Ll(t)):null}function zl(t){if(!t)return null;let e=t.filter(Dl);return e.length==0?null:function(n){let i=Rl(n,e).map(Tl);return Qs(i).pipe(Js(Nl))}}function na(t){return t!=null?zl(Ll(t)):null}function xl(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function jl(t){return t._rawValidators}function $l(t){return t._rawAsyncValidators}function Qr(t){return t?Array.isArray(t)?t:[t]:[]}function Lo(t,e){return Array.isArray(t)?t.includes(e):t===e}function yl(t,e){let n=Qr(e);return Qr(t).forEach(o=>{Lo(n,o)||n.push(o)}),n}function Cl(t,e){return Qr(e).filter(n=>!Lo(t,n))}var Bo=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ia(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=na(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},xt=class extends Bo{get formDirective(){return null}get path(){return null}},_i=class extends Bo{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},zo=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},yp={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},j2=dt(De({},yp),{"[class.ng-submitted]":"isSubmitted"}),Z=(()=>{let e=class e extends zo{constructor(i){super(i)}};e.\u0275fac=function(o){return new(o||e)(y(_i,2))},e.\u0275dir=Re({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(o,r){o&2&&Gt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ot]});let t=e;return t})(),J=(()=>{let e=class e extends zo{constructor(i){super(i)}};e.\u0275fac=function(o){return new(o||e)(y(xt,10))},e.\u0275dir=Re({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(o,r){o&2&&Gt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ot]});let t=e;return t})();var Un="VALID",No="INVALID",ln="PENDING",qn="DISABLED";function oa(t){return(Uo(t)?t.validators:t)||null}function Cp(t){return Array.isArray(t)?ia(t):t||null}function ra(t,e){return(Uo(e)?e.asyncValidators:t)||null}function wp(t){return Array.isArray(t)?na(t):t||null}function Uo(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Hl(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new Io(1e3,"");if(!i[n])throw new Io(1001,"")}function Ul(t,e,n){t._forEachChild((i,o)=>{if(n[o]===void 0)throw new Io(1002,"")})}var cn=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Un}get invalid(){return this.status===No}get pending(){return this.status==ln}get disabled(){return this.status===qn}get enabled(){return this.status!==qn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(yl(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(yl(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Cl(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Cl(e,this._rawAsyncValidators))}hasValidator(e){return Lo(this._rawValidators,e)}hasAsyncValidator(e){return Lo(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ln,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=qn,this.errors=null,this._forEachChild(i=>{i.disable(dt(De({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(dt(De({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Un,this._forEachChild(i=>{i.enable(dt(De({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(dt(De({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Un||this.status===ln)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qn:Un}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ln,this._hasOwnPendingAsyncValidator=!0;let n=Tl(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,o)=>i&&i._find(o),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ht,this.statusChanges=new ht}_calculateStatus(){return this._allControlsDisabled()?qn:this.errors?No:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ln)?ln:this._anyControlsHaveStatus(No)?No:Un}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Uo(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Cp(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=wp(this._rawAsyncValidators)}},dn=class extends cn{constructor(e,n,i){super(oa(n),ra(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Ul(this,!0,e),Object.keys(e).forEach(i=>{Hl(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let o=this.controls[i];o&&o.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,o)=>{i.reset(e?e[o]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,o)=>((i.enabled||this.disabled)&&(n[o]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((o,r)=>{i=n(i,o,r)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ea=class extends dn{};var mn=new Ti("CallSetDisabledState",{providedIn:"root",factory:()=>Xn}),Xn="always";function qo(t,e){return[...e.path,t]}function jo(t,e,n=Xn){aa(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Ep(t,e),kp(t,e),Mp(t,e),Sp(t,e)}function wl(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Ho(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function $o(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Sp(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function aa(t,e){let n=jl(t);e.validator!==null?t.setValidators(xl(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=$l(t);e.asyncValidator!==null?t.setAsyncValidators(xl(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let o=()=>t.updateValueAndValidity();$o(e._rawValidators,o),$o(e._rawAsyncValidators,o)}function Ho(t,e){let n=!1;if(t!==null){if(e.validator!==null){let o=jl(t);if(Array.isArray(o)&&o.length>0){let r=o.filter(a=>a!==e.validator);r.length!==o.length&&(n=!0,t.setValidators(r))}}if(e.asyncValidator!==null){let o=$l(t);if(Array.isArray(o)&&o.length>0){let r=o.filter(a=>a!==e.asyncValidator);r.length!==o.length&&(n=!0,t.setAsyncValidators(r))}}}let i=()=>{};return $o(e._rawValidators,i),$o(e._rawAsyncValidators,i),n}function Ep(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&ql(t,e)})}function Mp(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&ql(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function ql(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function kp(t,e){let n=(i,o)=>{e.valueAccessor.writeValue(i),o&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Gl(t,e){t==null,aa(t,e)}function Ip(t,e){return Ho(t,e)}function Wl(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Vp(t){return Object.getPrototypeOf(t.constructor)===Yn}function Yl(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Xl(t,e){if(!e)return null;Array.isArray(e);let n,i,o;return e.forEach(r=>{r.constructor===K?n=r:Vp(r)?i=r:o=r}),o||i||n||null}function Pp(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Fp={provide:xt,useExisting:vt(()=>ut)},Gn=Promise.resolve(),ut=(()=>{let e=class e extends xt{constructor(i,o,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ht,this.form=new dn({},ia(i),na(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Gn.then(()=>{let o=this._findContainer(i.path);i.control=o.registerControl(i.name,i.control),jo(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Gn.then(()=>{let o=this._findContainer(i.path);o&&o.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){Gn.then(()=>{let o=this._findContainer(i.path),r=new dn({});Gl(r,i),o.registerControl(i.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Gn.then(()=>{let o=this._findContainer(i.path);o&&o.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,o){Gn.then(()=>{this.form.get(i.path).setValue(o)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,Yl(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(o){return new(o||e)(y(ai,10),y(un,10),y(mn,8))},e.\u0275dir=Re({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(o,r){o&1&&v("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[qt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[R([Fp]),ot]});let t=e;return t})();function Sl(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function El(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Wn=class extends cn{constructor(e=null,n,i){super(oa(n),ra(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Uo(n)&&(n.nonNullable||n.initialValueIsDefault)&&(El(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Sl(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Sl(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){El(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Ap=t=>t instanceof Wn,Op=(()=>{let e=class e extends xt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return qo(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}};e.\u0275fac=(()=>{let i;return function(r){return(i||(i=ri(e)))(r||e)}})(),e.\u0275dir=Re({type:e,features:[ot]});let t=e;return t})();var Dp={provide:_i,useExisting:vt(()=>Ze)},Ml=Promise.resolve(),Ze=(()=>{let e=class e extends _i{constructor(i,o,r,a,s,d){super(),this._changeDetectorRef=s,this.callSetDisabledState=d,this.control=new Wn,this._registered=!1,this.name="",this.update=new ht,this._parent=i,this._setValidators(o),this._setAsyncValidators(r),this.valueAccessor=Xl(this,a)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let o=i.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),Wl(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){jo(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){Ml.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let o=i.isDisabled.currentValue,r=o!==0&&Kr(o);Ml.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?qo(i,this._parent):[i]}};e.\u0275fac=function(o){return new(o||e)(y(xt,9),y(ai,10),y(un,10),y(Li,10),y(Po,8),y(mn,8))},e.\u0275dir=Re({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[qt.None,"disabled","isDisabled"],model:[qt.None,"ngModel","model"],options:[qt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[R([Dp]),ot,Ri]});let t=e;return t})(),Q=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=Re({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),Tp={provide:Li,useExisting:vt(()=>He),multi:!0},He=(()=>{let e=class e extends Yn{writeValue(i){let o=i??"";this.setProperty("value",o)}registerOnChange(i){this.onChange=o=>{i(o==""?null:parseFloat(o))}}};e.\u0275fac=(()=>{let i;return function(r){return(i||(i=ri(e)))(r||e)}})(),e.\u0275dir=Re({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(o,r){o&1&&v("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[R([Tp]),ot]});let t=e;return t})(),Np={provide:Li,useExisting:vt(()=>Kn),multi:!0};var Kl=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Ni({type:e}),e.\u0275inj=Di({});let t=e;return t})(),Rp=(()=>{let e=class e{constructor(){this._accessors=[]}add(i,o){this._accessors.push([i,o])}remove(i){for(let o=this._accessors.length-1;o>=0;--o)if(this._accessors[o][1]===i){this._accessors.splice(o,1);return}}select(i){this._accessors.forEach(o=>{this._isSameGroup(o,i)&&o[1]!==i&&o[1].fireUncheck(i.value)})}_isSameGroup(i,o){return i[0].control?i[0]._parent===o._control._parent&&i[1].name===o.name:!1}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=Ee({token:e,factory:e.\u0275fac,providedIn:Kl});let t=e;return t})(),Kn=(()=>{let e=class e extends Yn{constructor(i,o,r,a){super(i,o),this._registry=r,this._injector=a,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=el(mn,{optional:!0})??Xn}ngOnInit(){this._control=this._injector.get(_i),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(i){this._state=i===this.value,this.setProperty("checked",this._state)}registerOnChange(i){this._fn=i,this.onChange=()=>{i(this.value),this._registry.select(this)}}setDisabledState(i){(this.setDisabledStateFired||i||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",i),this.setDisabledStateFired=!0}fireUncheck(i){this.writeValue(i)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}};e.\u0275fac=function(o){return new(o||e)(y(on),y(nn),y(Rp),y(il))},e.\u0275dir=Re({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(o,r){o&1&&v("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[R([Np]),ot]});let t=e;return t})();var Zl=new Ti("NgModelWithFormControlWarning");var Lp={provide:xt,useExisting:vt(()=>de)},de=(()=>{let e=class e extends xt{constructor(i,o,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ht,this._setValidators(i),this._setAsyncValidators(o)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ho(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let o=this.form.get(i.path);return jo(o,i,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),o}getControl(i){return this.form.get(i.path)}removeControl(i){wl(i.control||null,i,!1),Pp(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,o){this.form.get(i.path).setValue(o)}onSubmit(i){return this.submitted=!0,Yl(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let o=i.control,r=this.form.get(i.path);o!==r&&(wl(o||null,i),Ap(r)&&(jo(r,i,this.callSetDisabledState),i.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let o=this.form.get(i.path);Gl(o,i),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let o=this.form.get(i.path);o&&Ip(o,i)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){aa(this.form,this),this._oldForm&&Ho(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(o){return new(o||e)(y(ai,10),y(un,10),y(mn,8))},e.\u0275dir=Re({type:e,selectors:[["","formGroup",""]],hostBindings:function(o,r){o&1&&v("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[qt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[R([Lp]),ot,Ri]});let t=e;return t})(),Bp={provide:xt,useExisting:vt(()=>pn)},pn=(()=>{let e=class e extends Op{constructor(i,o,r){super(),this.name=null,this._parent=i,this._setValidators(o),this._setAsyncValidators(r)}_checkParentType(){Jl(this._parent)}};e.\u0275fac=function(o){return new(o||e)(y(xt,13),y(ai,10),y(un,10))},e.\u0275dir=Re({type:e,selectors:[["","formGroupName",""]],inputs:{name:[qt.None,"formGroupName","name"]},features:[R([Bp]),ot]});let t=e;return t})(),zp={provide:xt,useExisting:vt(()=>fn)},fn=(()=>{let e=class e extends xt{constructor(i,o,r){super(),this.name=null,this._parent=i,this._setValidators(o),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return qo(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){Jl(this._parent)}};e.\u0275fac=function(o){return new(o||e)(y(xt,13),y(ai,10),y(un,10))},e.\u0275dir=Re({type:e,selectors:[["","formArrayName",""]],inputs:{name:[qt.None,"formArrayName","name"]},features:[R([zp]),ot]});let t=e;return t})();function Jl(t){return!(t instanceof pn)&&!(t instanceof de)&&!(t instanceof fn)}var jp={provide:_i,useExisting:vt(()=>fe)},fe=(()=>{let e=class e extends _i{set isDisabled(i){}constructor(i,o,r,a,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new ht,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(o),this._setAsyncValidators(r),this.valueAccessor=Xl(this,a)}ngOnChanges(i){this._added||this._setUpControl(),Wl(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return qo(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(o){return new(o||e)(y(xt,13),y(ai,10),y(un,10),y(Li,10),y(Zl,8))},e.\u0275dir=Re({type:e,selectors:[["","formControlName",""]],inputs:{name:[qt.None,"formControlName","name"],isDisabled:[qt.None,"disabled","isDisabled"],model:[qt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[R([jp]),ot,Ri]});let t=e;return t})(),$p={provide:Li,useExisting:vt(()=>ae),multi:!0};function Ql(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Hp(t){return t.split(":")[0]}var ae=(()=>{let e=class e extends Yn{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let o=this._getOptionId(i),r=Ql(o,i);this.setProperty("value",r)}registerOnChange(i){this.onChange=o=>{this.value=this._getOptionValue(o),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(let o of this._optionMap.keys())if(this._compareWith(this._optionMap.get(o),i))return o;return null}_getOptionValue(i){let o=Hp(i);return this._optionMap.has(o)?this._optionMap.get(o):i}};e.\u0275fac=(()=>{let i;return function(r){return(i||(i=ri(e)))(r||e)}})(),e.\u0275dir=Re({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(o,r){o&1&&v("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[R([$p]),ot]});let t=e;return t})(),ue=(()=>{let e=class e{constructor(i,o,r){this._element=i,this._renderer=o,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(i){this._select!=null&&(this._select._optionMap.set(this.id,i),this._setElementValue(Ql(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(o){return new(o||e)(y(nn),y(on),y(ae,9))},e.\u0275dir=Re({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),Up={provide:Li,useExisting:vt(()=>ec),multi:!0};function kl(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function qp(t){return t.split(":")[0]}var ec=(()=>{let e=class e extends Yn{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let o;if(Array.isArray(i)){let r=i.map(a=>this._getOptionId(a));o=(a,s)=>{a._setSelected(r.indexOf(s.toString())>-1)}}else o=(r,a)=>{r._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(i){this.onChange=o=>{let r=[],a=o.selectedOptions;if(a!==void 0){let s=a;for(let d=0;d<s.length;d++){let m=s[d],p=this._getOptionValue(m.value);r.push(p)}}else{let s=o.options;for(let d=0;d<s.length;d++){let m=s[d];if(m.selected){let p=this._getOptionValue(m.value);r.push(p)}}}this.value=r,i(r)}}_registerOption(i){let o=(this._idCounter++).toString();return this._optionMap.set(o,i),o}_getOptionId(i){for(let o of this._optionMap.keys())if(this._compareWith(this._optionMap.get(o)._value,i))return o;return null}_getOptionValue(i){let o=qp(i);return this._optionMap.has(o)?this._optionMap.get(o)._value:i}};e.\u0275fac=(()=>{let i;return function(r){return(i||(i=ri(e)))(r||e)}})(),e.\u0275dir=Re({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(o,r){o&1&&v("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[R([Up]),ot]});let t=e;return t})(),me=(()=>{let e=class e{constructor(i,o,r){this._element=i,this._renderer=o,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){this._select!=null&&(this._value=i,this._setElementValue(kl(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(kl(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(o){return new(o||e)(y(nn),y(on),y(ec,9))},e.\u0275dir=Re({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();function Gp(t){return typeof t=="number"?t:parseInt(t,10)}var sa=(()=>{let e=class e{constructor(){this._validator=Ro}ngOnChanges(i){if(this.inputName in i){let o=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):Ro,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return i!=null}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=Re({type:e,features:[Ri]});let t=e;return t})();var Wp={provide:ai,useExisting:vt(()=>rt),multi:!0};var rt=(()=>{let e=class e extends sa{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Kr,this.createValidator=i=>Fl}enabled(i){return i}};e.\u0275fac=(()=>{let i;return function(r){return(i||(i=ri(e)))(r||e)}})(),e.\u0275dir=Re({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(o,r){o&2&&rn("required",r._enabled?"":null)},inputs:{required:"required"},features:[R([Wp]),ot]});let t=e;return t})();var Yp={provide:ai,useExisting:vt(()=>at),multi:!0},at=(()=>{let e=class e extends sa{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=i=>Gp(i),this.createValidator=i=>Al(i)}};e.\u0275fac=(()=>{let i;return function(r){return(i||(i=ri(e)))(r||e)}})(),e.\u0275dir=Re({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(o,r){o&2&&rn("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[R([Yp]),ot]});let t=e;return t})(),Xp={provide:ai,useExisting:vt(()=>la),multi:!0},la=(()=>{let e=class e extends sa{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=i=>i,this.createValidator=i=>Ol(i)}};e.\u0275fac=(()=>{let i;return function(r){return(i||(i=ri(e)))(r||e)}})(),e.\u0275dir=Re({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(o,r){o&2&&rn("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[R([Xp]),ot]});let t=e;return t})();var tc=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Ni({type:e}),e.\u0275inj=Di({imports:[Kl]});let t=e;return t})(),ta=class extends cn{constructor(e,n,i){super(oa(n),ra(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),n&&(this.controls.splice(o,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Ul(this,!1,e),e.forEach((i,o)=>{Hl(this,!1,o),this.at(o).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,o)=>{this.at(o)&&this.at(o).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,o)=>{i.reset(e[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Il(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var he=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,o=null){let r=this._reduceControls(i),a={};return Il(o)?a=o:o!==null&&(a.validators=o.validator,a.asyncValidators=o.asyncValidator),new dn(r,a)}record(i,o=null){let r=this._reduceControls(i);return new ea(r,o)}control(i,o,r){let a={};return this.useNonNullable?(Il(o)?a=o:(a.validators=o,a.asyncValidators=r),new Wn(i,dt(De({},a),{nonNullable:!0}))):new Wn(i,o,r)}array(i,o,r){let a=i.map(s=>this._createControl(s));return new ta(a,o,r)}_reduceControls(i){let o={};return Object.keys(i).forEach(r=>{o[r]=this._createControl(i[r])}),o}_createControl(i){if(i instanceof Wn)return i;if(i instanceof cn)return i;if(Array.isArray(i)){let o=i[0],r=i.length>1?i[1]:null,a=i.length>2?i[2]:null;return this.control(o,r,a)}else return this.control(i)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=Ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Pe=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:mn,useValue:i.callSetDisabledState??Xn}]}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Ni({type:e}),e.\u0275inj=Di({imports:[tc]});let t=e;return t})(),ge=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Zl,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:mn,useValue:i.callSetDisabledState??Xn}]}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Ni({type:e}),e.\u0275inj=Di({imports:[tc]});let t=e;return t})();function fc(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Kp(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ic(t,e){return t.get(fc(t,e))}function Zp(t,e,n){Kp(t,e),e.set(t,n)}function Jp(t,e,n){return t.set(fc(t,e),n),n}var Qp=100,te={},ef=()=>{te.previousActiveElement instanceof HTMLElement?(te.previousActiveElement.focus(),te.previousActiveElement=null):document.body&&document.body.focus()},tf=t=>new Promise(e=>{if(!t)return e();let n=window.scrollX,i=window.scrollY;te.restoreFocusTimeout=setTimeout(()=>{ef(),e()},Qp),window.scrollTo(n,i)}),hc="swal2-",nf=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],F=nf.reduce((t,e)=>(t[e]=hc+e,t),{}),of=["success","warning","info","question","error"],Wo=of.reduce((t,e)=>(t[e]=hc+e,t),{}),gc="SweetAlert2:",ha=t=>t.charAt(0).toUpperCase()+t.slice(1),Ct=t=>{console.warn(`${gc} ${typeof t=="object"?t.join(" "):t}`)},$i=t=>{console.error(`${gc} ${t}`)},nc=[],rf=t=>{nc.includes(t)||(nc.push(t),Ct(t))},bc=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;rf(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},ir=t=>typeof t=="function"?t():t,ga=t=>t&&typeof t.toPromise=="function",Zn=t=>ga(t)?t.toPromise():Promise.resolve(t),ba=t=>t&&Promise.resolve(t)===t,wt=()=>document.body.querySelector(`.${F.container}`),Jn=t=>{let e=wt();return e?e.querySelector(t):null},Dt=t=>Jn(`.${t}`),Se=()=>Dt(F.popup),vn=()=>Dt(F.icon),af=()=>Dt(F["icon-content"]),_c=()=>Dt(F.title),_a=()=>Dt(F["html-container"]),vc=()=>Dt(F.image),va=()=>Dt(F["progress-steps"]),nr=()=>Dt(F["validation-message"]),Jt=()=>Jn(`.${F.actions} .${F.confirm}`),xn=()=>Jn(`.${F.actions} .${F.cancel}`),Hi=()=>Jn(`.${F.actions} .${F.deny}`),sf=()=>Dt(F["input-label"]),yn=()=>Jn(`.${F.loader}`),Qn=()=>Dt(F.actions),xc=()=>Dt(F.footer),or=()=>Dt(F["timer-progress-bar"]),xa=()=>Dt(F.close),lf=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ya=()=>{let t=Se();if(!t)return[];let e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((r,a)=>{let s=parseInt(r.getAttribute("tabindex")||"0"),d=parseInt(a.getAttribute("tabindex")||"0");return s>d?1:s<d?-1:0}),i=t.querySelectorAll(lf),o=Array.from(i).filter(r=>r.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(o))].filter(r=>yt(r))},Ca=()=>si(document.body,F.shown)&&!si(document.body,F["toast-shown"])&&!si(document.body,F["no-backdrop"]),rr=()=>{let t=Se();return t?si(t,F.toast):!1},cf=()=>{let t=Se();return t?t.hasAttribute("data-loading"):!1},Tt=(t,e)=>{if(t.textContent="",e){let i=new DOMParser().parseFromString(e,"text/html"),o=i.querySelector("head");o&&Array.from(o.childNodes).forEach(a=>{t.appendChild(a)});let r=i.querySelector("body");r&&Array.from(r.childNodes).forEach(a=>{a instanceof HTMLVideoElement||a instanceof HTMLAudioElement?t.appendChild(a.cloneNode(!0)):t.appendChild(a)})}},si=(t,e)=>{if(!e)return!1;let n=e.split(/\s+/);for(let i=0;i<n.length;i++)if(!t.classList.contains(n[i]))return!1;return!0},df=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(F).includes(n)&&!Object.values(Wo).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Ot=(t,e,n)=>{if(df(t,e),!e.customClass)return;let i=e.customClass[n];if(i){if(typeof i!="string"&&!i.forEach){Ct(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof i}"`);return}ye(t,i)}},ar=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${F.popup} > .${F[e]}`);case"checkbox":return t.querySelector(`.${F.popup} > .${F.checkbox} input`);case"radio":return t.querySelector(`.${F.popup} > .${F.radio} input:checked`)||t.querySelector(`.${F.popup} > .${F.radio} input:first-child`);case"range":return t.querySelector(`.${F.popup} > .${F.range} input`);default:return t.querySelector(`.${F.popup} > .${F.input}`)}},yc=t=>{if(t.focus(),t.type!=="file"){let e=t.value;t.value="",t.value=e}},Cc=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(i=>{Array.isArray(t)?t.forEach(o=>{n?o.classList.add(i):o.classList.remove(i)}):n?t.classList.add(i):t.classList.remove(i)}))},ye=(t,e)=>{Cc(t,e,!0)},Lt=(t,e)=>{Cc(t,e,!1)},vi=(t,e)=>{let n=Array.from(t.children);for(let i=0;i<n.length;i++){let o=n[i];if(o instanceof HTMLElement&&si(o,e))return o}},zi=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},lt=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";t&&(t.style.display=e)},gt=t=>{t&&(t.style.display="none")},wa=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";t&&new MutationObserver(()=>{eo(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},oc=(t,e,n,i)=>{let o=t.querySelector(e);o&&o.style.setProperty(n,i)},eo=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?lt(t,n):gt(t)},yt=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),uf=()=>!yt(Jt())&&!yt(Hi())&&!yt(xn()),rc=t=>t.scrollHeight>t.clientHeight,wc=t=>{let e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||i>0},Sa=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=or();n&&yt(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},mf=()=>{let t=or();if(!t)return;let e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";let n=parseInt(window.getComputedStyle(t).width),i=e/n*100;t.style.width=`${i}%`},pf=()=>typeof window>"u"||typeof document>"u",ff=`
 <div aria-labelledby="${F.title}" aria-describedby="${F["html-container"]}" class="${F.popup}" tabindex="-1">
   <button type="button" class="${F.close}"></button>
   <ul class="${F["progress-steps"]}"></ul>
   <div class="${F.icon}"></div>
   <img class="${F.image}" />
   <h2 class="${F.title}" id="${F.title}"></h2>
   <div class="${F["html-container"]}" id="${F["html-container"]}"></div>
   <input class="${F.input}" id="${F.input}" />
   <input type="file" class="${F.file}" />
   <div class="${F.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${F.select}" id="${F.select}"></select>
   <div class="${F.radio}"></div>
   <label class="${F.checkbox}">
     <input type="checkbox" id="${F.checkbox}" />
     <span class="${F.label}"></span>
   </label>
   <textarea class="${F.textarea}" id="${F.textarea}"></textarea>
   <div class="${F["validation-message"]}" id="${F["validation-message"]}"></div>
   <div class="${F.actions}">
     <div class="${F.loader}"></div>
     <button type="button" class="${F.confirm}"></button>
     <button type="button" class="${F.deny}"></button>
     <button type="button" class="${F.cancel}"></button>
   </div>
   <div class="${F.footer}"></div>
   <div class="${F["timer-progress-bar-container"]}">
     <div class="${F["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),hf=()=>{let t=wt();return t?(t.remove(),Lt([document.documentElement,document.body],[F["no-backdrop"],F["toast-shown"],F["has-column"]]),!0):!1},Bi=()=>{te.currentInstance.resetValidationMessage()},gf=()=>{let t=Se(),e=vi(t,F.input),n=vi(t,F.file),i=t.querySelector(`.${F.range} input`),o=t.querySelector(`.${F.range} output`),r=vi(t,F.select),a=t.querySelector(`.${F.checkbox} input`),s=vi(t,F.textarea);e.oninput=Bi,n.onchange=Bi,r.onchange=Bi,a.onchange=Bi,s.oninput=Bi,i.oninput=()=>{Bi(),o.value=i.value},i.onchange=()=>{Bi(),o.value=i.value}},bf=t=>typeof t=="string"?document.querySelector(t):t,_f=t=>{let e=Se();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},vf=t=>{window.getComputedStyle(t).direction==="rtl"&&ye(wt(),F.rtl)},xf=t=>{let e=hf();if(pf()){$i("SweetAlert2 requires document to initialize");return}let n=document.createElement("div");n.className=F.container,e&&ye(n,F["no-transition"]),Tt(n,ff);let i=bf(t.target);i.appendChild(n),_f(t),vf(i),gf()},Ea=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?yf(t,e):t&&Tt(e,t)},yf=(t,e)=>{t.jquery?Cf(e,t):Tt(e,t.toString())},Cf=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},wf=(t,e)=>{let n=Qn(),i=yn();!n||!i||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?gt(n):lt(n),Ot(n,e,"actions"),Sf(n,i,e),Tt(i,e.loaderHtml||""),Ot(i,e,"loader"))};function Sf(t,e,n){let i=Jt(),o=Hi(),r=xn();!i||!o||!r||(ca(i,"confirm",n),ca(o,"deny",n),ca(r,"cancel",n),Ef(i,o,r,n),n.reverseButtons&&(n.toast?(t.insertBefore(r,i),t.insertBefore(o,i)):(t.insertBefore(r,e),t.insertBefore(o,e),t.insertBefore(i,e))))}function Ef(t,e,n,i){if(!i.buttonsStyling){Lt([t,e,n],F.styled);return}ye([t,e,n],F.styled),i.confirmButtonColor&&(t.style.backgroundColor=i.confirmButtonColor,ye(t,F["default-outline"])),i.denyButtonColor&&(e.style.backgroundColor=i.denyButtonColor,ye(e,F["default-outline"])),i.cancelButtonColor&&(n.style.backgroundColor=i.cancelButtonColor,ye(n,F["default-outline"]))}function ca(t,e,n){let i=ha(e);eo(t,n[`show${i}Button`],"inline-block"),Tt(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=F[e],Ot(t,n,`${e}Button`)}var Mf=(t,e)=>{let n=xa();n&&(Tt(n,e.closeButtonHtml||""),Ot(n,e,"closeButton"),eo(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},kf=(t,e)=>{let n=wt();n&&(If(n,e.backdrop),Vf(n,e.position),Pf(n,e.grow),Ot(n,e,"container"))};function If(t,e){typeof e=="string"?t.style.background=e:e||ye([document.documentElement,document.body],F["no-backdrop"])}function Vf(t,e){e&&(e in F?ye(t,F[e]):(Ct('The "position" parameter is not valid, defaulting to "center"'),ye(t,F.center)))}function Pf(t,e){e&&ye(t,F[`grow-${e}`])}var Be={innerParams:new WeakMap,domCache:new WeakMap},Ff=["input","file","range","select","radio","checkbox","textarea"],Af=(t,e)=>{let n=Se();if(!n)return;let i=Be.innerParams.get(t),o=!i||e.input!==i.input;Ff.forEach(r=>{let a=vi(n,F[r]);a&&(Tf(r,e.inputAttributes),a.className=F[r],o&&gt(a))}),e.input&&(o&&Of(e),Nf(e))},Of=t=>{if(!t.input)return;if(!it[t.input]){$i(`Unexpected type of input! Expected ${Object.keys(it).join(" | ")}, got "${t.input}"`);return}let e=Sc(t.input);if(!e)return;let n=it[t.input](e,t);lt(e),t.inputAutoFocus&&setTimeout(()=>{yc(n)})},Df=t=>{for(let e=0;e<t.attributes.length;e++){let n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},Tf=(t,e)=>{let n=Se();if(!n)return;let i=ar(n,t);if(i){Df(i);for(let o in e)i.setAttribute(o,e[o])}},Nf=t=>{if(!t.input)return;let e=Sc(t.input);e&&Ot(e,t,"input")},Ma=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},to=(t,e,n)=>{if(n.inputLabel){let i=document.createElement("label"),o=F["input-label"];i.setAttribute("for",t.id),i.className=o,typeof n.customClass=="object"&&ye(i,n.customClass.inputLabel),i.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",i)}},Sc=t=>{let e=Se();if(e)return vi(e,F[t]||F.input)},Yo=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:ba(e)||Ct(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},it={};it.text=it.email=it.password=it.number=it.tel=it.url=it.search=it.date=it["datetime-local"]=it.time=it.week=it.month=(t,e)=>(Yo(t,e.inputValue),to(t,t,e),Ma(t,e),t.type=e.input,t);it.file=(t,e)=>(to(t,t,e),Ma(t,e),t);it.range=(t,e)=>{let n=t.querySelector("input"),i=t.querySelector("output");return Yo(n,e.inputValue),n.type=e.input,Yo(i,e.inputValue),to(n,t,e),t};it.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){let n=document.createElement("option");Tt(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return to(t,t,e),t};it.radio=t=>(t.textContent="",t);it.checkbox=(t,e)=>{let n=ar(Se(),"checkbox");n.value="1",n.checked=!!e.inputValue;let i=t.querySelector("span");return Tt(i,e.inputPlaceholder||e.inputLabel),n};it.textarea=(t,e)=>{Yo(t,e.inputValue),Ma(t,e),to(t,t,e);let n=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let i=parseInt(window.getComputedStyle(Se()).width),o=()=>{if(!document.body.contains(t))return;let r=t.offsetWidth+n(t);r>i?Se().style.width=`${r}px`:zi(Se(),"width",e.width)};new MutationObserver(o).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};var Rf=(t,e)=>{let n=_a();n&&(wa(n),Ot(n,e,"htmlContainer"),e.html?(Ea(e.html,n),lt(n,"block")):e.text?(n.textContent=e.text,lt(n,"block")):gt(n),Af(t,e))},Lf=(t,e)=>{let n=xc();n&&(wa(n),eo(n,e.footer,"block"),e.footer&&Ea(e.footer,n),Ot(n,e,"footer"))},Bf=(t,e)=>{let n=Be.innerParams.get(t),i=vn();if(i){if(n&&e.icon===n.icon){sc(i,e),ac(i,e);return}if(!e.icon&&!e.iconHtml){gt(i);return}if(e.icon&&Object.keys(Wo).indexOf(e.icon)===-1){$i(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),gt(i);return}lt(i),sc(i,e),ac(i,e),ye(i,e.showClass&&e.showClass.icon)}},ac=(t,e)=>{for(let[n,i]of Object.entries(Wo))e.icon!==n&&Lt(t,i);ye(t,e.icon&&Wo[e.icon]),Hf(t,e),zf(),Ot(t,e,"icon")},zf=()=>{let t=Se();if(!t)return;let e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<n.length;i++)n[i].style.backgroundColor=e},jf=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,$f=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,sc=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,i="";e.iconHtml?i=lc(e.iconHtml):e.icon==="success"?(i=jf,n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?i=$f:e.icon&&(i=lc({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==i.trim()&&Tt(t,i)},Hf=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(let n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])oc(t,n,"background-color",e.iconColor);oc(t,".swal2-success-ring","border-color",e.iconColor)}},lc=t=>`<div class="${F["icon-content"]}">${t}</div>`,Uf=(t,e)=>{let n=vc();if(n){if(!e.imageUrl){gt(n);return}lt(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),zi(n,"width",e.imageWidth),zi(n,"height",e.imageHeight),n.className=F.image,Ot(n,e,"image")}},ka=!1,Ec=0,Mc=0,kc=0,Ic=0,qf=t=>{t.addEventListener("mousedown",Xo),document.body.addEventListener("mousemove",Ko),t.addEventListener("mouseup",Zo),t.addEventListener("touchstart",Xo),document.body.addEventListener("touchmove",Ko),t.addEventListener("touchend",Zo)},Gf=t=>{t.removeEventListener("mousedown",Xo),document.body.removeEventListener("mousemove",Ko),t.removeEventListener("mouseup",Zo),t.removeEventListener("touchstart",Xo),document.body.removeEventListener("touchmove",Ko),t.removeEventListener("touchend",Zo)},Xo=t=>{let e=Se();if(t.target===e||vn().contains(t.target)){ka=!0;let n=Vc(t);Ec=n.clientX,Mc=n.clientY,kc=parseInt(e.style.insetInlineStart)||0,Ic=parseInt(e.style.insetBlockStart)||0,ye(e,"swal2-dragging")}},Ko=t=>{let e=Se();if(ka){let{clientX:n,clientY:i}=Vc(t);e.style.insetInlineStart=`${kc+(n-Ec)}px`,e.style.insetBlockStart=`${Ic+(i-Mc)}px`}},Zo=()=>{let t=Se();ka=!1,Lt(t,"swal2-dragging")},Vc=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},Wf=(t,e)=>{let n=wt(),i=Se();if(!(!n||!i)){if(e.toast){zi(n,"width",e.width),i.style.width="100%";let o=yn();o&&i.insertBefore(o,vn())}else zi(i,"width",e.width);zi(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),gt(nr()),Yf(i,e),e.draggable&&!e.toast?(ye(i,F.draggable),qf(i)):(Lt(i,F.draggable),Gf(i))}},Yf=(t,e)=>{let n=e.showClass||{};t.className=`${F.popup} ${yt(t)?n.popup:""}`,e.toast?(ye([document.documentElement,document.body],F["toast-shown"]),ye(t,F.toast)):ye(t,F.modal),Ot(t,e,"popup"),typeof e.customClass=="string"&&ye(t,e.customClass),e.icon&&ye(t,F[`icon-${e.icon}`])},Xf=(t,e)=>{let n=va();if(!n)return;let{progressSteps:i,currentProgressStep:o}=e;if(!i||i.length===0||o===void 0){gt(n);return}lt(n),n.textContent="",o>=i.length&&Ct("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((r,a)=>{let s=Kf(r);if(n.appendChild(s),a===o&&ye(s,F["active-progress-step"]),a!==i.length-1){let d=Zf(e);n.appendChild(d)}})},Kf=t=>{let e=document.createElement("li");return ye(e,F["progress-step"]),Tt(e,t),e},Zf=t=>{let e=document.createElement("li");return ye(e,F["progress-step-line"]),t.progressStepsDistance&&zi(e,"width",t.progressStepsDistance),e},Jf=(t,e)=>{let n=_c();n&&(wa(n),eo(n,e.title||e.titleText,"block"),e.title&&Ea(e.title,n),e.titleText&&(n.innerText=e.titleText),Ot(n,e,"title"))},Pc=(t,e)=>{Wf(t,e),kf(t,e),Xf(t,e),Bf(t,e),Uf(t,e),Jf(t,e),Mf(t,e),Rf(t,e),wf(t,e),Lf(t,e);let n=Se();typeof e.didRender=="function"&&n&&e.didRender(n),te.eventEmitter.emit("didRender",n)},Qf=()=>yt(Se()),Fc=()=>{var t;return(t=Jt())===null||t===void 0?void 0:t.click()},eh=()=>{var t;return(t=Hi())===null||t===void 0?void 0:t.click()},th=()=>{var t;return(t=xn())===null||t===void 0?void 0:t.click()},Cn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ac=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},ih=(t,e,n)=>{Ac(t),e.toast||(t.keydownHandler=i=>oh(e,i,n),t.keydownTarget=e.keydownListenerCapture?window:Se(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},ua=(t,e)=>{var n;let i=ya();if(i.length){t=t+e,t===i.length?t=0:t===-1&&(t=i.length-1),i[t].focus();return}(n=Se())===null||n===void 0||n.focus()},Oc=["ArrowRight","ArrowDown"],nh=["ArrowLeft","ArrowUp"],oh=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?rh(e,t):e.key==="Tab"?ah(e):[...Oc,...nh].includes(e.key)?sh(e.key):e.key==="Escape"&&lh(e,t,n)))},rh=(t,e)=>{if(!ir(e.allowEnterKey))return;let n=ar(Se(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;Fc(),t.preventDefault()}},ah=t=>{let e=t.target,n=ya(),i=-1;for(let o=0;o<n.length;o++)if(e===n[o]){i=o;break}t.shiftKey?ua(i,-1):ua(i,1),t.stopPropagation(),t.preventDefault()},sh=t=>{let e=Qn(),n=Jt(),i=Hi(),o=xn();if(!e||!n||!i||!o)return;let r=[n,i,o];if(document.activeElement instanceof HTMLElement&&!r.includes(document.activeElement))return;let a=Oc.includes(t)?"nextElementSibling":"previousElementSibling",s=document.activeElement;if(s){for(let d=0;d<e.children.length;d++){if(s=s[a],!s)return;if(s instanceof HTMLButtonElement&&yt(s))break}s instanceof HTMLButtonElement&&s.focus()}},lh=(t,e,n)=>{ir(e.allowEscapeKey)&&(t.preventDefault(),n(Cn.esc))},bn={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},ch=()=>{let t=wt();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},Dc=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},Tc=typeof window<"u"&&!!window.GestureEvent,dh=()=>{if(Tc&&!si(document.body,F.iosfix)){let t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,ye(document.body,F.iosfix),uh()}},uh=()=>{let t=wt();if(!t)return;let e;t.ontouchstart=n=>{e=mh(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},mh=t=>{let e=t.target,n=wt(),i=_a();return!n||!i||ph(t)||fh(t)?!1:e===n||!rc(n)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(rc(i)&&i.contains(e))},ph=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",fh=t=>t.touches&&t.touches.length>1,hh=()=>{if(si(document.body,F.iosfix)){let t=parseInt(document.body.style.top,10);Lt(document.body,F.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},gh=()=>{let t=document.createElement("div");t.className=F["scrollbar-measure"],document.body.appendChild(t);let e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},hn=null,bh=t=>{hn===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(hn=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${hn+gh()}px`)},_h=()=>{hn!==null&&(document.body.style.paddingRight=`${hn}px`,hn=null)};function Nc(t,e,n,i){rr()?cc(t,i):(tf(n).then(()=>cc(t,i)),Ac(te)),Tc?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Ca()&&(_h(),hh(),Dc()),vh()}function vh(){Lt([document.documentElement,document.body],[F.shown,F["height-auto"],F["no-backdrop"],F["toast-shown"]])}function xi(t){t=yh(t);let e=bn.swalPromiseResolve.get(this),n=xh(this);this.isAwaitingPromise?t.isDismissed||(io(this),e(t)):n&&e(t)}var xh=t=>{let e=Se();if(!e)return!1;let n=Be.innerParams.get(t);if(!n||si(e,n.hideClass.popup))return!1;Lt(e,n.showClass.popup),ye(e,n.hideClass.popup);let i=wt();return Lt(i,n.showClass.backdrop),ye(i,n.hideClass.backdrop),Ch(t,e,n),!0};function Rc(t){let e=bn.swalPromiseReject.get(this);io(this),e&&e(t)}var io=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Be.innerParams.get(t)||t._destroy())},yh=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),Ch=(t,e,n)=>{var i;let o=wt(),r=wc(e);typeof n.willClose=="function"&&n.willClose(e),(i=te.eventEmitter)===null||i===void 0||i.emit("willClose",e),r?wh(t,e,o,n.returnFocus,n.didClose):Nc(t,o,n.returnFocus,n.didClose)},wh=(t,e,n,i,o)=>{te.swalCloseEventFinishedCallback=Nc.bind(null,t,n,i,o);let r=function(a){if(a.target===e){var s;(s=te.swalCloseEventFinishedCallback)===null||s===void 0||s.call(te),delete te.swalCloseEventFinishedCallback,e.removeEventListener("animationend",r),e.removeEventListener("transitionend",r)}};e.addEventListener("animationend",r),e.addEventListener("transitionend",r)},cc=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=te.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},_n=t=>{let e=Se();if(e||new I,e=Se(),!e)return;let n=yn();rr()?gt(vn()):Sh(e,t),lt(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},Sh=(t,e)=>{let n=Qn(),i=yn();!n||!i||(!e&&yt(Jt())&&(e=Jt()),lt(n),e&&(gt(e),i.setAttribute("data-button-to-replace",e.className),n.insertBefore(i,e)),ye([t,n],F.loading))},Eh=(t,e)=>{e.input==="select"||e.input==="radio"?Ph(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(ga(e.inputValue)||ba(e.inputValue))&&(_n(Jt()),Fh(t,e))},Mh=(t,e)=>{let n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return kh(n);case"radio":return Ih(n);case"file":return Vh(n);default:return e.inputAutoTrim?n.value.trim():n.value}},kh=t=>t.checked?1:0,Ih=t=>t.checked?t.value:null,Vh=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,Ph=(t,e)=>{let n=Se();if(!n)return;let i=o=>{e.input==="select"?Ah(n,Jo(o),e):e.input==="radio"&&Oh(n,Jo(o),e)};ga(e.inputOptions)||ba(e.inputOptions)?(_n(Jt()),Zn(e.inputOptions).then(o=>{t.hideLoading(),i(o)})):typeof e.inputOptions=="object"?i(e.inputOptions):$i(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},Fh=(t,e)=>{let n=t.getInput();n&&(gt(n),Zn(e.inputValue).then(i=>{n.value=e.input==="number"?`${parseFloat(i)||0}`:`${i}`,lt(n),n.focus(),t.hideLoading()}).catch(i=>{$i(`Error in inputValue promise: ${i}`),n.value="",lt(n),n.focus(),t.hideLoading()}))};function Ah(t,e,n){let i=vi(t,F.select);if(!i)return;let o=(r,a,s)=>{let d=document.createElement("option");d.value=s,Tt(d,a),d.selected=Lc(s,n.inputValue),r.appendChild(d)};e.forEach(r=>{let a=r[0],s=r[1];if(Array.isArray(s)){let d=document.createElement("optgroup");d.label=a,d.disabled=!1,i.appendChild(d),s.forEach(m=>o(d,m[1],m[0]))}else o(i,s,a)}),i.focus()}function Oh(t,e,n){let i=vi(t,F.radio);if(!i)return;e.forEach(r=>{let a=r[0],s=r[1],d=document.createElement("input"),m=document.createElement("label");d.type="radio",d.name=F.radio,d.value=a,Lc(a,n.inputValue)&&(d.checked=!0);let p=document.createElement("span");Tt(p,s),p.className=F.label,m.appendChild(d),m.appendChild(p),i.appendChild(m)});let o=i.querySelectorAll("input");o.length&&o[0].focus()}var Jo=t=>{let e=[];return t instanceof Map?t.forEach((n,i)=>{let o=n;typeof o=="object"&&(o=Jo(o)),e.push([i,o])}):Object.keys(t).forEach(n=>{let i=t[n];typeof i=="object"&&(i=Jo(i)),e.push([n,i])}),e},Lc=(t,e)=>!!e&&e.toString()===t.toString(),Dh=t=>{let e=Be.innerParams.get(t);t.disableButtons(),e.input?Bc(t,"confirm"):Va(t,!0)},Th=t=>{let e=Be.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?Bc(t,"deny"):Ia(t,!1)},Nh=(t,e)=>{t.disableButtons(),e(Cn.cancel)},Bc=(t,e)=>{let n=Be.innerParams.get(t);if(!n.input){$i(`The "input" parameter is needed to be set when using returnInputValueOn${ha(e)}`);return}let i=t.getInput(),o=Mh(t,n);n.inputValidator?Rh(t,o,e):i&&!i.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||i.validationMessage)):e==="deny"?Ia(t,o):Va(t,o)},Rh=(t,e,n)=>{let i=Be.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Zn(i.inputValidator(e,i.validationMessage))).then(r=>{t.enableButtons(),t.enableInput(),r?t.showValidationMessage(r):n==="deny"?Ia(t,e):Va(t,e)})},Ia=(t,e)=>{let n=Be.innerParams.get(t||void 0);n.showLoaderOnDeny&&_n(Hi()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Zn(n.preDeny(e,n.validationMessage))).then(o=>{o===!1?(t.hideLoading(),io(t)):t.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>zc(t||void 0,o))):t.close({isDenied:!0,value:e})},dc=(t,e)=>{t.close({isConfirmed:!0,value:e})},zc=(t,e)=>{t.rejectPromise(e)},Va=(t,e)=>{let n=Be.innerParams.get(t||void 0);n.showLoaderOnConfirm&&_n(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Zn(n.preConfirm(e,n.validationMessage))).then(o=>{yt(nr())||o===!1?(t.hideLoading(),io(t)):dc(t,typeof o>"u"?e:o)}).catch(o=>zc(t||void 0,o))):dc(t,e)};function Qo(){let t=Be.innerParams.get(this);if(!t)return;let e=Be.domCache.get(this);gt(e.loader),rr()?t.icon&&lt(vn()):Lh(e),Lt([e.popup,e.actions],F.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}var Lh=t=>{let e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?lt(e[0],"inline-block"):uf()&&gt(t.actions)};function jc(){let t=Be.innerParams.get(this),e=Be.domCache.get(this);return e?ar(e.popup,t.input):null}function $c(t,e,n){let i=Be.domCache.get(t);e.forEach(o=>{i[o].disabled=n})}function Hc(t,e){let n=Se();if(!(!n||!t))if(t.type==="radio"){let i=n.querySelectorAll(`[name="${F.radio}"]`);for(let o=0;o<i.length;o++)i[o].disabled=e}else t.disabled=e}function Uc(){$c(this,["confirmButton","denyButton","cancelButton"],!1)}function qc(){$c(this,["confirmButton","denyButton","cancelButton"],!0)}function Gc(){Hc(this.getInput(),!1)}function Wc(){Hc(this.getInput(),!0)}function Yc(t){let e=Be.domCache.get(this),n=Be.innerParams.get(this);Tt(e.validationMessage,t),e.validationMessage.className=F["validation-message"],n.customClass&&n.customClass.validationMessage&&ye(e.validationMessage,n.customClass.validationMessage),lt(e.validationMessage);let i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",F["validation-message"]),yc(i),ye(i,F.inputerror))}function Xc(){let t=Be.domCache.get(this);t.validationMessage&&gt(t.validationMessage);let e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Lt(e,F.inputerror))}var gn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Bh=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],zh={allowEnterKey:void 0},jh=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Kc=t=>Object.prototype.hasOwnProperty.call(gn,t),Zc=t=>Bh.indexOf(t)!==-1,Jc=t=>zh[t],$h=t=>{Kc(t)||Ct(`Unknown parameter "${t}"`)},Hh=t=>{jh.includes(t)&&Ct(`The parameter "${t}" is incompatible with toasts`)},Uh=t=>{let e=Jc(t);e&&bc(t,e)},qh=t=>{t.backdrop===!1&&t.allowOutsideClick&&Ct('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let e in t)$h(e),t.toast&&Hh(e),Uh(e)};function Qc(t){let e=Se(),n=Be.innerParams.get(this);if(!e||si(e,n.hideClass.popup)){Ct("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let i=Gh(t),o=Object.assign({},n,i);Pc(this,o),Be.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}var Gh=t=>{let e={};return Object.keys(t).forEach(n=>{Zc(n)?e[n]=t[n]:Ct(`Invalid parameter to update: ${n}`)}),e};function ed(){let t=Be.domCache.get(this),e=Be.innerParams.get(this);if(!e){td(this);return}t.popup&&te.swalCloseEventFinishedCallback&&(te.swalCloseEventFinishedCallback(),delete te.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),te.eventEmitter.emit("didDestroy"),Wh(this)}var Wh=t=>{td(t),delete t.params,delete te.keydownHandler,delete te.keydownTarget,delete te.currentInstance},td=t=>{t.isAwaitingPromise?(da(Be,t),t.isAwaitingPromise=!0):(da(bn,t),da(Be,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},da=(t,e)=>{for(let n in t)t[n].delete(e)},Yh=Object.freeze({__proto__:null,_destroy:ed,close:xi,closeModal:xi,closePopup:xi,closeToast:xi,disableButtons:qc,disableInput:Wc,disableLoading:Qo,enableButtons:Uc,enableInput:Gc,getInput:jc,handleAwaitingPromise:io,hideLoading:Qo,rejectPromise:Rc,resetValidationMessage:Xc,showValidationMessage:Yc,update:Qc}),Xh=(t,e,n)=>{t.toast?Kh(t,e,n):(Jh(e),Qh(e),eg(t,e,n))},Kh=(t,e,n)=>{e.popup.onclick=()=>{t&&(Zh(t)||t.timer||t.input)||n(Cn.close)}},Zh=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton),er=!1,Jh=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(er=!0)}}},Qh=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(er=!0)}}},eg=(t,e,n)=>{e.container.onclick=i=>{if(er){er=!1;return}i.target===e.container&&ir(t.allowOutsideClick)&&n(Cn.backdrop)}},tg=t=>typeof t=="object"&&t.jquery,uc=t=>t instanceof Element||tg(t),ig=t=>{let e={};return typeof t[0]=="object"&&!uc(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,i)=>{let o=t[i];typeof o=="string"||uc(o)?e[n]=o:o!==void 0&&$i(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof o}`)}),e};function ng(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new this(...e)}function og(t){class e extends this{_main(i,o){return super._main(i,Object.assign({},t,o))}}return e}var rg=()=>te.timeout&&te.timeout.getTimerLeft(),id=()=>{if(te.timeout)return mf(),te.timeout.stop()},nd=()=>{if(te.timeout){let t=te.timeout.start();return Sa(t),t}},ag=()=>{let t=te.timeout;return t&&(t.running?id():nd())},sg=t=>{if(te.timeout){let e=te.timeout.increase(t);return Sa(e,!0),e}},lg=()=>!!(te.timeout&&te.timeout.isRunning()),mc=!1,ma={};function cg(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";ma[t]=this,mc||(document.body.addEventListener("click",dg),mc=!0)}var dg=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(let n in ma){let i=e.getAttribute(n);if(i){ma[n].fire({template:i});return}}},pa=class{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){let i=this._getHandlersByEventName(e);i.includes(n)||i.push(n)}once(e,n){var i=this;let o=function(){i.removeListener(e,o);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];n.apply(i,a)};this.on(e,o)}emit(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,i)}catch(a){console.error(a)}})}removeListener(e,n){let i=this._getHandlersByEventName(e),o=i.indexOf(n);o>-1&&i.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}};te.eventEmitter=new pa;var ug=(t,e)=>{te.eventEmitter.on(t,e)},mg=(t,e)=>{te.eventEmitter.once(t,e)},pg=(t,e)=>{if(!t){te.eventEmitter.reset();return}e?te.eventEmitter.removeListener(t,e):te.eventEmitter.removeAllListeners(t)},fg=Object.freeze({__proto__:null,argsToParams:ig,bindClickHandler:cg,clickCancel:th,clickConfirm:Fc,clickDeny:eh,enableLoading:_n,fire:ng,getActions:Qn,getCancelButton:xn,getCloseButton:xa,getConfirmButton:Jt,getContainer:wt,getDenyButton:Hi,getFocusableElements:ya,getFooter:xc,getHtmlContainer:_a,getIcon:vn,getIconContent:af,getImage:vc,getInputLabel:sf,getLoader:yn,getPopup:Se,getProgressSteps:va,getTimerLeft:rg,getTimerProgressBar:or,getTitle:_c,getValidationMessage:nr,increaseTimer:sg,isDeprecatedParameter:Jc,isLoading:cf,isTimerRunning:lg,isUpdatableParameter:Zc,isValidParameter:Kc,isVisible:Qf,mixin:og,off:pg,on:ug,once:mg,resumeTimer:nd,showLoading:_n,stopTimer:id,toggleTimer:ag}),fa=class{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){let n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}},od=["swal-title","swal-html","swal-footer"],hg=t=>{let e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};let n=e.content;return wg(n),Object.assign(gg(n),bg(n),_g(n),vg(n),xg(n),yg(n),Cg(n,od))},gg=t=>{let e={};return Array.from(t.querySelectorAll("swal-param")).forEach(i=>{ji(i,["name","value"]);let o=i.getAttribute("name"),r=i.getAttribute("value");!o||!r||(typeof gn[o]=="boolean"?e[o]=r!=="false":typeof gn[o]=="object"?e[o]=JSON.parse(r):e[o]=r)}),e},bg=t=>{let e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(i=>{let o=i.getAttribute("name"),r=i.getAttribute("value");!o||!r||(e[o]=new Function(`return ${r}`)())}),e},_g=t=>{let e={};return Array.from(t.querySelectorAll("swal-button")).forEach(i=>{ji(i,["type","color","aria-label"]);let o=i.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=i.innerHTML,e[`show${ha(o)}Button`]=!0,i.hasAttribute("color")&&(e[`${o}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),e},vg=t=>{let e={},n=t.querySelector("swal-image");return n&&(ji(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},xg=t=>{let e={},n=t.querySelector("swal-icon");return n&&(ji(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},yg=t=>{let e={},n=t.querySelector("swal-input");n&&(ji(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));let i=Array.from(t.querySelectorAll("swal-input-option"));return i.length&&(e.inputOptions={},i.forEach(o=>{ji(o,["value"]);let r=o.getAttribute("value");if(!r)return;let a=o.innerHTML;e.inputOptions[r]=a})),e},Cg=(t,e)=>{let n={};for(let i in e){let o=e[i],r=t.querySelector(o);r&&(ji(r,[]),n[o.replace(/^swal-/,"")]=r.innerHTML.trim())}return n},wg=t=>{let e=od.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{let i=n.tagName.toLowerCase();e.includes(i)||Ct(`Unrecognized element <${i}>`)})},ji=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&Ct([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},rd=10,Sg=t=>{let e=wt(),n=Se();typeof t.willOpen=="function"&&t.willOpen(n),te.eventEmitter.emit("willOpen",n);let o=window.getComputedStyle(document.body).overflowY;kg(e,n,t),setTimeout(()=>{Eg(e,n)},rd),Ca()&&(Mg(e,t.scrollbarPadding,o),ch()),!rr()&&!te.previousActiveElement&&(te.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),te.eventEmitter.emit("didOpen",n),Lt(e,F["no-transition"])},tr=t=>{let e=Se();if(t.target!==e)return;let n=wt();e.removeEventListener("animationend",tr),e.removeEventListener("transitionend",tr),n.style.overflowY="auto"},Eg=(t,e)=>{wc(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",tr),e.addEventListener("transitionend",tr)):t.style.overflowY="auto"},Mg=(t,e,n)=>{dh(),e&&n!=="hidden"&&bh(n),setTimeout(()=>{t.scrollTop=0})},kg=(t,e,n)=>{ye(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),lt(e,"grid"),setTimeout(()=>{ye(e,n.showClass.popup),e.style.removeProperty("opacity")},rd)):lt(e,"grid"),ye([document.documentElement,document.body],F.shown),n.heightAuto&&n.backdrop&&!n.toast&&ye([document.documentElement,document.body],F["height-auto"])},pc={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function Ig(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=pc.email),t.input==="url"&&(t.inputValidator=pc.url))}function Vg(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Ct('Target parameter is not valid, defaulting to "body"'),t.target="body")}function Pg(t){Ig(t),t.showLoaderOnConfirm&&!t.preConfirm&&Ct(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Vg(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),xf(t)}var Zt,Go=new WeakMap,Je=class{constructor(){if(Zp(this,Go,void 0),typeof window>"u")return;Zt=this;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];let o=Object.freeze(this.constructor.argsToParams(n));this.params=o,this.isAwaitingPromise=!1,Jp(Go,this,this._main(Zt.params))}_main(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(qh(Object.assign({},n,e)),te.currentInstance){let r=bn.swalPromiseResolve.get(te.currentInstance),{isAwaitingPromise:a}=te.currentInstance;te.currentInstance._destroy(),a||r({isDismissed:!0}),Ca()&&Dc()}te.currentInstance=Zt;let i=Ag(e,n);Pg(i),Object.freeze(i),te.timeout&&(te.timeout.stop(),delete te.timeout),clearTimeout(te.restoreFocusTimeout);let o=Og(Zt);return Pc(Zt,i),Be.innerParams.set(Zt,i),Fg(Zt,o,i)}then(e){return ic(Go,this).then(e)}finally(e){return ic(Go,this).finally(e)}},Fg=(t,e,n)=>new Promise((i,o)=>{let r=a=>{t.close({isDismissed:!0,dismiss:a})};bn.swalPromiseResolve.set(t,i),bn.swalPromiseReject.set(t,o),e.confirmButton.onclick=()=>{Dh(t)},e.denyButton.onclick=()=>{Th(t)},e.cancelButton.onclick=()=>{Nh(t,r)},e.closeButton.onclick=()=>{r(Cn.close)},Xh(n,e,r),ih(te,n,r),Eh(t,n),Sg(n),Dg(te,n,r),Tg(e,n),setTimeout(()=>{e.container.scrollTop=0})}),Ag=(t,e)=>{let n=hg(t),i=Object.assign({},gn,e,n,t);return i.showClass=Object.assign({},gn.showClass,i.showClass),i.hideClass=Object.assign({},gn.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},Og=t=>{let e={popup:Se(),container:wt(),actions:Qn(),confirmButton:Jt(),denyButton:Hi(),cancelButton:xn(),loader:yn(),closeButton:xa(),validationMessage:nr(),progressSteps:va()};return Be.domCache.set(t,e),e},Dg=(t,e,n)=>{let i=or();gt(i),e.timer&&(t.timeout=new fa(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(lt(i),Ot(i,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&Sa(e.timer)})))},Tg=(t,e)=>{if(!e.toast){if(!ir(e.allowEnterKey)){bc("allowEnterKey"),Lg();return}Ng(t)||Rg(t,e)||ua(-1,1)}},Ng=t=>{let e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(let n of e)if(n instanceof HTMLElement&&yt(n))return n.focus(),!0;return!1},Rg=(t,e)=>e.focusDeny&&yt(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&yt(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&yt(t.confirmButton)?(t.confirmButton.focus(),!0):!1,Lg=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let t=new Date,e=localStorage.getItem("swal-initiation");e?(t.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let n=document.createElement("audio");n.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",n.loop=!0,document.body.appendChild(n),setTimeout(()=>{n.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${t}`)}Je.prototype.disableButtons=qc;Je.prototype.enableButtons=Uc;Je.prototype.getInput=jc;Je.prototype.disableInput=Wc;Je.prototype.enableInput=Gc;Je.prototype.hideLoading=Qo;Je.prototype.disableLoading=Qo;Je.prototype.showValidationMessage=Yc;Je.prototype.resetValidationMessage=Xc;Je.prototype.close=xi;Je.prototype.closePopup=xi;Je.prototype.closeModal=xi;Je.prototype.closeToast=xi;Je.prototype.rejectPromise=Rc;Je.prototype.update=Qc;Je.prototype._destroy=ed;Object.assign(Je,fg);Object.keys(Yh).forEach(t=>{Je[t]=function(){return Zt&&Zt[t]?Zt[t](...arguments):null}});Je.DismissReason=Cn;Je.version="11.15.10";var I=Je;I.default=I;typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function Bg(t,e){t&1&&(c(0,"small",14),u(1," El DNI es obligatorio y debe tener 8 d\xEDgitos. "),l())}function zg(t,e){t&1&&(c(0,"small",14),u(1," La contrase\xF1a es obligatoria y debe tener al menos 8 caracteres. "),l())}var ad=(()=>{let e=class e{constructor(i,o,r){this.fb=i,this.authService=o,this.router=r,this.isLoading=!1,this.loginForm=this.fb.group({dni:["",[S.required,S.pattern("^[0-9]{8}$")]],password:["",[S.required,S.minLength(8)]]})}onLogin(){if(this.loginForm.invalid){I.fire("Error","Por favor, completa todos los campos correctamente.","error");return}this.isLoading=!0;let i={dni:this.loginForm.value.dni,password:this.loginForm.value.password};this.authService.login(i).subscribe({next:o=>{this.isLoading=!1,this.authService.settoken(o.token),this.authService.setid_usuario(o.id),this.authService.settipo_usuario(o.tipo_usuario),this.authService.setNombreUsuario(o.nombre_completo),o.clave_dni?(localStorage.setItem("clave_dni","true"),I.fire("Atenci\xF3n","Debes actualizar tu contrase\xF1a.","warning").then(()=>{this.router.navigateByUrl(`/usuarios/${o.id}/actualizar-clave`)})):(localStorage.removeItem("clave_dni"),I.fire("\xC9xito","Inicio de sesi\xF3n exitoso.","success").then(()=>{this.router.navigateByUrl("/dashboard")}))},error:o=>{this.isLoading=!1;let r=o.error.message||"Usuario o contrase\xF1a incorrectos.";I.fire("Error",r,"error"),this.loginForm.reset()}})}};e.\u0275fac=function(o){return new(o||e)(y(he),y(oe),y(H))},e.\u0275cmp=z({type:e,selectors:[["app-login"]],standalone:!0,features:[R([oe]),j],decls:20,vars:4,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card","login-box"],[1,"card-body"],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","dni"],["type","text","id","dni","formControlName","dni","maxlength","8",1,"form-control"],["class","text-danger",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-block","btn-custom",3,"disabled"],[1,"text-danger"]],template:function(o,r){if(o&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),u(6,"Login"),l(),c(7,"form",6),v("ngSubmit",function(){return r.onLogin()}),c(8,"div",7)(9,"label",8),u(10,"DNI"),l(),k(11,"input",9),M(12,Bg,2,0,"small",10),l(),c(13,"div",7)(14,"label",11),u(15,"Password"),l(),k(16,"input",12),M(17,zg,2,0,"small",10),l(),c(18,"button",13),u(19," Login "),l()()()()()()()),o&2){let a,s;f(7),g("formGroup",r.loginForm),f(5),g("ngIf",((a=r.loginForm.get("dni"))==null?null:a.invalid)&&((a=r.loginForm.get("dni"))==null?null:a.touched)),f(5),g("ngIf",((s=r.loginForm.get("password"))==null?null:s.invalid)&&((s=r.loginForm.get("password"))==null?null:s.touched)),f(),g("disabled",r.loginForm.invalid)}},dependencies:[ge,Q,K,Z,J,at,de,fe,U,ee],styles:["HTML[_ngcontent-%COMP%]   CSSResult[_ngcontent-%COMP%]   Skip[_ngcontent-%COMP%]   Results[_ngcontent-%COMP%]   Iframe[_ngcontent-%COMP%]   html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;padding:0;font-family:sans-serif;background:linear-gradient(#141e30,#243b55)}label[_ngcontent-%COMP%]{color:#fff;font-family:sans-serif}.login-box[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:400px;padding:40px;transform:translate(-50%,-50%);background:#b30036;box-sizing:border-box;box-shadow:0 15px 25px #0009;border-radius:10px}.login-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 30px;padding:0;color:#fff;text-align:center}.login-box[_ngcontent-%COMP%]   .user-box[_ngcontent-%COMP%]{position:relative}.login-box[_ngcontent-%COMP%]   .user-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 0;font-size:16px;color:#fff;margin-bottom:30px;border:none;border-bottom:1px solid #fff;outline:none;background:transparent}.login-box[_ngcontent-%COMP%]   .user-box[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:0;left:0;padding:10px 0;font-size:16px;color:#fff;pointer-events:none;transition:.5s}.login-box[_ngcontent-%COMP%]   .user-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%], .login-box[_ngcontent-%COMP%]   .user-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid ~ label[_ngcontent-%COMP%]{top:-20px;left:0;color:#fff;font-size:12px}.login-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;display:inline-block;padding:10px 20px;font-size:16px;text-decoration:none;text-transform:uppercase;overflow:hidden;transition:.5s;margin-top:40px;letter-spacing:4px}@keyframes _ngcontent-%COMP%_btn-anim1{0%{left:-100%}50%,to{left:100%}}@keyframes _ngcontent-%COMP%_btn-anim2{0%{top:-100%}50%,to{top:100%}}@keyframes _ngcontent-%COMP%_btn-anim3{0%{right:-100%}50%,to{right:100%}}@keyframes _ngcontent-%COMP%_btn-anim4{0%{bottom:-100%}50%,to{bottom:100%}}.btn-custom[_ngcontent-%COMP%]{background-color:#fff}.btn-primary[_ngcontent-%COMP%]{border:none;color:#b30036;width:100%}.btn-primary[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0003,0 6px 20px #00000030;background-color:#d88911;color:#fff}"]});let t=e;return t})();var no=(()=>{let e=class e{constructor(i){this.router=i}canActivate(i){let o=localStorage.getItem("token"),r=localStorage.getItem("clave_dni")==="true",a=localStorage.getItem("id"),s=i.params.id;return o?i.url.some(d=>d.path==="actualizar-clave")?a===s?!0:(this.router.navigate(["/dashboard"]),!1):r?(this.router.navigateByUrl(`/usuarios/${a}/actualizar-clave`),!1):!0:(this.router.navigate(["/login"]),!1)}};e.\u0275fac=function(o){return new(o||e)(Ie(H))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jg(t,e){t&1&&(c(0,"span",20),u(1,"KURURAY LLACTAY"),l())}function $g(t,e){t&1&&(c(0,"span",22),u(1,"Mi Informaci\xF3n"),l())}var Hg=t=>["/mi-informacion-voluntario",t];function Ug(t,e){if(t&1&&(c(0,"li",9)(1,"a",14),k(2,"i",21),M(3,$g,2,0,"span",12),l()()),t&2){let n=E();f(),g("routerLink",Ge(2,Hg,n.id)),f(2),g("ngIf",!n.sidebarCollapsed)}}function qg(t,e){t&1&&(c(0,"span",22),u(1,"Mis Voluntariados"),l())}function Gg(t,e){if(t&1&&(c(0,"li",9)(1,"a",23),k(2,"i",24),M(3,qg,2,0,"span",12),l()()),t&2){let n=E();f(3),g("ngIf",!n.sidebarCollapsed)}}function Wg(t,e){t&1&&(c(0,"span",22),u(1,"Dashboard"),l())}function Yg(t,e){t&1&&(c(0,"span",22),u(1,"Voluntarios"),l())}function Xg(t,e){if(t&1&&(c(0,"li",9)(1,"a",25),k(2,"i",26),M(3,Yg,2,0,"span",12),l()()),t&2){let n=E();f(3),g("ngIf",!n.sidebarCollapsed)}}function Kg(t,e){t&1&&(c(0,"span",22),u(1,"Voluntariados"),l())}function Zg(t,e){if(t&1&&(c(0,"li",9)(1,"a",27),k(2,"i",28),M(3,Kg,2,0,"span",12),l()()),t&2){let n=E();f(3),g("ngIf",!n.sidebarCollapsed)}}function Jg(t,e){t&1&&(c(0,"span",22),u(1,"Beneficiarios"),l())}function Qg(t,e){if(t&1&&(c(0,"li",9)(1,"a",29),k(2,"i",30),M(3,Jg,2,0,"span",12),l()()),t&2){let n=E();f(3),g("ngIf",!n.sidebarCollapsed)}}function e0(t,e){t&1&&(c(0,"span",22),u(1,"Benefactores"),l())}function t0(t,e){if(t&1&&(c(0,"li",9)(1,"a",31),k(2,"i",32),M(3,e0,2,0,"span",12),l()()),t&2){let n=E();f(3),g("ngIf",!n.sidebarCollapsed)}}function i0(t,e){t&1&&(c(0,"span",22),u(1,"Contabilidad Financiero"),l())}function n0(t,e){if(t&1&&k(0,"i"),t&2){let n=E(2);nl(n.financieroSubmenuOpen?"fas fa-chevron-down":"fas fa-chevron-right")}}function o0(t,e){t&1&&(c(0,"span",22),u(1,"Ingresos"),l())}function r0(t,e){t&1&&(c(0,"span",22),u(1,"Gastos"),l())}function a0(t,e){if(t&1){let n=q();c(0,"li",33)(1,"a",34),v("click",function(){D(n);let o=E();return T(o.toggleFinancieroSubmenu())}),k(2,"i",35),M(3,i0,2,0,"span",12)(4,n0,1,2,"i",36),l(),c(5,"ul",37)(6,"li",9)(7,"a",38),k(8,"i",39),M(9,o0,2,0,"span",12),l()(),c(10,"li",9)(11,"a",40),k(12,"i",41),M(13,r0,2,0,"span",12),l()()()()}if(t&2){let n=E();f(3),g("ngIf",!n.sidebarCollapsed),f(),g("ngIf",!n.sidebarCollapsed),f(),Gt("open",n.financieroSubmenuOpen),f(4),g("ngIf",!n.sidebarCollapsed),f(4),g("ngIf",!n.sidebarCollapsed)}}function s0(t,e){t&1&&(c(0,"span",22),u(1,"Reportes"),l())}function l0(t,e){if(t&1&&(c(0,"li",9)(1,"a",42),k(2,"i",43),M(3,s0,2,0,"span",12),l()()),t&2){let n=E();f(3),g("ngIf",!n.sidebarCollapsed)}}function c0(t,e){t&1&&(c(0,"span",22),u(1,"Usuarios"),l())}function d0(t,e){if(t&1&&(c(0,"li",9)(1,"a",44),k(2,"i",26),M(3,c0,2,0,"span",12),l()()),t&2){let n=E();f(3),g("ngIf",!n.sidebarCollapsed)}}function u0(t,e){t&1&&(c(0,"span",22),u(1,"Variables del Sistema"),l())}function m0(t,e){if(t&1&&(c(0,"li",9)(1,"a",45),k(2,"i",46),M(3,u0,2,0,"span",12),l()()),t&2){let n=E();f(3),g("ngIf",!n.sidebarCollapsed)}}function p0(t,e){t&1&&(c(0,"span",22),u(1,"Actualizar Mi Contrase\xF1a"),l())}function f0(t,e){if(t&1){let n=q();c(0,"div",47)(1,"span"),u(2),l(),c(3,"button",48),v("click",function(){D(n);let o=E();return T(o.logout())}),u(4,"Cerrar Sesi\xF3n"),l()()}if(t&2){let n=E();f(2),A(n.nombreUsuario||"Usuario")}}var h0=t=>["/usuarios",t,"actualizar-clave"],sd=(()=>{let e=class e{constructor(i,o){this.authService=i,this.router=o,this.sidebarActive=!0,this.sidebarCollapsed=!1,this.nombreUsuario=null,this.financieroSubmenuOpen=!1,this.dropdownOpen=!1}ngOnInit(){this.tipo_usuario=this.authService.gettipo_usuario(),this.token=this.authService.gettoken(),this.id=this.authService.getid_usuario(),this.checkScreenWidth(),this.nombreUsuario=this.authService.getNombreUsuario()}onResize(i){this.checkScreenWidth()}checkScreenWidth(){window.innerWidth<=768?this.sidebarCollapsed=!0:this.sidebarCollapsed=!1}toggleSidebar(){this.sidebarCollapsed=!this.sidebarCollapsed}toggleFinancieroSubmenu(){this.financieroSubmenuOpen=!this.financieroSubmenuOpen}toggleDropdown(){this.dropdownOpen=!this.dropdownOpen}logout(){this.authService.logout(),this.router.navigateByUrl("/login")}};e.\u0275fac=function(o){return new(o||e)(y(oe),y(H))},e.\u0275cmp=z({type:e,selectors:[["app-layout"]],hostBindings:function(o,r){o&1&&v("resize",function(s){return r.onResize(s)},!1,Vo)},standalone:!0,features:[R([oe,no]),j],decls:32,vars:21,consts:[[1,"flex-container"],["id","sidebar"],[1,"sidebar-header"],[1,"btn","btn-dark","btn-sm","toggle-button",3,"click"],[1,"menu-icon"],["class","logo-text",4,"ngIf"],[1,"navbar","navbar-dark"],[1,"navbar-nav"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["routerLink","/dashboard",1,"nav-link"],[1,"fas","fa-tachometer-alt"],["class","link-text",4,"ngIf"],["class","nav-item dropdown",4,"ngIf"],[1,"nav-link",3,"routerLink"],[1,"fas","fa-key"],[1,"content"],[1,"user-menu"],[1,"fas","fa-user-circle",3,"click"],["class","user-menu-dropdown",4,"ngIf"],[1,"logo-text"],[1,"fas","fa-user"],[1,"link-text"],["routerLink","/mis-voluntariados",1,"nav-link"],[1,"fas","fa-clipboard-list"],["routerLink","/voluntarios",1,"nav-link"],[1,"fas","fa-user-cog"],["routerLink","/voluntariados",1,"nav-link"],[1,"fas","fa-users"],["routerLink","/beneficiarios",1,"nav-link"],[1,"fas","fa-user-friends"],["routerLink","/benefactores",1,"nav-link"],[1,"fas","fa-donate"],[1,"nav-item","dropdown"],[1,"nav-link",3,"click"],[1,"fas","fa-file-invoice-dollar"],[3,"class",4,"ngIf"],[1,"submenu"],["routerLink","/contabilidad-financiera/ingresos",1,"nav-link"],[1,"fas","fa-money-bill-wave"],["routerLink","/contabilidad-financiera/gastos",1,"nav-link"],[1,"fas","fa-coins"],["routerLink","/reportes",1,"nav-link"],[1,"fas","fa-chart-line"],["routerLink","/usuarios",1,"nav-link"],["routerLink","/variables-sistema",1,"nav-link"],[1,"fas","fa-cogs"],[1,"user-menu-dropdown"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"aside",1)(2,"div",2)(3,"button",3),v("click",function(){return r.toggleSidebar()}),c(4,"span",4),u(5,"\u2630"),l()(),M(6,jg,2,0,"span",5),l(),c(7,"nav",6)(8,"ul",7),M(9,Ug,4,4,"li",8)(10,Gg,4,1,"li",8),c(11,"li",9)(12,"a",10),k(13,"i",11),M(14,Wg,2,0,"span",12),l()(),M(15,Xg,4,1,"li",8)(16,Zg,4,1,"li",8)(17,Qg,4,1,"li",8)(18,t0,4,1,"li",8)(19,a0,14,6,"li",13)(20,l0,4,1,"li",8)(21,d0,4,1,"li",8)(22,m0,4,1,"li",8),c(23,"li",9)(24,"a",14),k(25,"i",15),M(26,p0,2,0,"span",12),l()()()()(),c(27,"div",16),k(28,"router-outlet"),l(),c(29,"div",17)(30,"i",18),v("click",function(){return r.toggleDropdown()}),l(),M(31,f0,5,1,"div",19),l()()),o&2&&(f(),Gt("active",r.sidebarActive)("collapsed",r.sidebarCollapsed),f(5),g("ngIf",!r.sidebarCollapsed),f(3),g("ngIf",r.tipo_usuario==="VOLUNTARIO"),f(),g("ngIf",r.tipo_usuario==="VOLUNTARIO"),f(4),g("ngIf",!r.sidebarCollapsed),f(),g("ngIf",r.tipo_usuario==="ADMINISTRADOR"),f(),g("ngIf",r.tipo_usuario==="ADMINISTRADOR"||r.tipo_usuario==="RRHH"||r.tipo_usuario==="MENTOR"),f(),g("ngIf",r.tipo_usuario==="ADMINISTRADOR"||r.tipo_usuario==="RRHH"),f(),g("ngIf",r.tipo_usuario==="ADMINISTRADOR"||r.tipo_usuario==="RRHH"),f(),g("ngIf",r.tipo_usuario==="ADMINISTRADOR"||r.tipo_usuario==="RRHH"),f(),g("ngIf",r.tipo_usuario==="ADMINISTRADOR"),f(),g("ngIf",r.tipo_usuario==="ADMINISTRADOR"),f(),g("ngIf",r.tipo_usuario==="ADMINISTRADOR"),f(2),g("routerLink",Ge(19,h0,r.id)),f(2),g("ngIf",!r.sidebarCollapsed),f(5),g("ngIf",r.dropdownOpen))},dependencies:[an,U,ee,gi,sn,To],styles:[".flex-container[_ngcontent-%COMP%]{display:flex}#sidebar[_ngcontent-%COMP%]{transition:width .3s ease;width:250px;position:fixed;top:0;left:0;height:100vh;background:#b40036;color:#fff;z-index:1000;font-family:Roboto,sans-serif;font-size:15px;overflow-x:hidden}#sidebar.collapsed[_ngcontent-%COMP%]{width:80px}.sidebar-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:15px}.logo-text[_ngcontent-%COMP%]{margin-left:10px;font-size:16px;color:#fff}.navbar-nav[_ngcontent-%COMP%]{list-style:none;padding:0}.nav-item[_ngcontent-%COMP%]{margin:10px 0}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;color:#efefef;text-decoration:none;padding:10px 15px}.nav-link[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;margin-right:10px}.link-text[_ngcontent-%COMP%]{white-space:nowrap}.content[_ngcontent-%COMP%]{margin-left:250px;padding:20px;transition:margin-left .3s ease}#sidebar.collapsed[_ngcontent-%COMP%] ~ .content[_ngcontent-%COMP%]{margin-left:80px}.user-menu[_ngcontent-%COMP%]{position:fixed;top:10px;right:20px;display:flex;align-items:center;cursor:pointer}.user-menu[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;color:#333}.user-menu-dropdown[_ngcontent-%COMP%]{position:absolute;top:40px;right:0;background-color:#fff;border:1px solid #ddd;border-radius:5px;box-shadow:0 4px 8px #0000001a;padding:10px;z-index:1000;min-width:150px;white-space:nowrap}.user-menu-dropdown[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:14px;margin-bottom:10px;color:#333}.user-menu-dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;padding:5px 10px;border-radius:5px;font-size:14px;cursor:pointer}.user-menu-dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#0056b3}@media (max-width: 768px){#sidebar[_ngcontent-%COMP%]{width:80px}#sidebar[_ngcontent-%COMP%]   .link-text[_ngcontent-%COMP%]{display:none}.content[_ngcontent-%COMP%]{margin-left:80px}}.submenu[_ngcontent-%COMP%]{list-style:none;padding-left:20px;display:none}.submenu.open[_ngcontent-%COMP%]{display:block}.submenu[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-left:10px}"]});let t=e;return t})();var sr=(()=>{let e=class e{constructor(i){this.http=i,this.apiUrl="https://kururayback-app-a1f8360c6979.herokuapp.com"}obtenerEstadisticas(){let i=localStorage.getItem("token"),o=new X({Authorization:`Bearer ${i}`});return this.http.get(`${this.apiUrl}/dashboard/estadisticas`,{headers:o})}};e.\u0275fac=function(o){return new(o||e)(Ie(Le))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ao(t){return t+.5|0}var yi=(t,e,n)=>Math.max(Math.min(t,n),e);function oo(t){return yi(ao(t*2.55),0,255)}function Ci(t){return yi(ao(t*255),0,255)}function li(t){return yi(ao(t/2.55)/100,0,1)}function ld(t){return yi(ao(t*100),0,100)}var Bt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Fa=[..."0123456789ABCDEF"],b0=t=>Fa[t&15],_0=t=>Fa[(t&240)>>4]+Fa[t&15],lr=t=>(t&240)>>4===(t&15),v0=t=>lr(t.r)&&lr(t.g)&&lr(t.b)&&lr(t.a);function x0(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Bt[t[1]]*17,g:255&Bt[t[2]]*17,b:255&Bt[t[3]]*17,a:e===5?Bt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Bt[t[1]]<<4|Bt[t[2]],g:Bt[t[3]]<<4|Bt[t[4]],b:Bt[t[5]]<<4|Bt[t[6]],a:e===9?Bt[t[7]]<<4|Bt[t[8]]:255})),n}var y0=(t,e)=>t<255?e(t):"";function C0(t){var e=v0(t)?b0:_0;return t?"#"+e(t.r)+e(t.g)+e(t.b)+y0(t.a,e):void 0}var w0=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function md(t,e,n){let i=e*Math.min(n,1-n),o=(r,a=(r+t/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[o(0),o(8),o(4)]}function S0(t,e,n){let i=(o,r=(o+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function E0(t,e,n){let i=md(t,1,.5),o;for(e+n>1&&(o=1/(e+n),e*=o,n*=o),o=0;o<3;o++)i[o]*=1-e-n,i[o]+=e;return i}function M0(t,e,n,i,o){return t===o?(e-n)/i+(e<n?6:0):e===o?(n-t)/i+2:(t-e)/i+4}function Aa(t){let n=t.r/255,i=t.g/255,o=t.b/255,r=Math.max(n,i,o),a=Math.min(n,i,o),s=(r+a)/2,d,m,p;return r!==a&&(p=r-a,m=s>.5?p/(2-r-a):p/(r+a),d=M0(n,i,o,p,r),d=d*60+.5),[d|0,m||0,s]}function Oa(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Ci)}function Da(t,e,n){return Oa(md,t,e,n)}function k0(t,e,n){return Oa(E0,t,e,n)}function I0(t,e,n){return Oa(S0,t,e,n)}function pd(t){return(t%360+360)%360}function V0(t){let e=w0.exec(t),n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?oo(+e[5]):Ci(+e[5]));let o=pd(+e[2]),r=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=k0(o,r,a):e[1]==="hsv"?i=I0(o,r,a):i=Da(o,r,a),{r:i[0],g:i[1],b:i[2],a:n}}function P0(t,e){var n=Aa(t);n[0]=pd(n[0]+e),n=Da(n),t.r=n[0],t.g=n[1],t.b=n[2]}function F0(t){if(!t)return;let e=Aa(t),n=e[0],i=ld(e[1]),o=ld(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${o}%, ${li(t.a)})`:`hsl(${n}, ${i}%, ${o}%)`}var cd={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},dd={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function A0(){let t={},e=Object.keys(dd),n=Object.keys(cd),i,o,r,a,s;for(i=0;i<e.length;i++){for(a=s=e[i],o=0;o<n.length;o++)r=n[o],s=s.replace(r,cd[r]);r=parseInt(dd[a],16),t[s]=[r>>16&255,r>>8&255,r&255]}return t}var cr;function O0(t){cr||(cr=A0(),cr.transparent=[0,0,0,0]);let e=cr[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var D0=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function T0(t){let e=D0.exec(t),n=255,i,o,r;if(e){if(e[7]!==i){let a=+e[7];n=e[8]?oo(a):yi(a*255,0,255)}return i=+e[1],o=+e[3],r=+e[5],i=255&(e[2]?oo(i):yi(i,0,255)),o=255&(e[4]?oo(o):yi(o,0,255)),r=255&(e[6]?oo(r):yi(r,0,255)),{r:i,g:o,b:r,a:n}}}function N0(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${li(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}var Pa=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,wn=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function R0(t,e,n){let i=wn(li(t.r)),o=wn(li(t.g)),r=wn(li(t.b));return{r:Ci(Pa(i+n*(wn(li(e.r))-i))),g:Ci(Pa(o+n*(wn(li(e.g))-o))),b:Ci(Pa(r+n*(wn(li(e.b))-r))),a:t.a+n*(e.a-t.a)}}function dr(t,e,n){if(t){let i=Aa(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Da(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function fd(t,e){return t&&Object.assign(e||{},t)}function ud(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ci(t[3]))):(e=fd(t,{r:0,g:0,b:0,a:1}),e.a=Ci(e.a)),e}function L0(t){return t.charAt(0)==="r"?T0(t):V0(t)}var ro=class t{constructor(e){if(e instanceof t)return e;let n=typeof e,i;n==="object"?i=ud(e):n==="string"&&(i=x0(e)||O0(e)||L0(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=fd(this._rgb);return e&&(e.a=li(e.a)),e}set rgb(e){this._rgb=ud(e)}rgbString(){return this._valid?N0(this._rgb):void 0}hexString(){return this._valid?C0(this._rgb):void 0}hslString(){return this._valid?F0(this._rgb):void 0}mix(e,n){if(e){let i=this.rgb,o=e.rgb,r,a=n===r?.5:n,s=2*a-1,d=i.a-o.a,m=((s*d===-1?s:(s+d)/(1+s*d))+1)/2;r=1-m,i.r=255&m*i.r+r*o.r+.5,i.g=255&m*i.g+r*o.g+.5,i.b=255&m*i.b+r*o.b+.5,i.a=a*i.a+(1-a)*o.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=R0(this._rgb,e._rgb,n)),this}clone(){return new t(this.rgb)}alpha(e){return this._rgb.a=Ci(e),this}clearer(e){let n=this._rgb;return n.a*=1-e,this}greyscale(){let e=this._rgb,n=ao(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){let n=this._rgb;return n.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return dr(this._rgb,2,e),this}darken(e){return dr(this._rgb,2,-e),this}saturate(e){return dr(this._rgb,1,e),this}desaturate(e){return dr(this._rgb,1,-e),this}rotate(e){return P0(this._rgb,e),this}};function ti(){}var Ed=(()=>{let t=0;return()=>t++})();function Ce(t){return t==null}function ze(t){if(Array.isArray&&Array.isArray(t))return!0;let e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function be(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Qe(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Et(t,e){return Qe(t)?t:e}function re(t,e){return typeof t>"u"?e:t}var Md=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,La=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Oe(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ke(t,e,n,i){let o,r,a;if(ze(t))if(r=t.length,i)for(o=r-1;o>=0;o--)e.call(n,t[o],o);else for(o=0;o<r;o++)e.call(n,t[o],o);else if(be(t))for(a=Object.keys(t),r=a.length,o=0;o<r;o++)e.call(n,t[a[o]],a[o])}function co(t,e){let n,i,o,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(o=t[n],r=e[n],o.datasetIndex!==r.datasetIndex||o.index!==r.index)return!1;return!0}function fr(t){if(ze(t))return t.map(fr);if(be(t)){let e=Object.create(null),n=Object.keys(t),i=n.length,o=0;for(;o<i;++o)e[n[o]]=fr(t[n[o]]);return e}return t}function kd(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function B0(t,e,n,i){if(!kd(t))return;let o=e[t],r=n[t];be(o)&&be(r)?En(o,r,i):e[t]=fr(r)}function En(t,e,n){let i=ze(e)?e:[e],o=i.length;if(!be(t))return t;n=n||{};let r=n.merger||B0,a;for(let s=0;s<o;++s){if(a=i[s],!be(a))continue;let d=Object.keys(a);for(let m=0,p=d.length;m<p;++m)r(d[m],t,a,n)}return t}function kn(t,e){return En(t,e,{merger:z0})}function z0(t,e,n){if(!kd(t))return;let i=e[t],o=n[t];be(i)&&be(o)?kn(i,o):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=fr(o))}var hd={"":t=>t,x:t=>t.x,y:t=>t.y};function j0(t){let e=t.split("."),n=[],i="";for(let o of e)i+=o,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function $0(t){let e=j0(t);return n=>{for(let i of e){if(i==="")break;n=n&&n[i]}return n}}function ui(t,e){return(hd[e]||(hd[e]=$0(e)))(t)}function _r(t){return t.charAt(0).toUpperCase()+t.slice(1)}var In=t=>typeof t<"u",ci=t=>typeof t=="function",Ba=(t,e)=>{if(t.size!==e.size)return!1;for(let n of t)if(!e.has(n))return!1;return!0};function Id(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}var je=Math.PI,$e=2*je,H0=$e+je,hr=Number.POSITIVE_INFINITY,U0=je/180,et=je/2,Ui=je/4,gd=je*2/3,di=Math.log10,Xt=Math.sign;function Vn(t,e,n){return Math.abs(t-e)<n}function za(t){let e=Math.round(t);t=Vn(t,e,t/1e3)?e:t;let n=Math.pow(10,Math.floor(di(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Vd(t){let e=[],n=Math.sqrt(t),i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((o,r)=>o-r).pop(),e}function Wi(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Pd(t,e){let n=Math.round(t);return n-e<=t&&n+e>=t}function ja(t,e,n){let i,o,r;for(i=0,o=t.length;i<o;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function zt(t){return t*(je/180)}function vr(t){return t*(180/je)}function $a(t){if(!Qe(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Ha(t,e){let n=e.x-t.x,i=e.y-t.y,o=Math.sqrt(n*n+i*i),r=Math.atan2(i,n);return r<-.5*je&&(r+=$e),{angle:r,distance:o}}function gr(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function q0(t,e){return(t-e+H0)%$e-je}function St(t){return(t%$e+$e)%$e}function Pn(t,e,n,i){let o=St(t),r=St(e),a=St(n),s=St(r-o),d=St(a-o),m=St(o-r),p=St(o-a);return o===r||o===a||i&&r===a||s>d&&m<p}function st(t,e,n){return Math.max(e,Math.min(n,t))}function Fd(t){return st(t,-32768,32767)}function ii(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function xr(t,e,n){n=n||(a=>t[a]<e);let i=t.length-1,o=0,r;for(;i-o>1;)r=o+i>>1,n(r)?o=r:i=r;return{lo:o,hi:i}}var Qt=(t,e,n,i)=>xr(t,n,i?o=>{let r=t[o][e];return r<n||r===n&&t[o+1][e]===n}:o=>t[o][e]<n),Ad=(t,e,n)=>xr(t,n,i=>t[i][e]>=n);function Od(t,e,n){let i=0,o=t.length;for(;i<o&&t[i]<e;)i++;for(;o>i&&t[o-1]>n;)o--;return i>0||o<t.length?t.slice(i,o):t}var Dd=["push","pop","shift","splice","unshift"];function Td(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Dd.forEach(n=>{let i="_onData"+_r(n),o=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){let a=o.apply(this,r);return t._chartjs.listeners.forEach(s=>{typeof s[i]=="function"&&s[i](...r)}),a}})})}function Ua(t,e){let n=t._chartjs;if(!n)return;let i=n.listeners,o=i.indexOf(e);o!==-1&&i.splice(o,1),!(i.length>0)&&(Dd.forEach(r=>{delete t[r]}),delete t._chartjs)}function qa(t){let e=new Set(t);return e.size===t.length?t:Array.from(e)}var Ga=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Wa(t,e){let n=[],i=!1;return function(...o){n=o,i||(i=!0,Ga.call(window,()=>{i=!1,t.apply(e,n)}))}}function Nd(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}var yr=t=>t==="start"?"left":t==="end"?"right":"center",mt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Rd=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function Ya(t,e,n){let i=e.length,o=0,r=i;if(t._sorted){let{iScale:a,_parsed:s}=t,d=a.axis,{min:m,max:p,minDefined:h,maxDefined:b}=a.getUserBounds();h&&(o=st(Math.min(Qt(s,d,m).lo,n?i:Qt(e,d,a.getPixelForValue(m)).lo),0,i-1)),b?r=st(Math.max(Qt(s,a.axis,p,!0).hi+1,n?0:Qt(e,d,a.getPixelForValue(p),!0).hi+1),o,i)-o:r=i-o}return{start:o,count:r}}function Xa(t){let{xScale:e,yScale:n,_scaleRanges:i}=t,o={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=o,!0;let r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,o),r}var ur=t=>t===0||t===1,bd=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*$e/n)),_d=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*$e/n)+1,Sn={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*et)+1,easeOutSine:t=>Math.sin(t*et),easeInOutSine:t=>-.5*(Math.cos(je*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>ur(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ur(t)?t:bd(t,.075,.3),easeOutElastic:t=>ur(t)?t:_d(t,.075,.3),easeInOutElastic(t){return ur(t)?t:t<.5?.5*bd(t*2,.1125,.45):.5+.5*_d(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Sn.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Sn.easeInBounce(t*2)*.5:Sn.easeOutBounce(t*2-1)*.5+.5};function Ka(t){if(t&&typeof t=="object"){let e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Za(t){return Ka(t)?t:new ro(t)}function Ta(t){return Ka(t)?t:new ro(t).saturate(.5).darken(.1).hexString()}var G0=["x","y","borderWidth","radius","tension"],W0=["color","borderColor","backgroundColor"];function Y0(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:W0},numbers:{type:"number",properties:G0}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function X0(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var vd=new Map;function K0(t,e){e=e||{};let n=t+JSON.stringify(e),i=vd.get(n);return i||(i=new Intl.NumberFormat(t,e),vd.set(n,i)),i}function Fn(t,e,n){return K0(e,n).format(t)}var Ld={values(t){return ze(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";let i=this.chart.options.locale,o,r=t;if(n.length>1){let m=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(m<1e-4||m>1e15)&&(o="scientific"),r=Z0(t,n)}let a=di(Math.abs(r)),s=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),d={notation:o,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(d,this.options.ticks.format),Fn(t,i,d)},logarithmic(t,e,n){if(t===0)return"0";let i=n[e].significand||t/Math.pow(10,Math.floor(di(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?Ld.numeric.call(this,t,e,n):""}};function Z0(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var uo={formatters:Ld};function J0(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:uo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var Si=Object.create(null),Cr=Object.create(null);function so(t,e){if(!e)return t;let n=e.split(".");for(let i=0,o=n.length;i<o;++i){let r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function Na(t,e,n){return typeof e=="string"?En(so(t,e),n):En(so(t,""),e)}var Ra=class{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,o)=>Ta(o.backgroundColor),this.hoverBorderColor=(i,o)=>Ta(o.borderColor),this.hoverColor=(i,o)=>Ta(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Na(this,e,n)}get(e){return so(this,e)}describe(e,n){return Na(Cr,e,n)}override(e,n){return Na(Si,e,n)}route(e,n,i,o){let r=so(this,e),a=so(this,i),s="_"+n;Object.defineProperties(r,{[s]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){let d=this[s],m=a[o];return be(d)?Object.assign({},m,d):re(d,m)},set(d){this[s]=d}}})}apply(e){e.forEach(n=>n(this))}},Ue=new Ra({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Y0,X0,J0]);function Q0(t){return!t||Ce(t.size)||Ce(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function lo(t,e,n,i,o){let r=e[o];return r||(r=e[o]=t.measureText(o).width,n.push(o)),r>i&&(i=r),i}function Bd(t,e,n,i){i=i||{};let o=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(o=i.data={},r=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let a=0,s=n.length,d,m,p,h,b;for(d=0;d<s;d++)if(h=n[d],h!=null&&!ze(h))a=lo(t,o,r,a,h);else if(ze(h))for(m=0,p=h.length;m<p;m++)b=h[m],b!=null&&!ze(b)&&(a=lo(t,o,r,a,b));t.restore();let _=r.length/2;if(_>n.length){for(d=0;d<_;d++)delete o[r[d]];r.splice(0,_)}return a}function Ei(t,e,n){let i=t.currentDevicePixelRatio,o=n!==0?Math.max(n/2,.5):0;return Math.round((e-o)*i)/i+o}function Ja(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function wr(t,e,n,i){Qa(t,e,n,i,null)}function Qa(t,e,n,i,o){let r,a,s,d,m,p,h,b,_=e.pointStyle,x=e.rotation,C=e.radius,w=(x||0)*U0;if(_&&typeof _=="object"&&(r=_.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(w),t.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),t.restore();return}if(!(isNaN(C)||C<=0)){switch(t.beginPath(),_){default:o?t.ellipse(n,i,o/2,C,0,0,$e):t.arc(n,i,C,0,$e),t.closePath();break;case"triangle":p=o?o/2:C,t.moveTo(n+Math.sin(w)*p,i-Math.cos(w)*C),w+=gd,t.lineTo(n+Math.sin(w)*p,i-Math.cos(w)*C),w+=gd,t.lineTo(n+Math.sin(w)*p,i-Math.cos(w)*C),t.closePath();break;case"rectRounded":m=C*.516,d=C-m,a=Math.cos(w+Ui)*d,h=Math.cos(w+Ui)*(o?o/2-m:d),s=Math.sin(w+Ui)*d,b=Math.sin(w+Ui)*(o?o/2-m:d),t.arc(n-h,i-s,m,w-je,w-et),t.arc(n+b,i-a,m,w-et,w),t.arc(n+h,i+s,m,w,w+et),t.arc(n-b,i+a,m,w+et,w+je),t.closePath();break;case"rect":if(!x){d=Math.SQRT1_2*C,p=o?o/2:d,t.rect(n-p,i-d,2*p,2*d);break}w+=Ui;case"rectRot":h=Math.cos(w)*(o?o/2:C),a=Math.cos(w)*C,s=Math.sin(w)*C,b=Math.sin(w)*(o?o/2:C),t.moveTo(n-h,i-s),t.lineTo(n+b,i-a),t.lineTo(n+h,i+s),t.lineTo(n-b,i+a),t.closePath();break;case"crossRot":w+=Ui;case"cross":h=Math.cos(w)*(o?o/2:C),a=Math.cos(w)*C,s=Math.sin(w)*C,b=Math.sin(w)*(o?o/2:C),t.moveTo(n-h,i-s),t.lineTo(n+h,i+s),t.moveTo(n+b,i-a),t.lineTo(n-b,i+a);break;case"star":h=Math.cos(w)*(o?o/2:C),a=Math.cos(w)*C,s=Math.sin(w)*C,b=Math.sin(w)*(o?o/2:C),t.moveTo(n-h,i-s),t.lineTo(n+h,i+s),t.moveTo(n+b,i-a),t.lineTo(n-b,i+a),w+=Ui,h=Math.cos(w)*(o?o/2:C),a=Math.cos(w)*C,s=Math.sin(w)*C,b=Math.sin(w)*(o?o/2:C),t.moveTo(n-h,i-s),t.lineTo(n+h,i+s),t.moveTo(n+b,i-a),t.lineTo(n-b,i+a);break;case"line":a=o?o/2:Math.cos(w)*C,s=Math.sin(w)*C,t.moveTo(n-a,i-s),t.lineTo(n+a,i+s);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(w)*(o?o/2:C),i+Math.sin(w)*C);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ei(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function mo(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function po(t){t.restore()}function zd(t,e,n,i,o){if(!e)return t.lineTo(n.x,n.y);if(o==="middle"){let r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else o==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function jd(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function eb(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ce(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function tb(t,e,n,i,o){if(o.strikethrough||o.underline){let r=t.measureText(i),a=e-r.actualBoundingBoxLeft,s=e+r.actualBoundingBoxRight,d=n-r.actualBoundingBoxAscent,m=n+r.actualBoundingBoxDescent,p=o.strikethrough?(d+m)/2:m;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=o.decorationWidth||2,t.moveTo(a,p),t.lineTo(s,p),t.stroke()}}function ib(t,e){let n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Mi(t,e,n,i,o,r={}){let a=ze(e)?e:[e],s=r.strokeWidth>0&&r.strokeColor!=="",d,m;for(t.save(),t.font=o.string,eb(t,r),d=0;d<a.length;++d)m=a[d],r.backdrop&&ib(t,r.backdrop),s&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),Ce(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(m,n,i,r.maxWidth)),t.fillText(m,n,i,r.maxWidth),tb(t,n,i,m,r),i+=Number(o.lineHeight);t.restore()}function An(t,e){let{x:n,y:i,w:o,h:r,radius:a}=e;t.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*je,je,!0),t.lineTo(n,i+r-a.bottomLeft),t.arc(n+a.bottomLeft,i+r-a.bottomLeft,a.bottomLeft,je,et,!0),t.lineTo(n+o-a.bottomRight,i+r),t.arc(n+o-a.bottomRight,i+r-a.bottomRight,a.bottomRight,et,0,!0),t.lineTo(n+o,i+a.topRight),t.arc(n+o-a.topRight,i+a.topRight,a.topRight,0,-et,!0),t.lineTo(n+a.topLeft,i)}var nb=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ob=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function rb(t,e){let n=(""+t).match(nb);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}var ab=t=>+t||0;function Sr(t,e){let n={},i=be(e),o=i?Object.keys(e):e,r=be(t)?i?a=>re(t[a],t[e[a]]):a=>t[a]:()=>t;for(let a of o)n[a]=ab(r(a));return n}function es(t){return Sr(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ki(t){return Sr(t,["topLeft","topRight","bottomLeft","bottomRight"])}function pt(t){let e=es(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function nt(t,e){t=t||{},e=e||Ue.font;let n=re(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=re(t.style,e.style);i&&!(""+i).match(ob)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let o={family:re(t.family,e.family),lineHeight:rb(re(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:re(t.weight,e.weight),string:""};return o.string=Q0(o),o}function On(t,e,n,i){let o=!0,r,a,s;for(r=0,a=t.length;r<a;++r)if(s=t[r],s!==void 0&&(e!==void 0&&typeof s=="function"&&(s=s(e),o=!1),n!==void 0&&ze(s)&&(s=s[n%s.length],o=!1),s!==void 0))return i&&!o&&(i.cacheable=!1),s}function $d(t,e,n){let{min:i,max:o}=t,r=La(e,(o-i)/2),a=(s,d)=>n&&s===0?0:s+d;return{min:a(i,-Math.abs(r)),max:a(o,r)}}function mi(t,e){return Object.assign(Object.create(t),e)}function Er(t,e=[""],n,i,o=()=>t[0]){let r=n||t;typeof i>"u"&&(i=qd("_fallback",t));let a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:o,override:s=>Er([s,...t],e,r,i)};return new Proxy(a,{deleteProperty(s,d){return delete s[d],delete s._keys,delete t[0][d],!0},get(s,d){return Hd(s,d,()=>fb(d,e,t,s))},getOwnPropertyDescriptor(s,d){return Reflect.getOwnPropertyDescriptor(s._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(s,d){return yd(s).includes(d)},ownKeys(s){return yd(s)},set(s,d,m){let p=s._storage||(s._storage=o());return s[d]=p[d]=m,delete s._keys,!0}})}function Gi(t,e,n,i){let o={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:ts(t,i),setContext:r=>Gi(t,r,n,i),override:r=>Gi(t.override(r),e,n,i)};return new Proxy(o,{deleteProperty(r,a){return delete r[a],delete t[a],!0},get(r,a,s){return Hd(r,a,()=>lb(r,a,s))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(r,a,s){return t[a]=s,delete r[a],!0}})}function ts(t,e={scriptable:!0,indexable:!0}){let{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:o=e.allKeys}=t;return{allKeys:o,scriptable:n,indexable:i,isScriptable:ci(n)?n:()=>n,isIndexable:ci(i)?i:()=>i}}var sb=(t,e)=>t?t+_r(e):e,is=(t,e)=>be(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Hd(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];let i=n();return t[e]=i,i}function lb(t,e,n){let{_proxy:i,_context:o,_subProxy:r,_descriptors:a}=t,s=i[e];return ci(s)&&a.isScriptable(e)&&(s=cb(e,s,t,n)),ze(s)&&s.length&&(s=db(e,s,t,a.isIndexable)),is(e,s)&&(s=Gi(s,o,r&&r[e],a)),s}function cb(t,e,n,i){let{_proxy:o,_context:r,_subProxy:a,_stack:s}=n;if(s.has(t))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+t);s.add(t);let d=e(r,a||i);return s.delete(t),is(t,d)&&(d=ns(o._scopes,o,t,d)),d}function db(t,e,n,i){let{_proxy:o,_context:r,_subProxy:a,_descriptors:s}=n;if(typeof r.index<"u"&&i(t))return e[r.index%e.length];if(be(e[0])){let d=e,m=o._scopes.filter(p=>p!==d);e=[];for(let p of d){let h=ns(m,o,t,p);e.push(Gi(h,r,a&&a[t],s))}}return e}function Ud(t,e,n){return ci(t)?t(e,n):t}var ub=(t,e)=>t===!0?e:typeof t=="string"?ui(e,t):void 0;function mb(t,e,n,i,o){for(let r of e){let a=ub(n,r);if(a){t.add(a);let s=Ud(a._fallback,n,o);if(typeof s<"u"&&s!==n&&s!==i)return s}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function ns(t,e,n,i){let o=e._rootScopes,r=Ud(e._fallback,n,i),a=[...t,...o],s=new Set;s.add(i);let d=xd(s,a,n,r||n,i);return d===null||typeof r<"u"&&r!==n&&(d=xd(s,a,r,d,i),d===null)?!1:Er(Array.from(s),[""],o,r,()=>pb(e,n,i))}function xd(t,e,n,i,o){for(;n;)n=mb(t,e,n,i,o);return n}function pb(t,e,n){let i=t._getTarget();e in i||(i[e]={});let o=i[e];return ze(o)&&be(n)?n:o||{}}function fb(t,e,n,i){let o;for(let r of e)if(o=qd(sb(r,t),n),typeof o<"u")return is(t,o)?ns(n,i,t,o):o}function qd(t,e){for(let n of e){if(!n)continue;let i=n[t];if(typeof i<"u")return i}}function yd(t){let e=t._keys;return e||(e=t._keys=hb(t._scopes)),e}function hb(t){let e=new Set;for(let n of t)for(let i of Object.keys(n).filter(o=>!o.startsWith("_")))e.add(i);return Array.from(e)}function os(t,e,n,i){let{iScale:o}=t,{key:r="r"}=this._parsing,a=new Array(i),s,d,m,p;for(s=0,d=i;s<d;++s)m=s+n,p=e[m],a[s]={r:o.parse(ui(p,r),m)};return a}var gb=Number.EPSILON||1e-14,Mn=(t,e)=>e<t.length&&!t[e].skip&&t[e],Gd=t=>t==="x"?"y":"x";function bb(t,e,n,i){let o=t.skip?e:t,r=e,a=n.skip?e:n,s=gr(r,o),d=gr(a,r),m=s/(s+d),p=d/(s+d);m=isNaN(m)?0:m,p=isNaN(p)?0:p;let h=i*m,b=i*p;return{previous:{x:r.x-h*(a.x-o.x),y:r.y-h*(a.y-o.y)},next:{x:r.x+b*(a.x-o.x),y:r.y+b*(a.y-o.y)}}}function _b(t,e,n){let i=t.length,o,r,a,s,d,m=Mn(t,0);for(let p=0;p<i-1;++p)if(d=m,m=Mn(t,p+1),!(!d||!m)){if(Vn(e[p],0,gb)){n[p]=n[p+1]=0;continue}o=n[p]/e[p],r=n[p+1]/e[p],s=Math.pow(o,2)+Math.pow(r,2),!(s<=9)&&(a=3/Math.sqrt(s),n[p]=o*a*e[p],n[p+1]=r*a*e[p])}}function vb(t,e,n="x"){let i=Gd(n),o=t.length,r,a,s,d=Mn(t,0);for(let m=0;m<o;++m){if(a=s,s=d,d=Mn(t,m+1),!s)continue;let p=s[n],h=s[i];a&&(r=(p-a[n])/3,s[`cp1${n}`]=p-r,s[`cp1${i}`]=h-r*e[m]),d&&(r=(d[n]-p)/3,s[`cp2${n}`]=p+r,s[`cp2${i}`]=h+r*e[m])}}function xb(t,e="x"){let n=Gd(e),i=t.length,o=Array(i).fill(0),r=Array(i),a,s,d,m=Mn(t,0);for(a=0;a<i;++a)if(s=d,d=m,m=Mn(t,a+1),!!d){if(m){let p=m[e]-d[e];o[a]=p!==0?(m[n]-d[n])/p:0}r[a]=s?m?Xt(o[a-1])!==Xt(o[a])?0:(o[a-1]+o[a])/2:o[a-1]:o[a]}_b(t,o,r),vb(t,r,e)}function mr(t,e,n){return Math.max(Math.min(t,n),e)}function yb(t,e){let n,i,o,r,a,s=ei(t[0],e);for(n=0,i=t.length;n<i;++n)a=r,r=s,s=n<i-1&&ei(t[n+1],e),r&&(o=t[n],a&&(o.cp1x=mr(o.cp1x,e.left,e.right),o.cp1y=mr(o.cp1y,e.top,e.bottom)),s&&(o.cp2x=mr(o.cp2x,e.left,e.right),o.cp2y=mr(o.cp2y,e.top,e.bottom)))}function Wd(t,e,n,i,o){let r,a,s,d;if(e.spanGaps&&(t=t.filter(m=>!m.skip)),e.cubicInterpolationMode==="monotone")xb(t,o);else{let m=i?t[t.length-1]:t[0];for(r=0,a=t.length;r<a;++r)s=t[r],d=bb(m,s,t[Math.min(r+1,a-(i?0:1))%a],e.tension),s.cp1x=d.previous.x,s.cp1y=d.previous.y,s.cp2x=d.next.x,s.cp2y=d.next.y,m=s}e.capBezierPoints&&yb(t,n)}function Mr(){return typeof window<"u"&&typeof document<"u"}function kr(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function br(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}var Ir=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Cb(t,e){return Ir(t).getPropertyValue(e)}var wb=["top","right","bottom","left"];function qi(t,e,n){let i={};n=n?"-"+n:"";for(let o=0;o<4;o++){let r=wb[o];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var Sb=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Eb(t,e){let n=t.touches,i=n&&n.length?n[0]:t,{offsetX:o,offsetY:r}=i,a=!1,s,d;if(Sb(o,r,t.target))s=o,d=r;else{let m=e.getBoundingClientRect();s=i.clientX-m.left,d=i.clientY-m.top,a=!0}return{x:s,y:d,box:a}}function Ii(t,e){if("native"in t)return t;let{canvas:n,currentDevicePixelRatio:i}=e,o=Ir(n),r=o.boxSizing==="border-box",a=qi(o,"padding"),s=qi(o,"border","width"),{x:d,y:m,box:p}=Eb(t,n),h=a.left+(p&&s.left),b=a.top+(p&&s.top),{width:_,height:x}=e;return r&&(_-=a.width+s.width,x-=a.height+s.height),{x:Math.round((d-h)/_*n.width/i),y:Math.round((m-b)/x*n.height/i)}}function Mb(t,e,n){let i,o;if(e===void 0||n===void 0){let r=t&&kr(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{let a=r.getBoundingClientRect(),s=Ir(r),d=qi(s,"border","width"),m=qi(s,"padding");e=a.width-m.width-d.width,n=a.height-m.height-d.height,i=br(s.maxWidth,r,"clientWidth"),o=br(s.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||hr,maxHeight:o||hr}}var pr=t=>Math.round(t*10)/10;function Yd(t,e,n,i){let o=Ir(t),r=qi(o,"margin"),a=br(o.maxWidth,t,"clientWidth")||hr,s=br(o.maxHeight,t,"clientHeight")||hr,d=Mb(t,e,n),{width:m,height:p}=d;if(o.boxSizing==="content-box"){let b=qi(o,"border","width"),_=qi(o,"padding");m-=_.width+b.width,p-=_.height+b.height}return m=Math.max(0,m-r.width),p=Math.max(0,i?m/i:p-r.height),m=pr(Math.min(m,a,d.maxWidth)),p=pr(Math.min(p,s,d.maxHeight)),m&&!p&&(p=pr(m/2)),(e!==void 0||n!==void 0)&&i&&d.height&&p>d.height&&(p=d.height,m=pr(Math.floor(p*i))),{width:m,height:p}}function rs(t,e,n){let i=e||1,o=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);let a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||a.height!==o||a.width!==r?(t.currentDevicePixelRatio=i,a.height=o,a.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}var Xd=function(){let t=!1;try{let e={get passive(){return t=!0,!1}};Mr()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function as(t,e){let n=Cb(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function wi(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Kd(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Zd(t,e,n,i){let o={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},a=wi(t,o,n),s=wi(o,r,n),d=wi(r,e,n),m=wi(a,s,n),p=wi(s,d,n);return wi(m,p,n)}var kb=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},Ib=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Yi(t,e,n){return t?kb(e,n):Ib()}function ss(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function ls(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Jd(t){return t==="angle"?{between:Pn,compare:q0,normalize:St}:{between:ii,compare:(e,n)=>e-n,normalize:e=>e}}function Cd({start:t,end:e,count:n,loop:i,style:o}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:o}}function Vb(t,e,n){let{property:i,start:o,end:r}=n,{between:a,normalize:s}=Jd(i),d=e.length,{start:m,end:p,loop:h}=t,b,_;if(h){for(m+=d,p+=d,b=0,_=d;b<_&&a(s(e[m%d][i]),o,r);++b)m--,p--;m%=d,p%=d}return p<m&&(p+=d),{start:m,end:p,loop:h,style:t.style}}function cs(t,e,n){if(!n)return[t];let{property:i,start:o,end:r}=n,a=e.length,{compare:s,between:d,normalize:m}=Jd(i),{start:p,end:h,loop:b,style:_}=Vb(t,e,n),x=[],C=!1,w=null,P,V,N,B=()=>d(o,N,P)&&s(o,N)!==0,O=()=>s(r,P)===0||d(r,N,P),L=()=>C||B(),G=()=>!C||O();for(let $=p,W=p;$<=h;++$)V=e[$%a],!V.skip&&(P=m(V[i]),P!==N&&(C=d(P,o,r),w===null&&L()&&(w=s(P,o)===0?$:W),w!==null&&G()&&(x.push(Cd({start:w,end:$,loop:b,count:a,style:_})),w=null),W=$,N=P));return w!==null&&x.push(Cd({start:w,end:h,loop:b,count:a,style:_})),x}function ds(t,e){let n=[],i=t.segments;for(let o=0;o<i.length;o++){let r=cs(i[o],t.points,e);r.length&&n.push(...r)}return n}function Pb(t,e,n,i){let o=0,r=e-1;if(n&&!i)for(;o<e&&!t[o].skip;)o++;for(;o<e&&t[o].skip;)o++;for(o%=e,n&&(r+=o);r>o&&t[r%e].skip;)r--;return r%=e,{start:o,end:r}}function Fb(t,e,n,i){let o=t.length,r=[],a=e,s=t[e],d;for(d=e+1;d<=n;++d){let m=t[d%o];m.skip||m.stop?s.skip||(i=!1,r.push({start:e%o,end:(d-1)%o,loop:i}),e=a=m.stop?d:null):(a=d,s.skip&&(e=d)),s=m}return a!==null&&r.push({start:e%o,end:a%o,loop:i}),r}function Qd(t,e){let n=t.points,i=t.options.spanGaps,o=n.length;if(!o)return[];let r=!!t._loop,{start:a,end:s}=Pb(n,o,r,i);if(i===!0)return wd(t,[{start:a,end:s,loop:r}],n,e);let d=s<a?s+o:s,m=!!t._fullLoop&&a===0&&s===o-1;return wd(t,Fb(n,a,d,m),n,e)}function wd(t,e,n,i){return!i||!i.setContext||!n?e:Ab(t,e,n,i)}function Ab(t,e,n,i){let o=t._chart.getContext(),r=Sd(t.options),{_datasetIndex:a,options:{spanGaps:s}}=t,d=n.length,m=[],p=r,h=e[0].start,b=h;function _(x,C,w,P){let V=s?-1:1;if(x!==C){for(x+=d;n[x%d].skip;)x-=V;for(;n[C%d].skip;)C+=V;x%d!==C%d&&(m.push({start:x%d,end:C%d,loop:w,style:P}),p=P,h=C%d)}}for(let x of e){h=s?h:x.start;let C=n[h%d],w;for(b=h+1;b<=x.end;b++){let P=n[b%d];w=Sd(i.setContext(mi(o,{type:"segment",p0:C,p1:P,p0DataIndex:(b-1)%d,p1DataIndex:b%d,datasetIndex:a}))),Ob(w,p)&&_(h,b-1,x.loop,p),C=P,p=w}h<b-1&&_(h,b-1,x.loop,p)}return m}function Sd(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Ob(t,e){if(!e)return!1;let n=[],i=function(o,r){return Ka(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,i)!==JSON.stringify(e,i)}var ys=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,o){let r=n.listeners[o],a=n.duration;r.forEach(s=>s({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Ga.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;let r=i.items,a=r.length-1,s=!1,d;for(;a>=0;--a)d=r[a],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(e),s=!0):(r[a]=r[r.length-1],r.pop());s&&(o.draw(),this._notify(o,i,e,"progress")),r.length||(i.running=!1,this._notify(o,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){let n=this._charts,i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){let n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,o)=>Math.max(i,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;let n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){let n=this._charts.get(e);if(!n||!n.items.length)return;let i=n.items,o=i.length-1;for(;o>=0;--o)i[o].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},pi=new ys,eu="transparent",Db={boolean(t,e,n){return n>.5?e:t},color(t,e,n){let i=Za(t||eu),o=i.valid&&Za(e||eu);return o&&o.valid?o.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}},Cs=class{constructor(e,n,i,o){let r=n[i];o=On([e.to,o,r,e.from]);let a=On([e.from,r,o]);this._active=!0,this._fn=e.fn||Db[e.type||typeof a],this._easing=Sn[e.easing]||Sn.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=a,this._to=o,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);let o=this._target[this._prop],r=i-this._start,a=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=On([e.to,n,o,e.from]),this._from=On([e.from,o,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let n=e-this._start,i=this._duration,o=this._prop,r=this._from,a=this._loop,s=this._to,d;if(this._active=r!==s&&(a||n<i),!this._active){this._target[o]=s,this._notify(!0);return}if(n<0){this._target[o]=r;return}d=n/i%2,d=a&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[o]=this._fn(r,s,d)}wait(){let e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){let n=e?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][n]()}},Lr=class{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!be(e))return;let n=Object.keys(Ue.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{let r=e[o];if(!be(r))return;let a={};for(let s of n)a[s]=r[s];(ze(r.properties)&&r.properties||[o]).forEach(s=>{(s===o||!i.has(s))&&i.set(s,a)})})}_animateOptions(e,n){let i=n.options,o=Nb(e,i);if(!o)return[];let r=this._createAnimations(o,i);return i.$shared&&Tb(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){let i=this._properties,o=[],r=e.$animations||(e.$animations={}),a=Object.keys(n),s=Date.now(),d;for(d=a.length-1;d>=0;--d){let m=a[d];if(m.charAt(0)==="$")continue;if(m==="options"){o.push(...this._animateOptions(e,n));continue}let p=n[m],h=r[m],b=i.get(m);if(h)if(b&&h.active()){h.update(b,p,s);continue}else h.cancel();if(!b||!b.duration){e[m]=p;continue}r[m]=h=new Cs(b,e,m,p),o.push(h)}return o}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}let i=this._createAnimations(e,n);if(i.length)return pi.add(this._chart,i),!0}};function Tb(t,e){let n=[],i=Object.keys(e);for(let o=0;o<i.length;o++){let r=t[i[o]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function Nb(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function tu(t,e){let n=t&&t.options||{},i=n.reverse,o=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:o,end:i?o:r}}function Rb(t,e,n){if(n===!1)return!1;let i=tu(t,n),o=tu(e,n);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}function Lb(t){let e,n,i,o;return be(t)?(e=t.top,n=t.right,i=t.bottom,o=t.left):e=n=i=o=t,{top:e,right:n,bottom:i,left:o,disabled:t===!1}}function em(t,e){let n=[],i=t._getSortedDatasetMetas(e),o,r;for(o=0,r=i.length;o<r;++o)n.push(i[o].index);return n}function iu(t,e,n,i={}){let o=t.keys,r=i.mode==="single",a,s,d,m;if(e===null)return;let p=!1;for(a=0,s=o.length;a<s;++a){if(d=+o[a],d===n){if(p=!0,i.all)continue;break}m=t.values[d],Qe(m)&&(r||e===0||Xt(e)===Xt(m))&&(e+=m)}return!p&&!i.all?0:e}function Bb(t,e){let{iScale:n,vScale:i}=e,o=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",a=Object.keys(t),s=new Array(a.length),d,m,p;for(d=0,m=a.length;d<m;++d)p=a[d],s[d]={[o]:p,[r]:t[p]};return s}function us(t,e){let n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function zb(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function jb(t){let{min:e,max:n,minDefined:i,maxDefined:o}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:o?n:Number.POSITIVE_INFINITY}}function $b(t,e,n){let i=t[e]||(t[e]={});return i[n]||(i[n]={})}function nu(t,e,n,i){for(let o of e.getMatchingVisibleMetas(i).reverse()){let r=t[o.index];if(n&&r>0||!n&&r<0)return o.index}return null}function ou(t,e){let{chart:n,_cachedMeta:i}=t,o=n._stacks||(n._stacks={}),{iScale:r,vScale:a,index:s}=i,d=r.axis,m=a.axis,p=zb(r,a,i),h=e.length,b;for(let _=0;_<h;++_){let x=e[_],{[d]:C,[m]:w}=x,P=x._stacks||(x._stacks={});b=P[m]=$b(o,p,C),b[s]=w,b._top=nu(b,a,!0,i.type),b._bottom=nu(b,a,!1,i.type);let V=b._visualValues||(b._visualValues={});V[s]=w}}function ms(t,e){let n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function Hb(t,e){return mi(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Ub(t,e,n){return mi(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function fo(t,e){let n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(let o of e){let r=o._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}var ps=t=>t==="reset"||t==="none",ru=(t,e)=>e?t:Object.assign({},t),qb=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:em(n,!0),values:null},Pi=(()=>{class t{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(n,i){this.chart=n,this._ctx=n.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let n=this._cachedMeta;this.configure(),this.linkScales(),n._stacked=us(n.vScale,n),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(n){this.index!==n&&fo(this._cachedMeta),this.index=n}linkScales(){let n=this.chart,i=this._cachedMeta,o=this.getDataset(),r=(b,_,x,C)=>b==="x"?_:b==="r"?C:x,a=i.xAxisID=re(o.xAxisID,ms(n,"x")),s=i.yAxisID=re(o.yAxisID,ms(n,"y")),d=i.rAxisID=re(o.rAxisID,ms(n,"r")),m=i.indexAxis,p=i.iAxisID=r(m,a,s,d),h=i.vAxisID=r(m,s,a,d);i.xScale=this.getScaleForId(a),i.yScale=this.getScaleForId(s),i.rScale=this.getScaleForId(d),i.iScale=this.getScaleForId(p),i.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(n){return this.chart.scales[n]}_getOtherScale(n){let i=this._cachedMeta;return n===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let n=this._cachedMeta;this._data&&Ua(this._data,this),n._stacked&&fo(n)}_dataCheck(){let n=this.getDataset(),i=n.data||(n.data=[]),o=this._data;if(be(i)){let r=this._cachedMeta;this._data=Bb(i,r)}else if(o!==i){if(o){Ua(o,this);let r=this._cachedMeta;fo(r),r._parsed=[]}i&&Object.isExtensible(i)&&Td(i,this),this._syncList=[],this._data=i}}addElements(){let n=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(n.dataset=new this.datasetElementType)}buildOrUpdateElements(n){let i=this._cachedMeta,o=this.getDataset(),r=!1;this._dataCheck();let a=i._stacked;i._stacked=us(i.vScale,i),i.stack!==o.stack&&(r=!0,fo(i),i.stack=o.stack),this._resyncElements(n),(r||a!==i._stacked)&&(ou(this,i._parsed),i._stacked=us(i.vScale,i))}configure(){let n=this.chart.config,i=n.datasetScopeKeys(this._type),o=n.getOptionScopes(this.getDataset(),i,!0);this.options=n.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(n,i){let{_cachedMeta:o,_data:r}=this,{iScale:a,_stacked:s}=o,d=a.axis,m=n===0&&i===r.length?!0:o._sorted,p=n>0&&o._parsed[n-1],h,b,_;if(this._parsing===!1)o._parsed=r,o._sorted=!0,_=r;else{ze(r[n])?_=this.parseArrayData(o,r,n,i):be(r[n])?_=this.parseObjectData(o,r,n,i):_=this.parsePrimitiveData(o,r,n,i);let x=()=>b[d]===null||p&&b[d]<p[d];for(h=0;h<i;++h)o._parsed[h+n]=b=_[h],m&&(x()&&(m=!1),p=b);o._sorted=m}s&&ou(this,_)}parsePrimitiveData(n,i,o,r){let{iScale:a,vScale:s}=n,d=a.axis,m=s.axis,p=a.getLabels(),h=a===s,b=new Array(r),_,x,C;for(_=0,x=r;_<x;++_)C=_+o,b[_]={[d]:h||a.parse(p[C],C),[m]:s.parse(i[C],C)};return b}parseArrayData(n,i,o,r){let{xScale:a,yScale:s}=n,d=new Array(r),m,p,h,b;for(m=0,p=r;m<p;++m)h=m+o,b=i[h],d[m]={x:a.parse(b[0],h),y:s.parse(b[1],h)};return d}parseObjectData(n,i,o,r){let{xScale:a,yScale:s}=n,{xAxisKey:d="x",yAxisKey:m="y"}=this._parsing,p=new Array(r),h,b,_,x;for(h=0,b=r;h<b;++h)_=h+o,x=i[_],p[h]={x:a.parse(ui(x,d),_),y:s.parse(ui(x,m),_)};return p}getParsed(n){return this._cachedMeta._parsed[n]}getDataElement(n){return this._cachedMeta.data[n]}applyStack(n,i,o){let r=this.chart,a=this._cachedMeta,s=i[n.axis],d={keys:em(r,!0),values:i._stacks[n.axis]._visualValues};return iu(d,s,a.index,{mode:o})}updateRangeFromParsed(n,i,o,r){let a=o[i.axis],s=a===null?NaN:a,d=r&&o._stacks[i.axis];r&&d&&(r.values=d,s=iu(r,a,this._cachedMeta.index)),n.min=Math.min(n.min,s),n.max=Math.max(n.max,s)}getMinMax(n,i){let o=this._cachedMeta,r=o._parsed,a=o._sorted&&n===o.iScale,s=r.length,d=this._getOtherScale(n),m=qb(i,o,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:b}=jb(d),_,x;function C(){x=r[_];let w=x[d.axis];return!Qe(x[n.axis])||h>w||b<w}for(_=0;_<s&&!(!C()&&(this.updateRangeFromParsed(p,n,x,m),a));++_);if(a){for(_=s-1;_>=0;--_)if(!C()){this.updateRangeFromParsed(p,n,x,m);break}}return p}getAllParsedValues(n){let i=this._cachedMeta._parsed,o=[],r,a,s;for(r=0,a=i.length;r<a;++r)s=i[r][n.axis],Qe(s)&&o.push(s);return o}getMaxOverflow(){return!1}getLabelAndValue(n){let i=this._cachedMeta,o=i.iScale,r=i.vScale,a=this.getParsed(n);return{label:o?""+o.getLabelForValue(a[o.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}_update(n){let i=this._cachedMeta;this.update(n||"default"),i._clip=Lb(re(this.options.clip,Rb(i.xScale,i.yScale,this.getMaxOverflow())))}update(n){}draw(){let n=this._ctx,i=this.chart,o=this._cachedMeta,r=o.data||[],a=i.chartArea,s=[],d=this._drawStart||0,m=this._drawCount||r.length-d,p=this.options.drawActiveElementsOnTop,h;for(o.dataset&&o.dataset.draw(n,a,d,m),h=d;h<d+m;++h){let b=r[h];b.hidden||(b.active&&p?s.push(b):b.draw(n,a))}for(h=0;h<s.length;++h)s[h].draw(n,a)}getStyle(n,i){let o=i?"active":"default";return n===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(n||0,o)}getContext(n,i,o){let r=this.getDataset(),a;if(n>=0&&n<this._cachedMeta.data.length){let s=this._cachedMeta.data[n];a=s.$context||(s.$context=Ub(this.getContext(),n,s)),a.parsed=this.getParsed(n),a.raw=r.data[n],a.index=a.dataIndex=n}else a=this.$context||(this.$context=Hb(this.chart.getContext(),this.index)),a.dataset=r,a.index=a.datasetIndex=this.index;return a.active=!!i,a.mode=o,a}resolveDatasetElementOptions(n){return this._resolveElementOptions(this.datasetElementType.id,n)}resolveDataElementOptions(n,i){return this._resolveElementOptions(this.dataElementType.id,i,n)}_resolveElementOptions(n,i="default",o){let r=i==="active",a=this._cachedDataOpts,s=n+"-"+i,d=a[s],m=this.enableOptionSharing&&In(o);if(d)return ru(d,m);let p=this.chart.config,h=p.datasetElementScopeKeys(this._type,n),b=r?[`${n}Hover`,"hover",n,""]:[n,""],_=p.getOptionScopes(this.getDataset(),h),x=Object.keys(Ue.elements[n]),C=()=>this.getContext(o,r,i),w=p.resolveNamedOptions(_,x,C,b);return w.$shared&&(w.$shared=m,a[s]=Object.freeze(ru(w,m))),w}_resolveAnimations(n,i,o){let r=this.chart,a=this._cachedDataOpts,s=`animation-${i}`,d=a[s];if(d)return d;let m;if(r.options.animation!==!1){let h=this.chart.config,b=h.datasetAnimationScopeKeys(this._type,i),_=h.getOptionScopes(this.getDataset(),b);m=h.createResolver(_,this.getContext(n,o,i))}let p=new Lr(r,m&&m.animations);return m&&m._cacheable&&(a[s]=Object.freeze(p)),p}getSharedOptions(n){if(n.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},n))}includeOptions(n,i){return!i||ps(n)||this.chart._animationsDisabled}_getSharedOptions(n,i){let o=this.resolveDataElementOptions(n,i),r=this._sharedOptions,a=this.getSharedOptions(o),s=this.includeOptions(i,a)||a!==r;return this.updateSharedOptions(a,i,o),{sharedOptions:a,includeOptions:s}}updateElement(n,i,o,r){ps(r)?Object.assign(n,o):this._resolveAnimations(i,r).update(n,o)}updateSharedOptions(n,i,o){n&&!ps(i)&&this._resolveAnimations(void 0,i).update(n,o)}_setStyle(n,i,o,r){n.active=r;let a=this.getStyle(i,r);this._resolveAnimations(i,o,r).update(n,{options:!r&&this.getSharedOptions(a)||a})}removeHoverStyle(n,i,o){this._setStyle(n,o,"active",!1)}setHoverStyle(n,i,o){this._setStyle(n,o,"active",!0)}_removeDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!1)}_setDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!0)}_resyncElements(n){let i=this._data,o=this._cachedMeta.data;for(let[d,m,p]of this._syncList)this[d](m,p);this._syncList=[];let r=o.length,a=i.length,s=Math.min(a,r);s&&this.parse(0,s),a>r?this._insertElements(r,a-r,n):a<r&&this._removeElements(a,r-a)}_insertElements(n,i,o=!0){let r=this._cachedMeta,a=r.data,s=n+i,d,m=p=>{for(p.length+=i,d=p.length-1;d>=s;d--)p[d]=p[d-i]};for(m(a),d=n;d<s;++d)a[d]=new this.dataElementType;this._parsing&&m(r._parsed),this.parse(n,i),o&&this.updateElements(a,n,i,"reset")}updateElements(n,i,o,r){}_removeElements(n,i){let o=this._cachedMeta;if(this._parsing){let r=o._parsed.splice(n,i);o._stacked&&fo(o,r)}o.data.splice(n,i)}_sync(n){if(this._parsing)this._syncList.push(n);else{let[i,o,r]=n;this[i](o,r)}this.chart._dataChanges.push([this.index,...n])}_onDataPush(){let n=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-n,n])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(n,i){i&&this._sync(["_removeElements",n,i]);let o=arguments.length-2;o&&this._sync(["_insertElements",n,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t})();function Gb(t,e){if(!t._cache.$bar){let n=t.getMatchingVisibleMetas(e),i=[];for(let o=0,r=n.length;o<r;o++)i=i.concat(n[o].controller.getAllParsedValues(t));t._cache.$bar=qa(i.sort((o,r)=>o-r))}return t._cache.$bar}function Wb(t){let e=t.iScale,n=Gb(e,t.type),i=e._length,o,r,a,s,d=()=>{a===32767||a===-32768||(In(s)&&(i=Math.min(i,Math.abs(a-s)||i)),s=a)};for(o=0,r=n.length;o<r;++o)a=e.getPixelForValue(n[o]),d();for(s=void 0,o=0,r=e.ticks.length;o<r;++o)a=e.getPixelForTick(o),d();return i}function Yb(t,e,n,i){let o=n.barThickness,r,a;return Ce(o)?(r=e.min*n.categoryPercentage,a=n.barPercentage):(r=o*i,a=1),{chunk:r/i,ratio:a,start:e.pixels[t]-r/2}}function Xb(t,e,n,i){let o=e.pixels,r=o[t],a=t>0?o[t-1]:null,s=t<o.length-1?o[t+1]:null,d=n.categoryPercentage;a===null&&(a=r-(s===null?e.end-e.start:s-r)),s===null&&(s=r+r-a);let m=r-(r-Math.min(a,s))/2*d;return{chunk:Math.abs(s-a)/2*d/i,ratio:n.barPercentage,start:m}}function Kb(t,e,n,i){let o=n.parse(t[0],i),r=n.parse(t[1],i),a=Math.min(o,r),s=Math.max(o,r),d=a,m=s;Math.abs(a)>Math.abs(s)&&(d=s,m=a),e[n.axis]=m,e._custom={barStart:d,barEnd:m,start:o,end:r,min:a,max:s}}function tm(t,e,n,i){return ze(t)?Kb(t,e,n,i):e[n.axis]=n.parse(t,i),e}function au(t,e,n,i){let o=t.iScale,r=t.vScale,a=o.getLabels(),s=o===r,d=[],m,p,h,b;for(m=n,p=n+i;m<p;++m)b=e[m],h={},h[o.axis]=s||o.parse(a[m],m),d.push(tm(b,h,r,m));return d}function fs(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Zb(t,e,n){return t!==0?Xt(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function Jb(t){let e,n,i,o,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(o="end",r="start"):(o="start",r="end"),{start:n,end:i,reverse:e,top:o,bottom:r}}function Qb(t,e,n,i){let o=e.borderSkipped,r={};if(!o){t.borderSkipped=r;return}if(o===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:a,end:s,reverse:d,top:m,bottom:p}=Jb(t);o==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?o=m:(n._bottom||0)===i?o=p:(r[su(p,a,s,d)]=!0,o=m)),r[su(o,a,s,d)]=!0,t.borderSkipped=r}function su(t,e,n,i){return i?(t=e_(t,e,n),t=lu(t,n,e)):t=lu(t,e,n),t}function e_(t,e,n){return t===e?n:t===n?e:t}function lu(t,e,n){return t==="start"?e:t==="end"?n:t}function t_(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}var i_=(()=>{class t extends Pi{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(n,i,o,r){return au(n,i,o,r)}parseArrayData(n,i,o,r){return au(n,i,o,r)}parseObjectData(n,i,o,r){let{iScale:a,vScale:s}=n,{xAxisKey:d="x",yAxisKey:m="y"}=this._parsing,p=a.axis==="x"?d:m,h=s.axis==="x"?d:m,b=[],_,x,C,w;for(_=o,x=o+r;_<x;++_)w=i[_],C={},C[a.axis]=a.parse(ui(w,p),_),b.push(tm(ui(w,h),C,s,_));return b}updateRangeFromParsed(n,i,o,r){super.updateRangeFromParsed(n,i,o,r);let a=o._custom;a&&i===this._cachedMeta.vScale&&(n.min=Math.min(n.min,a.min),n.max=Math.max(n.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(n){let i=this._cachedMeta,{iScale:o,vScale:r}=i,a=this.getParsed(n),s=a._custom,d=fs(s)?"["+s.start+", "+s.end+"]":""+r.getLabelForValue(a[r.axis]);return{label:""+o.getLabelForValue(a[o.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();let n=this._cachedMeta;n.stack=this.getDataset().stack}update(n){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,n)}updateElements(n,i,o,r){let a=r==="reset",{index:s,_cachedMeta:{vScale:d}}=this,m=d.getBasePixel(),p=d.isHorizontal(),h=this._getRuler(),{sharedOptions:b,includeOptions:_}=this._getSharedOptions(i,r);for(let x=i;x<i+o;x++){let C=this.getParsed(x),w=a||Ce(C[d.axis])?{base:m,head:m}:this._calculateBarValuePixels(x),P=this._calculateBarIndexPixels(x,h),V=(C._stacks||{})[d.axis],N={horizontal:p,base:w.base,enableBorderRadius:!V||fs(C._custom)||s===V._top||s===V._bottom,x:p?w.head:P.center,y:p?P.center:w.head,height:p?P.size:Math.abs(w.size),width:p?Math.abs(w.size):P.size};_&&(N.options=b||this.resolveDataElementOptions(x,n[x].active?"active":r));let B=N.options||n[x].options;Qb(N,B,V,s),t_(N,B,h.ratio),this.updateElement(n[x],x,N,r)}}_getStacks(n,i){let{iScale:o}=this._cachedMeta,r=o.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),a=o.options.stacked,s=[],d=this._cachedMeta.controller.getParsed(i),m=d&&d[o.axis],p=h=>{let b=h._parsed.find(x=>x[o.axis]===m),_=b&&b[h.vScale.axis];if(Ce(_)||isNaN(_))return!0};for(let h of r)if(!(i!==void 0&&p(h))&&((a===!1||s.indexOf(h.stack)===-1||a===void 0&&h.stack===void 0)&&s.push(h.stack),h.index===n))break;return s.length||s.push(void 0),s}_getStackCount(n){return this._getStacks(void 0,n).length}_getStackIndex(n,i,o){let r=this._getStacks(n,o),a=i!==void 0?r.indexOf(i):-1;return a===-1?r.length-1:a}_getRuler(){let n=this.options,i=this._cachedMeta,o=i.iScale,r=[],a,s;for(a=0,s=i.data.length;a<s;++a)r.push(o.getPixelForValue(this.getParsed(a)[o.axis],a));let d=n.barThickness;return{min:d||Wb(i),pixels:r,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:n.grouped,ratio:d?1:n.categoryPercentage*n.barPercentage}}_calculateBarValuePixels(n){let{_cachedMeta:{vScale:i,_stacked:o,index:r},options:{base:a,minBarLength:s}}=this,d=a||0,m=this.getParsed(n),p=m._custom,h=fs(p),b=m[i.axis],_=0,x=o?this.applyStack(i,m,o):b,C,w;x!==b&&(_=x-b,x=b),h&&(b=p.barStart,x=p.barEnd-p.barStart,b!==0&&Xt(b)!==Xt(p.barEnd)&&(_=0),_+=b);let P=!Ce(a)&&!h?a:_,V=i.getPixelForValue(P);if(this.chart.getDataVisibility(n)?C=i.getPixelForValue(_+x):C=V,w=C-V,Math.abs(w)<s){w=Zb(w,i,d)*s,b===d&&(V-=w/2);let N=i.getPixelForDecimal(0),B=i.getPixelForDecimal(1),O=Math.min(N,B),L=Math.max(N,B);V=Math.max(Math.min(V,L),O),C=V+w,o&&!h&&(m._stacks[i.axis]._visualValues[r]=i.getValueForPixel(C)-i.getValueForPixel(V))}if(V===i.getPixelForValue(d)){let N=Xt(w)*i.getLineWidthForValue(d)/2;V+=N,w-=N}return{size:w,base:V,head:C,center:C+w/2}}_calculateBarIndexPixels(n,i){let o=i.scale,r=this.options,a=r.skipNull,s=re(r.maxBarThickness,1/0),d,m;if(i.grouped){let p=a?this._getStackCount(n):i.stackCount,h=r.barThickness==="flex"?Xb(n,i,r,p):Yb(n,i,r,p),b=this._getStackIndex(this.index,this._cachedMeta.stack,a?n:void 0);d=h.start+h.chunk*b+h.chunk/2,m=Math.min(s,h.chunk*h.ratio)}else d=o.getPixelForValue(this.getParsed(n)[o.axis],n),m=Math.min(s,i.min*i.ratio);return{base:d-m/2,head:d+m/2,center:d,size:m}}draw(){let n=this._cachedMeta,i=n.vScale,o=n.data,r=o.length,a=0;for(;a<r;++a)this.getParsed(a)[i.axis]!==null&&!o[a].hidden&&o[a].draw(this._ctx)}}return t})(),n_=(()=>{class t extends Pi{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(n,i,o,r){let a=super.parsePrimitiveData(n,i,o,r);for(let s=0;s<a.length;s++)a[s]._custom=this.resolveDataElementOptions(s+o).radius;return a}parseArrayData(n,i,o,r){let a=super.parseArrayData(n,i,o,r);for(let s=0;s<a.length;s++){let d=i[o+s];a[s]._custom=re(d[2],this.resolveDataElementOptions(s+o).radius)}return a}parseObjectData(n,i,o,r){let a=super.parseObjectData(n,i,o,r);for(let s=0;s<a.length;s++){let d=i[o+s];a[s]._custom=re(d&&d.r&&+d.r,this.resolveDataElementOptions(s+o).radius)}return a}getMaxOverflow(){let n=this._cachedMeta.data,i=0;for(let o=n.length-1;o>=0;--o)i=Math.max(i,n[o].size(this.resolveDataElementOptions(o))/2);return i>0&&i}getLabelAndValue(n){let i=this._cachedMeta,o=this.chart.data.labels||[],{xScale:r,yScale:a}=i,s=this.getParsed(n),d=r.getLabelForValue(s.x),m=a.getLabelForValue(s.y),p=s._custom;return{label:o[n]||"",value:"("+d+", "+m+(p?", "+p:"")+")"}}update(n){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,n)}updateElements(n,i,o,r){let a=r==="reset",{iScale:s,vScale:d}=this._cachedMeta,{sharedOptions:m,includeOptions:p}=this._getSharedOptions(i,r),h=s.axis,b=d.axis;for(let _=i;_<i+o;_++){let x=n[_],C=!a&&this.getParsed(_),w={},P=w[h]=a?s.getPixelForDecimal(.5):s.getPixelForValue(C[h]),V=w[b]=a?d.getBasePixel():d.getPixelForValue(C[b]);w.skip=isNaN(P)||isNaN(V),p&&(w.options=m||this.resolveDataElementOptions(_,x.active?"active":r),a&&(w.options.radius=0)),this.updateElement(x,_,w,r)}}resolveDataElementOptions(n,i){let o=this.getParsed(n),r=super.resolveDataElementOptions(n,i);r.$shared&&(r=Object.assign({},r,{$shared:!1}));let a=r.radius;return i!=="active"&&(r.radius=0),r.radius+=re(o&&o._custom,a),r}}return t})();function o_(t,e,n){let i=1,o=1,r=0,a=0;if(e<$e){let s=t,d=s+e,m=Math.cos(s),p=Math.sin(s),h=Math.cos(d),b=Math.sin(d),_=(N,B,O)=>Pn(N,s,d,!0)?1:Math.max(B,B*n,O,O*n),x=(N,B,O)=>Pn(N,s,d,!0)?-1:Math.min(B,B*n,O,O*n),C=_(0,m,h),w=_(et,p,b),P=x(je,m,h),V=x(je+et,p,b);i=(C-P)/2,o=(w-V)/2,r=-(C+P)/2,a=-(w+V)/2}return{ratioX:i,ratioY:o,offsetX:r,offsetY:a}}var $s=(()=>{class t extends Pi{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:n=>n!=="spacing",_indexable:n=>n!=="spacing"&&!n.startsWith("borderDash")&&!n.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let i=n.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:o,color:r}}=n.legend.options;return i.labels.map((a,s)=>{let m=n.getDatasetMeta(0).controller.getStyle(s);return{text:a,fillStyle:m.backgroundColor,strokeStyle:m.borderColor,fontColor:r,lineWidth:m.borderWidth,pointStyle:o,hidden:!n.getDataVisibility(s),index:s}})}return[]}},onClick(n,i,o){o.chart.toggleDataVisibility(i.index),o.chart.update()}}}};constructor(n,i){super(n,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(n,i){let o=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=o;else{let a=m=>+o[m];if(be(o[n])){let{key:m="value"}=this._parsing;a=p=>+ui(o[p],m)}let s,d;for(s=n,d=n+i;s<d;++s)r._parsed[s]=a(s)}}_getRotation(){return zt(this.options.rotation-90)}_getCircumference(){return zt(this.options.circumference)}_getRotationExtents(){let n=$e,i=-$e;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)&&this.chart.getDatasetMeta(o).type===this._type){let r=this.chart.getDatasetMeta(o).controller,a=r._getRotation(),s=r._getCircumference();n=Math.min(n,a),i=Math.max(i,a+s)}return{rotation:n,circumference:i-n}}update(n){let i=this.chart,{chartArea:o}=i,r=this._cachedMeta,a=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,d=Math.max((Math.min(o.width,o.height)-s)/2,0),m=Math.min(Md(this.options.cutout,d),1),p=this._getRingWeight(this.index),{circumference:h,rotation:b}=this._getRotationExtents(),{ratioX:_,ratioY:x,offsetX:C,offsetY:w}=o_(b,h,m),P=(o.width-s)/_,V=(o.height-s)/x,N=Math.max(Math.min(P,V)/2,0),B=La(this.options.radius,N),O=Math.max(B*m,0),L=(B-O)/this._getVisibleDatasetWeightTotal();this.offsetX=C*B,this.offsetY=w*B,r.total=this.calculateTotal(),this.outerRadius=B-L*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-L*p,0),this.updateElements(a,0,a.length,n)}_circumference(n,i){let o=this.options,r=this._cachedMeta,a=this._getCircumference();return i&&o.animation.animateRotate||!this.chart.getDataVisibility(n)||r._parsed[n]===null||r.data[n].hidden?0:this.calculateCircumference(r._parsed[n]*a/$e)}updateElements(n,i,o,r){let a=r==="reset",s=this.chart,d=s.chartArea,p=s.options.animation,h=(d.left+d.right)/2,b=(d.top+d.bottom)/2,_=a&&p.animateScale,x=_?0:this.innerRadius,C=_?0:this.outerRadius,{sharedOptions:w,includeOptions:P}=this._getSharedOptions(i,r),V=this._getRotation(),N;for(N=0;N<i;++N)V+=this._circumference(N,a);for(N=i;N<i+o;++N){let B=this._circumference(N,a),O=n[N],L={x:h+this.offsetX,y:b+this.offsetY,startAngle:V,endAngle:V+B,circumference:B,outerRadius:C,innerRadius:x};P&&(L.options=w||this.resolveDataElementOptions(N,O.active?"active":r)),V+=B,this.updateElement(O,N,L,r)}}calculateTotal(){let n=this._cachedMeta,i=n.data,o=0,r;for(r=0;r<i.length;r++){let a=n._parsed[r];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(r)&&!i[r].hidden&&(o+=Math.abs(a))}return o}calculateCircumference(n){let i=this._cachedMeta.total;return i>0&&!isNaN(n)?$e*(Math.abs(n)/i):0}getLabelAndValue(n){let i=this._cachedMeta,o=this.chart,r=o.data.labels||[],a=Fn(i._parsed[n],o.options.locale);return{label:r[n]||"",value:a}}getMaxBorderWidth(n){let i=0,o=this.chart,r,a,s,d,m;if(!n){for(r=0,a=o.data.datasets.length;r<a;++r)if(o.isDatasetVisible(r)){s=o.getDatasetMeta(r),n=s.data,d=s.controller;break}}if(!n)return 0;for(r=0,a=n.length;r<a;++r)m=d.resolveDataElementOptions(r),m.borderAlign!=="inner"&&(i=Math.max(i,m.borderWidth||0,m.hoverBorderWidth||0));return i}getMaxOffset(n){let i=0;for(let o=0,r=n.length;o<r;++o){let a=this.resolveDataElementOptions(o);i=Math.max(i,a.offset||0,a.hoverOffset||0)}return i}_getRingWeightOffset(n){let i=0;for(let o=0;o<n;++o)this.chart.isDatasetVisible(o)&&(i+=this._getRingWeight(o));return i}_getRingWeight(n){return Math.max(re(this.chart.data.datasets[n].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t})(),r_=(()=>{class t extends Pi{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(n){let i=this._cachedMeta,{dataset:o,data:r=[],_dataset:a}=i,s=this.chart._animationsDisabled,{start:d,count:m}=Ya(i,r,s);this._drawStart=d,this._drawCount=m,Xa(i)&&(d=0,m=r.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!a._decimated,o.points=r;let p=this.resolveDatasetElementOptions(n);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(o,void 0,{animated:!s,options:p},n),this.updateElements(r,d,m,n)}updateElements(n,i,o,r){let a=r==="reset",{iScale:s,vScale:d,_stacked:m,_dataset:p}=this._cachedMeta,{sharedOptions:h,includeOptions:b}=this._getSharedOptions(i,r),_=s.axis,x=d.axis,{spanGaps:C,segment:w}=this.options,P=Wi(C)?C:Number.POSITIVE_INFINITY,V=this.chart._animationsDisabled||a||r==="none",N=i+o,B=n.length,O=i>0&&this.getParsed(i-1);for(let L=0;L<B;++L){let G=n[L],$=V?G:{};if(L<i||L>=N){$.skip=!0;continue}let W=this.getParsed(L),le=Ce(W[x]),se=$[_]=s.getPixelForValue(W[_],L),_e=$[x]=a||le?d.getBasePixel():d.getPixelForValue(m?this.applyStack(d,W,m):W[x],L);$.skip=isNaN(se)||isNaN(_e)||le,$.stop=L>0&&Math.abs(W[_]-O[_])>P,w&&($.parsed=W,$.raw=p.data[L]),b&&($.options=h||this.resolveDataElementOptions(L,G.active?"active":r)),V||this.updateElement(G,L,$,r),O=W}}getMaxOverflow(){let n=this._cachedMeta,i=n.dataset,o=i.options&&i.options.borderWidth||0,r=n.data||[];if(!r.length)return o;let a=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(o,a,s)/2}draw(){let n=this._cachedMeta;n.dataset.updateControlPoints(this.chart.chartArea,n.iScale.axis),super.draw()}}return t})(),im=(()=>{class t extends Pi{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let i=n.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:o,color:r}}=n.legend.options;return i.labels.map((a,s)=>{let m=n.getDatasetMeta(0).controller.getStyle(s);return{text:a,fillStyle:m.backgroundColor,strokeStyle:m.borderColor,fontColor:r,lineWidth:m.borderWidth,pointStyle:o,hidden:!n.getDataVisibility(s),index:s}})}return[]}},onClick(n,i,o){o.chart.toggleDataVisibility(i.index),o.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(n,i){super(n,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(n){let i=this._cachedMeta,o=this.chart,r=o.data.labels||[],a=Fn(i._parsed[n].r,o.options.locale);return{label:r[n]||"",value:a}}parseObjectData(n,i,o,r){return os.bind(this)(n,i,o,r)}update(n){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,n)}getMinMax(){let n=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return n.data.forEach((o,r)=>{let a=this.getParsed(r).r;!isNaN(a)&&this.chart.getDataVisibility(r)&&(a<i.min&&(i.min=a),a>i.max&&(i.max=a))}),i}_updateRadius(){let n=this.chart,i=n.chartArea,o=n.options,r=Math.min(i.right-i.left,i.bottom-i.top),a=Math.max(r/2,0),s=Math.max(o.cutoutPercentage?a/100*o.cutoutPercentage:1,0),d=(a-s)/n.getVisibleDatasetCount();this.outerRadius=a-d*this.index,this.innerRadius=this.outerRadius-d}updateElements(n,i,o,r){let a=r==="reset",s=this.chart,m=s.options.animation,p=this._cachedMeta.rScale,h=p.xCenter,b=p.yCenter,_=p.getIndexAngle(0)-.5*je,x=_,C,w=360/this.countVisibleElements();for(C=0;C<i;++C)x+=this._computeAngle(C,r,w);for(C=i;C<i+o;C++){let P=n[C],V=x,N=x+this._computeAngle(C,r,w),B=s.getDataVisibility(C)?p.getDistanceFromCenterForValue(this.getParsed(C).r):0;x=N,a&&(m.animateScale&&(B=0),m.animateRotate&&(V=N=_));let O={x:h,y:b,innerRadius:0,outerRadius:B,startAngle:V,endAngle:N,options:this.resolveDataElementOptions(C,P.active?"active":r)};this.updateElement(P,C,O,r)}}countVisibleElements(){let n=this._cachedMeta,i=0;return n.data.forEach((o,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&i++}),i}_computeAngle(n,i,o){return this.chart.getDataVisibility(n)?zt(this.resolveDataElementOptions(n,i).angle||o):0}}return t})(),a_=(()=>{class t extends $s{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return t})(),s_=(()=>{class t extends Pi{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(n){let i=this._cachedMeta.vScale,o=this.getParsed(n);return{label:i.getLabels()[n],value:""+i.getLabelForValue(o[i.axis])}}parseObjectData(n,i,o,r){return os.bind(this)(n,i,o,r)}update(n){let i=this._cachedMeta,o=i.dataset,r=i.data||[],a=i.iScale.getLabels();if(o.points=r,n!=="resize"){let s=this.resolveDatasetElementOptions(n);this.options.showLine||(s.borderWidth=0);let d={_loop:!0,_fullLoop:a.length===r.length,options:s};this.updateElement(o,void 0,d,n)}this.updateElements(r,0,r.length,n)}updateElements(n,i,o,r){let a=this._cachedMeta.rScale,s=r==="reset";for(let d=i;d<i+o;d++){let m=n[d],p=this.resolveDataElementOptions(d,m.active?"active":r),h=a.getPointPositionForValue(d,this.getParsed(d).r),b=s?a.xCenter:h.x,_=s?a.yCenter:h.y,x={x:b,y:_,angle:h.angle,skip:isNaN(b)||isNaN(_),options:p};this.updateElement(m,d,x,r)}}}return t})(),l_=(()=>{class t extends Pi{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(n){let i=this._cachedMeta,o=this.chart.data.labels||[],{xScale:r,yScale:a}=i,s=this.getParsed(n),d=r.getLabelForValue(s.x),m=a.getLabelForValue(s.y);return{label:o[n]||"",value:"("+d+", "+m+")"}}update(n){let i=this._cachedMeta,{data:o=[]}=i,r=this.chart._animationsDisabled,{start:a,count:s}=Ya(i,o,r);if(this._drawStart=a,this._drawCount=s,Xa(i)&&(a=0,s=o.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:d,_dataset:m}=i;d._chart=this.chart,d._datasetIndex=this.index,d._decimated=!!m._decimated,d.points=o;let p=this.resolveDatasetElementOptions(n);p.segment=this.options.segment,this.updateElement(d,void 0,{animated:!r,options:p},n)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(o,a,s,n)}addElements(){let{showLine:n}=this.options;!this.datasetElementType&&n&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(n,i,o,r){let a=r==="reset",{iScale:s,vScale:d,_stacked:m,_dataset:p}=this._cachedMeta,h=this.resolveDataElementOptions(i,r),b=this.getSharedOptions(h),_=this.includeOptions(r,b),x=s.axis,C=d.axis,{spanGaps:w,segment:P}=this.options,V=Wi(w)?w:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||a||r==="none",B=i>0&&this.getParsed(i-1);for(let O=i;O<i+o;++O){let L=n[O],G=this.getParsed(O),$=N?L:{},W=Ce(G[C]),le=$[x]=s.getPixelForValue(G[x],O),se=$[C]=a||W?d.getBasePixel():d.getPixelForValue(m?this.applyStack(d,G,m):G[C],O);$.skip=isNaN(le)||isNaN(se)||W,$.stop=O>0&&Math.abs(G[x]-B[x])>V,P&&($.parsed=G,$.raw=p.data[O]),_&&($.options=b||this.resolveDataElementOptions(O,L.active?"active":r)),N||this.updateElement(L,O,$,r),B=G}this.updateSharedOptions(b,r,h)}getMaxOverflow(){let n=this._cachedMeta,i=n.data||[];if(!this.options.showLine){let d=0;for(let m=i.length-1;m>=0;--m)d=Math.max(d,i[m].size(this.resolveDataElementOptions(m))/2);return d>0&&d}let o=n.dataset,r=o.options&&o.options.borderWidth||0;if(!i.length)return r;let a=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,a,s)/2}}return t})(),c_=Object.freeze({__proto__:null,BarController:i_,BubbleController:n_,DoughnutController:$s,LineController:r_,PieController:a_,PolarAreaController:im,RadarController:s_,ScatterController:l_});function Xi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var ws=class t{static override(e){Object.assign(t.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Xi()}parse(){return Xi()}format(){return Xi()}add(){return Xi()}diff(){return Xi()}startOf(){return Xi()}endOf(){return Xi()}},d_={_date:ws};function u_(t,e,n,i){let{controller:o,data:r,_sorted:a}=t,s=o._cachedMeta.iScale;if(s&&e===s.axis&&e!=="r"&&a&&r.length){let d=s._reversePixels?Ad:Qt;if(i){if(o._sharedOptions){let m=r[0],p=typeof m.getRange=="function"&&m.getRange(e);if(p){let h=d(r,e,n-p),b=d(r,e,n+p);return{lo:h.lo,hi:b.hi}}}}else return d(r,e,n)}return{lo:0,hi:r.length-1}}function So(t,e,n,i,o){let r=t.getSortedVisibleDatasetMetas(),a=n[e];for(let s=0,d=r.length;s<d;++s){let{index:m,data:p}=r[s],{lo:h,hi:b}=u_(r[s],e,a,o);for(let _=h;_<=b;++_){let x=p[_];x.skip||i(x,m,_)}}}function m_(t){let e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,o){let r=e?Math.abs(i.x-o.x):0,a=n?Math.abs(i.y-o.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function hs(t,e,n,i,o){let r=[];return!o&&!t.isPointInArea(e)||So(t,n,e,function(s,d,m){!o&&!ei(s,t.chartArea,0)||s.inRange(e.x,e.y,i)&&r.push({element:s,datasetIndex:d,index:m})},!0),r}function p_(t,e,n,i){let o=[];function r(a,s,d){let{startAngle:m,endAngle:p}=a.getProps(["startAngle","endAngle"],i),{angle:h}=Ha(a,{x:e.x,y:e.y});Pn(h,m,p)&&o.push({element:a,datasetIndex:s,index:d})}return So(t,n,e,r),o}function f_(t,e,n,i,o,r){let a=[],s=m_(n),d=Number.POSITIVE_INFINITY;function m(p,h,b){let _=p.inRange(e.x,e.y,o);if(i&&!_)return;let x=p.getCenterPoint(o);if(!(!!r||t.isPointInArea(x))&&!_)return;let w=s(e,x);w<d?(a=[{element:p,datasetIndex:h,index:b}],d=w):w===d&&a.push({element:p,datasetIndex:h,index:b})}return So(t,n,e,m),a}function gs(t,e,n,i,o,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?p_(t,e,n,o):f_(t,e,n,i,o,r)}function cu(t,e,n,i,o){let r=[],a=n==="x"?"inXRange":"inYRange",s=!1;return So(t,n,e,(d,m,p)=>{d[a]&&d[a](e[n],o)&&(r.push({element:d,datasetIndex:m,index:p}),s=s||d.inRange(e.x,e.y,o))}),i&&!s?[]:r}var h_={evaluateInteractionItems:So,modes:{index(t,e,n,i){let o=Ii(e,t),r=n.axis||"x",a=n.includeInvisible||!1,s=n.intersect?hs(t,o,r,i,a):gs(t,o,r,!1,i,a),d=[];return s.length?(t.getSortedVisibleDatasetMetas().forEach(m=>{let p=s[0].index,h=m.data[p];h&&!h.skip&&d.push({element:h,datasetIndex:m.index,index:p})}),d):[]},dataset(t,e,n,i){let o=Ii(e,t),r=n.axis||"xy",a=n.includeInvisible||!1,s=n.intersect?hs(t,o,r,i,a):gs(t,o,r,!1,i,a);if(s.length>0){let d=s[0].datasetIndex,m=t.getDatasetMeta(d).data;s=[];for(let p=0;p<m.length;++p)s.push({element:m[p],datasetIndex:d,index:p})}return s},point(t,e,n,i){let o=Ii(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;return hs(t,o,r,i,a)},nearest(t,e,n,i){let o=Ii(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;return gs(t,o,r,n.intersect,i,a)},x(t,e,n,i){let o=Ii(e,t);return cu(t,o,"x",n.intersect,i)},y(t,e,n,i){let o=Ii(e,t);return cu(t,o,"y",n.intersect,i)}}},nm=["left","top","right","bottom"];function ho(t,e){return t.filter(n=>n.pos===e)}function du(t,e){return t.filter(n=>nm.indexOf(n.pos)===-1&&n.box.axis===e)}function go(t,e){return t.sort((n,i)=>{let o=e?i:n,r=e?n:i;return o.weight===r.weight?o.index-r.index:o.weight-r.weight})}function g_(t){let e=[],n,i,o,r,a,s;for(n=0,i=(t||[]).length;n<i;++n)o=t[n],{position:r,options:{stack:a,stackWeight:s=1}}=o,e.push({index:n,box:o,pos:r,horizontal:o.isHorizontal(),weight:o.weight,stack:a&&r+a,stackWeight:s});return e}function b_(t){let e={};for(let n of t){let{stack:i,pos:o,stackWeight:r}=n;if(!i||!nm.includes(o))continue;let a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return e}function __(t,e){let n=b_(t),{vBoxMaxWidth:i,hBoxMaxHeight:o}=e,r,a,s;for(r=0,a=t.length;r<a;++r){s=t[r];let{fullSize:d}=s.box,m=n[s.stack],p=m&&s.stackWeight/m.weight;s.horizontal?(s.width=p?p*i:d&&e.availableWidth,s.height=o):(s.width=i,s.height=p?p*o:d&&e.availableHeight)}return n}function v_(t){let e=g_(t),n=go(e.filter(m=>m.box.fullSize),!0),i=go(ho(e,"left"),!0),o=go(ho(e,"right")),r=go(ho(e,"top"),!0),a=go(ho(e,"bottom")),s=du(e,"x"),d=du(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:o.concat(d).concat(a).concat(s),chartArea:ho(e,"chartArea"),vertical:i.concat(o).concat(d),horizontal:r.concat(a).concat(s)}}function uu(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function om(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function x_(t,e,n,i){let{pos:o,box:r}=n,a=t.maxPadding;if(!be(o)){n.size&&(t[o]-=n.size);let h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,t[o]+=n.size}r.getPadding&&om(a,r.getPadding());let s=Math.max(0,e.outerWidth-uu(a,t,"left","right")),d=Math.max(0,e.outerHeight-uu(a,t,"top","bottom")),m=s!==t.w,p=d!==t.h;return t.w=s,t.h=d,n.horizontal?{same:m,other:p}:{same:p,other:m}}function y_(t){let e=t.maxPadding;function n(i){let o=Math.max(e[i]-t[i],0);return t[i]+=o,o}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function C_(t,e){let n=e.maxPadding;function i(o){let r={left:0,top:0,right:0,bottom:0};return o.forEach(a=>{r[a]=Math.max(e[a],n[a])}),r}return i(t?["left","right"]:["top","bottom"])}function vo(t,e,n,i){let o=[],r,a,s,d,m,p;for(r=0,a=t.length,m=0;r<a;++r){s=t[r],d=s.box,d.update(s.width||e.w,s.height||e.h,C_(s.horizontal,e));let{same:h,other:b}=x_(e,n,s,i);m|=h&&o.length,p=p||b,d.fullSize||o.push(s)}return m&&vo(o,e,n,i)||p}function Vr(t,e,n,i,o){t.top=n,t.left=e,t.right=e+i,t.bottom=n+o,t.width=i,t.height=o}function mu(t,e,n,i){let o=n.padding,{x:r,y:a}=e;for(let s of t){let d=s.box,m=i[s.stack]||{count:1,placed:0,weight:1},p=s.stackWeight/m.weight||1;if(s.horizontal){let h=e.w*p,b=m.size||d.height;In(m.start)&&(a=m.start),d.fullSize?Vr(d,o.left,a,n.outerWidth-o.right-o.left,b):Vr(d,e.left+m.placed,a,h,b),m.start=a,m.placed+=h,a=d.bottom}else{let h=e.h*p,b=m.size||d.width;In(m.start)&&(r=m.start),d.fullSize?Vr(d,r,o.top,b,n.outerHeight-o.bottom-o.top):Vr(d,r,e.top+m.placed,b,h),m.start=r,m.placed+=h,r=d.right}}e.x=r,e.y=a}var bt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){let n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;let o=pt(t.options.layout.padding),r=Math.max(e-o.width,0),a=Math.max(n-o.height,0),s=v_(t.boxes),d=s.vertical,m=s.horizontal;ke(t.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});let p=d.reduce((C,w)=>w.box.options&&w.box.options.display===!1?C:C+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:o,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/p,hBoxMaxHeight:a/2}),b=Object.assign({},o);om(b,pt(i));let _=Object.assign({maxPadding:b,w:r,h:a,x:o.left,y:o.top},o),x=__(d.concat(m),h);vo(s.fullSize,_,h,x),vo(d,_,h,x),vo(m,_,h,x)&&vo(d,_,h,x),y_(_),mu(s.leftAndTop,_,h,x),_.x+=_.w,_.y+=_.h,mu(s.rightAndBottom,_,h,x),t.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},ke(s.chartArea,C=>{let w=C.box;Object.assign(w,t.chartArea),w.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}},Br=class{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,o){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,o?Math.floor(n/o):i)}}isAttached(e){return!0}updateConfig(e){}},Ss=class extends Br{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},Nr="$chartjs",w_={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},pu=t=>t===null||t==="";function S_(t,e){let n=t.style,i=t.getAttribute("height"),o=t.getAttribute("width");if(t[Nr]={initial:{height:i,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",pu(o)){let r=as(t,"width");r!==void 0&&(t.width=r)}if(pu(i))if(t.style.height==="")t.height=t.width/(e||2);else{let r=as(t,"height");r!==void 0&&(t.height=r)}return t}var rm=Xd?{passive:!0}:!1;function E_(t,e,n){t&&t.addEventListener(e,n,rm)}function M_(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,rm)}function k_(t,e){let n=w_[t.type]||t.type,{x:i,y:o}=Ii(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:o!==void 0?o:null}}function zr(t,e){for(let n of t)if(n===e||n.contains(e))return!0}function I_(t,e,n){let i=t.canvas,o=new MutationObserver(r=>{let a=!1;for(let s of r)a=a||zr(s.addedNodes,i),a=a&&!zr(s.removedNodes,i);a&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}function V_(t,e,n){let i=t.canvas,o=new MutationObserver(r=>{let a=!1;for(let s of r)a=a||zr(s.removedNodes,i),a=a&&!zr(s.addedNodes,i);a&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}var yo=new Map,fu=0;function am(){let t=window.devicePixelRatio;t!==fu&&(fu=t,yo.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function P_(t,e){yo.size||window.addEventListener("resize",am),yo.set(t,e)}function F_(t){yo.delete(t),yo.size||window.removeEventListener("resize",am)}function A_(t,e,n){let i=t.canvas,o=i&&kr(i);if(!o)return;let r=Wa((s,d)=>{let m=o.clientWidth;n(s,d),m<o.clientWidth&&n()},window),a=new ResizeObserver(s=>{let d=s[0],m=d.contentRect.width,p=d.contentRect.height;m===0&&p===0||r(m,p)});return a.observe(o),P_(t,r),a}function bs(t,e,n){n&&n.disconnect(),e==="resize"&&F_(t)}function O_(t,e,n){let i=t.canvas,o=Wa(r=>{t.ctx!==null&&n(k_(r,t))},t);return E_(i,e,o),o}var Es=class extends Br{acquireContext(e,n){let i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(S_(e,n),i):null}releaseContext(e){let n=e.canvas;if(!n[Nr])return!1;let i=n[Nr].initial;["height","width"].forEach(r=>{let a=i[r];Ce(a)?n.removeAttribute(r):n.setAttribute(r,a)});let o=i.style||{};return Object.keys(o).forEach(r=>{n.style[r]=o[r]}),n.width=n.width,delete n[Nr],!0}addEventListener(e,n,i){this.removeEventListener(e,n);let o=e.$proxies||(e.$proxies={}),a={attach:I_,detach:V_,resize:A_}[n]||O_;o[n]=a(e,n,i)}removeEventListener(e,n){let i=e.$proxies||(e.$proxies={}),o=i[n];if(!o)return;({attach:bs,detach:bs,resize:bs}[n]||M_)(e,n,o),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,o){return Yd(e,n,i,o)}isAttached(e){let n=e&&kr(e);return!!(n&&n.isConnected)}};function D_(t){return!Mr()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Ss:Es}var Kt=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Wi(this.x)&&Wi(this.y)}getProps(e,n){let i=this.$animations;if(!n||!i)return this;let o={};return e.forEach(r=>{o[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),o}};function T_(t,e){let n=t.options.ticks,i=N_(t),o=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?L_(e):[],a=r.length,s=r[0],d=r[a-1],m=[];if(a>o)return B_(e,m,r,a/o),m;let p=R_(r,e,o);if(a>0){let h,b,_=a>1?Math.round((d-s)/(a-1)):null;for(Pr(e,m,p,Ce(_)?0:s-_,s),h=0,b=a-1;h<b;h++)Pr(e,m,p,r[h],r[h+1]);return Pr(e,m,p,d,Ce(_)?e.length:d+_),m}return Pr(e,m,p),m}function N_(t){let e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),o=t._maxLength/n;return Math.floor(Math.min(i,o))}function R_(t,e,n){let i=z_(t),o=e.length/n;if(!i)return Math.max(o,1);let r=Vd(i);for(let a=0,s=r.length-1;a<s;a++){let d=r[a];if(d>o)return d}return Math.max(o,1)}function L_(t){let e=[],n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function B_(t,e,n,i){let o=0,r=n[0],a;for(i=Math.ceil(i),a=0;a<t.length;a++)a===r&&(e.push(t[a]),o++,r=n[o*i])}function Pr(t,e,n,i,o){let r=re(i,0),a=Math.min(re(o,t.length),t.length),s=0,d,m,p;for(n=Math.ceil(n),o&&(d=o-i,n=d/Math.floor(d/n)),p=r;p<0;)s++,p=Math.round(r+s*n);for(m=Math.max(r,0);m<a;m++)m===p&&(e.push(t[m]),s++,p=Math.round(r+s*n))}function z_(t){let e=t.length,n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}var j_=t=>t==="left"?"right":t==="right"?"left":t,hu=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,gu=(t,e)=>Math.min(e||t,t);function bu(t,e){let n=[],i=t.length/e,o=t.length,r=0;for(;r<o;r+=i)n.push(t[Math.floor(r)]);return n}function $_(t,e,n){let i=t.ticks.length,o=Math.min(e,i-1),r=t._startPixel,a=t._endPixel,s=1e-6,d=t.getPixelForTick(o),m;if(!(n&&(i===1?m=Math.max(d-r,a-d):e===0?m=(t.getPixelForTick(1)-d)/2:m=(d-t.getPixelForTick(o-1))/2,d+=o<e?m:-m,d<r-s||d>a+s)))return d}function H_(t,e){ke(t,n=>{let i=n.gc,o=i.length/2,r;if(o>e){for(r=0;r<o;++r)delete n.data[i[r]];i.splice(0,o)}})}function bo(t){return t.drawTicks?t.tickLength:0}function _u(t,e){if(!t.display)return 0;let n=nt(t.font,e),i=pt(t.padding);return(ze(t.text)?t.text.length:1)*n.lineHeight+i.height}function U_(t,e){return mi(t,{scale:e,type:"scale"})}function q_(t,e,n){return mi(t,{tick:n,index:e,type:"tick"})}function G_(t,e,n){let i=yr(t);return(n&&e!=="right"||!n&&e==="right")&&(i=j_(i)),i}function W_(t,e,n,i){let{top:o,left:r,bottom:a,right:s,chart:d}=t,{chartArea:m,scales:p}=d,h=0,b,_,x,C=a-o,w=s-r;if(t.isHorizontal()){if(_=mt(i,r,s),be(n)){let P=Object.keys(n)[0],V=n[P];x=p[P].getPixelForValue(V)+C-e}else n==="center"?x=(m.bottom+m.top)/2+C-e:x=hu(t,n,e);b=s-r}else{if(be(n)){let P=Object.keys(n)[0],V=n[P];_=p[P].getPixelForValue(V)-w+e}else n==="center"?_=(m.left+m.right)/2-w+e:_=hu(t,n,e);x=mt(i,a,o),h=n==="left"?-et:et}return{titleX:_,titleY:x,maxWidth:b,rotation:h}}var Zi=class t extends Kt{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:o}=this;return e=Et(e,Number.POSITIVE_INFINITY),n=Et(n,Number.NEGATIVE_INFINITY),i=Et(i,Number.POSITIVE_INFINITY),o=Et(o,Number.NEGATIVE_INFINITY),{min:Et(e,i),max:Et(n,o),minDefined:Qe(e),maxDefined:Qe(n)}}getMinMax(e){let{min:n,max:i,minDefined:o,maxDefined:r}=this.getUserBounds(),a;if(o&&r)return{min:n,max:i};let s=this.getMatchingVisibleMetas();for(let d=0,m=s.length;d<m;++d)a=s[d].controller.getMinMax(this,e),o||(n=Math.min(n,a.min)),r||(i=Math.max(i,a.max));return n=r&&n>i?i:n,i=o&&n>i?n:i,{min:Et(n,Et(i,n)),max:Et(i,Et(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Oe(this.options.beforeUpdate,[this])}update(e,n,i){let{beginAtZero:o,grace:r,ticks:a}=this.options,s=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=$d(this,r,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let d=s<this.ticks.length;this._convertTicksToLabels(d?bu(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=T_(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Oe(this.options.afterUpdate,[this])}beforeSetDimensions(){Oe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Oe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Oe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Oe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let n=this.options.ticks,i,o,r;for(i=0,o=e.length;i<o;i++)r=e[i],r.label=Oe(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){Oe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Oe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,n=e.ticks,i=gu(this.ticks.length,e.ticks.maxTicksLimit),o=n.minRotation||0,r=n.maxRotation,a=o,s,d,m;if(!this._isVisible()||!n.display||o>=r||i<=1||!this.isHorizontal()){this.labelRotation=o;return}let p=this._getLabelSizes(),h=p.widest.width,b=p.highest.height,_=st(this.chart.width-h,0,this.maxWidth);s=e.offset?this.maxWidth/i:_/(i-1),h+6>s&&(s=_/(i-(e.offset?.5:1)),d=this.maxHeight-bo(e.grid)-n.padding-_u(e.title,this.chart.options.font),m=Math.sqrt(h*h+b*b),a=vr(Math.min(Math.asin(st((p.highest.height+6)/s,-1,1)),Math.asin(st(d/m,-1,1))-Math.asin(st(b/m,-1,1)))),a=Math.max(o,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){Oe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Oe(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:n,options:{ticks:i,title:o,grid:r}}=this,a=this._isVisible(),s=this.isHorizontal();if(a){let d=_u(o,n.options.font);if(s?(e.width=this.maxWidth,e.height=bo(r)+d):(e.height=this.maxHeight,e.width=bo(r)+d),i.display&&this.ticks.length){let{first:m,last:p,widest:h,highest:b}=this._getLabelSizes(),_=i.padding*2,x=zt(this.labelRotation),C=Math.cos(x),w=Math.sin(x);if(s){let P=i.mirror?0:w*h.width+C*b.height;e.height=Math.min(this.maxHeight,e.height+P+_)}else{let P=i.mirror?0:C*h.width+w*b.height;e.width=Math.min(this.maxWidth,e.width+P+_)}this._calculatePadding(m,p,w,C)}}this._handleMargins(),s?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,o){let{ticks:{align:r,padding:a},position:s}=this.options,d=this.labelRotation!==0,m=s!=="top"&&this.axis==="x";if(this.isHorizontal()){let p=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),b=0,_=0;d?m?(b=o*e.width,_=i*n.height):(b=i*e.height,_=o*n.width):r==="start"?_=n.width:r==="end"?b=e.width:r!=="inner"&&(b=e.width/2,_=n.width/2),this.paddingLeft=Math.max((b-p+a)*this.width/(this.width-p),0),this.paddingRight=Math.max((_-h+a)*this.width/(this.width-h),0)}else{let p=n.height/2,h=e.height/2;r==="start"?(p=0,h=e.height):r==="end"&&(p=n.height,h=0),this.paddingTop=p+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Oe(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Ce(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let n=this.options.ticks.sampleSize,i=this.ticks;n<i.length&&(i=bu(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){let{ctx:o,_longestTextCache:r}=this,a=[],s=[],d=Math.floor(n/gu(n,i)),m=0,p=0,h,b,_,x,C,w,P,V,N,B,O;for(h=0;h<n;h+=d){if(x=e[h].label,C=this._resolveTickFontOptions(h),o.font=w=C.string,P=r[w]=r[w]||{data:{},gc:[]},V=C.lineHeight,N=B=0,!Ce(x)&&!ze(x))N=lo(o,P.data,P.gc,N,x),B=V;else if(ze(x))for(b=0,_=x.length;b<_;++b)O=x[b],!Ce(O)&&!ze(O)&&(N=lo(o,P.data,P.gc,N,O),B+=V);a.push(N),s.push(B),m=Math.max(N,m),p=Math.max(B,p)}H_(r,n);let L=a.indexOf(m),G=s.indexOf(p),$=W=>({width:a[W]||0,height:s[W]||0});return{first:$(0),last:$(n-1),widest:$(L),highest:$(G),widths:a,heights:s}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){let n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let n=this._startPixel+e*this._length;return Fd(this._alignToPixels?Ei(this.chart,n,0):n)}getDecimalForPixel(e){let n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){let n=this.ticks||[];if(e>=0&&e<n.length){let i=n[e];return i.$context||(i.$context=q_(this.getContext(),e,i))}return this.$context||(this.$context=U_(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,n=zt(this.labelRotation),i=Math.abs(Math.cos(n)),o=Math.abs(Math.sin(n)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,s=r?r.widest.width+a:0,d=r?r.highest.height+a:0;return this.isHorizontal()?d*i>s*o?s/i:d/o:d*o<s*i?d/i:s/o}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let n=this.axis,i=this.chart,o=this.options,{grid:r,position:a,border:s}=o,d=r.offset,m=this.isHorizontal(),h=this.ticks.length+(d?1:0),b=bo(r),_=[],x=s.setContext(this.getContext()),C=x.display?x.width:0,w=C/2,P=function(qe){return Ei(i,qe,C)},V,N,B,O,L,G,$,W,le,se,_e,ct;if(a==="top")V=P(this.bottom),G=this.bottom-b,W=V-w,se=P(e.top)+w,ct=e.bottom;else if(a==="bottom")V=P(this.top),se=e.top,ct=P(e.bottom)-w,G=V+w,W=this.top+b;else if(a==="left")V=P(this.right),L=this.right-b,$=V-w,le=P(e.left)+w,_e=e.right;else if(a==="right")V=P(this.left),le=e.left,_e=P(e.right)-w,L=V+w,$=this.left+b;else if(n==="x"){if(a==="center")V=P((e.top+e.bottom)/2+.5);else if(be(a)){let qe=Object.keys(a)[0],tt=a[qe];V=P(this.chart.scales[qe].getPixelForValue(tt))}se=e.top,ct=e.bottom,G=V+w,W=G+b}else if(n==="y"){if(a==="center")V=P((e.left+e.right)/2);else if(be(a)){let qe=Object.keys(a)[0],tt=a[qe];V=P(this.chart.scales[qe].getPixelForValue(tt))}L=V-w,$=L-b,le=e.left,_e=e.right}let Ft=re(o.ticks.maxTicksLimit,h),Ve=Math.max(1,Math.ceil(h/Ft));for(N=0;N<h;N+=Ve){let qe=this.getContext(N),tt=r.setContext(qe),Ut=s.setContext(qe),ft=tt.lineWidth,en=tt.color,ko=Ut.dash||[],tn=Ut.dashOffset,jn=tt.tickWidth,Ai=tt.tickColor,$n=tt.tickBorderDash||[],Oi=tt.tickBorderDashOffset;B=$_(this,N,d),B!==void 0&&(O=Ei(i,B,ft),m?L=$=le=_e=O:G=W=se=ct=O,_.push({tx1:L,ty1:G,tx2:$,ty2:W,x1:le,y1:se,x2:_e,y2:ct,width:ft,color:en,borderDash:ko,borderDashOffset:tn,tickWidth:jn,tickColor:Ai,tickBorderDash:$n,tickBorderDashOffset:Oi}))}return this._ticksLength=h,this._borderValue=V,_}_computeLabelItems(e){let n=this.axis,i=this.options,{position:o,ticks:r}=i,a=this.isHorizontal(),s=this.ticks,{align:d,crossAlign:m,padding:p,mirror:h}=r,b=bo(i.grid),_=b+p,x=h?-p:_,C=-zt(this.labelRotation),w=[],P,V,N,B,O,L,G,$,W,le,se,_e,ct="middle";if(o==="top")L=this.bottom-x,G=this._getXAxisLabelAlignment();else if(o==="bottom")L=this.top+x,G=this._getXAxisLabelAlignment();else if(o==="left"){let Ve=this._getYAxisLabelAlignment(b);G=Ve.textAlign,O=Ve.x}else if(o==="right"){let Ve=this._getYAxisLabelAlignment(b);G=Ve.textAlign,O=Ve.x}else if(n==="x"){if(o==="center")L=(e.top+e.bottom)/2+_;else if(be(o)){let Ve=Object.keys(o)[0],qe=o[Ve];L=this.chart.scales[Ve].getPixelForValue(qe)+_}G=this._getXAxisLabelAlignment()}else if(n==="y"){if(o==="center")O=(e.left+e.right)/2-_;else if(be(o)){let Ve=Object.keys(o)[0],qe=o[Ve];O=this.chart.scales[Ve].getPixelForValue(qe)}G=this._getYAxisLabelAlignment(b).textAlign}n==="y"&&(d==="start"?ct="top":d==="end"&&(ct="bottom"));let Ft=this._getLabelSizes();for(P=0,V=s.length;P<V;++P){N=s[P],B=N.label;let Ve=r.setContext(this.getContext(P));$=this.getPixelForTick(P)+r.labelOffset,W=this._resolveTickFontOptions(P),le=W.lineHeight,se=ze(B)?B.length:1;let qe=se/2,tt=Ve.color,Ut=Ve.textStrokeColor,ft=Ve.textStrokeWidth,en=G;a?(O=$,G==="inner"&&(P===V-1?en=this.options.reverse?"left":"right":P===0?en=this.options.reverse?"right":"left":en="center"),o==="top"?m==="near"||C!==0?_e=-se*le+le/2:m==="center"?_e=-Ft.highest.height/2-qe*le+le:_e=-Ft.highest.height+le/2:m==="near"||C!==0?_e=le/2:m==="center"?_e=Ft.highest.height/2-qe*le:_e=Ft.highest.height-se*le,h&&(_e*=-1),C!==0&&!Ve.showLabelBackdrop&&(O+=le/2*Math.sin(C))):(L=$,_e=(1-se)*le/2);let ko;if(Ve.showLabelBackdrop){let tn=pt(Ve.backdropPadding),jn=Ft.heights[P],Ai=Ft.widths[P],$n=_e-tn.top,Oi=0-tn.left;switch(ct){case"middle":$n-=jn/2;break;case"bottom":$n-=jn;break}switch(G){case"center":Oi-=Ai/2;break;case"right":Oi-=Ai;break;case"inner":P===V-1?Oi-=Ai:P>0&&(Oi-=Ai/2);break}ko={left:Oi,top:$n,width:Ai+tn.width,height:jn+tn.height,color:Ve.backdropColor}}w.push({label:B,font:W,textOffset:_e,options:{rotation:C,color:tt,strokeColor:Ut,strokeWidth:ft,textAlign:en,textBaseline:ct,translation:[O,L],backdrop:ko}})}return w}_getXAxisLabelAlignment(){let{position:e,ticks:n}=this.options;if(-zt(this.labelRotation))return e==="top"?"left":"right";let o="center";return n.align==="start"?o="left":n.align==="end"?o="right":n.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){let{position:n,ticks:{crossAlign:i,mirror:o,padding:r}}=this.options,a=this._getLabelSizes(),s=e+r,d=a.widest.width,m,p;return n==="left"?o?(p=this.right+r,i==="near"?m="left":i==="center"?(m="center",p+=d/2):(m="right",p+=d)):(p=this.right-s,i==="near"?m="right":i==="center"?(m="center",p-=d/2):(m="left",p=this.left)):n==="right"?o?(p=this.left+r,i==="near"?m="right":i==="center"?(m="center",p-=d/2):(m="left",p-=d)):(p=this.left+s,i==="near"?m="left":i==="center"?(m="center",p+=d/2):(m="right",p=this.right)):m="right",{textAlign:m,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:n},left:i,top:o,width:r,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,o,r,a),e.restore())}getLineWidthForValue(e){let n=this.options.grid;if(!this._isVisible()||!n.display)return 0;let o=this.ticks.findIndex(r=>r.value===e);return o>=0?n.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){let n=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),r,a,s=(d,m,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(n.display)for(r=0,a=o.length;r<a;++r){let d=o[r];n.drawOnChartArea&&s({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),n.drawTicks&&s({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:n,options:{border:i,grid:o}}=this,r=i.setContext(this.getContext()),a=i.display?r.width:0;if(!a)return;let s=o.setContext(this.getContext(0)).lineWidth,d=this._borderValue,m,p,h,b;this.isHorizontal()?(m=Ei(e,this.left,a)-a/2,p=Ei(e,this.right,s)+s/2,h=b=d):(h=Ei(e,this.top,a)-a/2,b=Ei(e,this.bottom,s)+s/2,m=p=d),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(m,h),n.lineTo(p,b),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;let i=this.ctx,o=this._computeLabelArea();o&&mo(i,o);let r=this.getLabelItems(e);for(let a of r){let s=a.options,d=a.font,m=a.label,p=a.textOffset;Mi(i,m,0,p,d,s)}o&&po(i)}drawTitle(){let{ctx:e,options:{position:n,title:i,reverse:o}}=this;if(!i.display)return;let r=nt(i.font),a=pt(i.padding),s=i.align,d=r.lineHeight/2;n==="bottom"||n==="center"||be(n)?(d+=a.bottom,ze(i.text)&&(d+=r.lineHeight*(i.text.length-1))):d+=a.top;let{titleX:m,titleY:p,maxWidth:h,rotation:b}=W_(this,d,n,s);Mi(e,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:b,textAlign:G_(s,n,o),textBaseline:"middle",translation:[m,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,n=e.ticks&&e.ticks.z||0,i=re(e.grid&&e.grid.z,-1),o=re(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==t.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){let n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[],r,a;for(r=0,a=n.length;r<a;++r){let s=n[r];s[i]===this.id&&(!e||s.type===e)&&o.push(s)}return o}_resolveTickFontOptions(e){let n=this.options.ticks.setContext(this.getContext(e));return nt(n.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},Tn=class{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let n=Object.getPrototypeOf(e),i;K_(n)&&(i=this.register(n));let o=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in o||(o[r]=e,Y_(e,a,i),this.override&&Ue.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){let n=this.items,i=e.id,o=this.scope;i in n&&delete n[i],o&&i in Ue[o]&&(delete Ue[o][i],this.override&&delete Si[i])}};function Y_(t,e,n){let i=En(Object.create(null),[n?Ue.get(n):{},Ue.get(e),t.defaults]);Ue.set(e,i),t.defaultRoutes&&X_(e,t.defaultRoutes),t.descriptors&&Ue.describe(e,t.descriptors)}function X_(t,e){Object.keys(e).forEach(n=>{let i=n.split("."),o=i.pop(),r=[t].concat(i).join("."),a=e[n].split("."),s=a.pop(),d=a.join(".");Ue.route(r,o,d,s)})}function K_(t){return"id"in t&&"defaults"in t}var Ms=class{constructor(){this.controllers=new Tn(Pi,"datasets",!0),this.elements=new Tn(Kt,"elements"),this.plugins=new Tn(Object,"plugins"),this.scales=new Tn(Zi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(o=>{let r=i||this._getRegistryForType(o);i||r.isForType(o)||r===this.plugins&&o.id?this._exec(e,r,o):ke(o,a=>{let s=i||this._getRegistryForType(a);this._exec(e,s,a)})})}_exec(e,n,i){let o=_r(e);Oe(i["before"+o],[],i),n[e](i),Oe(i["after"+o],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){let i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){let o=n.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return o}},oi=new Ms,ks=class{constructor(){this._init=[]}notify(e,n,i,o){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let r=o?this._descriptors(e).filter(o):this._descriptors(e),a=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,i,o){o=o||{};for(let r of e){let a=r.plugin,s=a[i],d=[n,o,r.options];if(Oe(s,d,a)===!1&&o.cancelable)return!1}return!0}invalidate(){Ce(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){let i=e&&e.config,o=re(i.options&&i.options.plugins,{}),r=Z_(i);return o===!1&&!n?[]:Q_(e,r,o,n)}_notifyStateChanges(e){let n=this._oldCache||[],i=this._cache,o=(r,a)=>r.filter(s=>!a.some(d=>s.plugin.id===d.plugin.id));this._notify(o(n,i),e,"stop"),this._notify(o(i,n),e,"start")}};function Z_(t){let e={},n=[],i=Object.keys(oi.plugins.items);for(let r=0;r<i.length;r++)n.push(oi.getPlugin(i[r]));let o=t.plugins||[];for(let r=0;r<o.length;r++){let a=o[r];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function J_(t,e){return!e&&t===!1?null:t===!0?{}:t}function Q_(t,{plugins:e,localIds:n},i,o){let r=[],a=t.getContext();for(let s of e){let d=s.id,m=J_(i[d],o);m!==null&&r.push({plugin:s,options:ev(t.config,{plugin:s,local:n[d]},m,a)})}return r}function ev(t,{plugin:e,local:n},i,o){let r=t.pluginScopeKeys(e),a=t.getOptionScopes(i,r);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Is(t,e){let n=Ue.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function tv(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function iv(t,e){return t===e?"_index_":"_value_"}function vu(t){if(t==="x"||t==="y"||t==="r")return t}function nv(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Vs(t,...e){if(vu(t))return t;for(let n of e){let i=n.axis||nv(n.position)||t.length>1&&vu(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function xu(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function ov(t,e){if(e.data&&e.data.datasets){let n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return xu(t,"x",n[0])||xu(t,"y",n[0])}return{}}function rv(t,e){let n=Si[t.type]||{scales:{}},i=e.scales||{},o=Is(t.type,e),r=Object.create(null);return Object.keys(i).forEach(a=>{let s=i[a];if(!be(s))return console.error(`Invalid scale configuration for scale: ${a}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);let d=Vs(a,s,ov(a,t),Ue.scales[s.type]),m=iv(d,o),p=n.scales||{};r[a]=kn(Object.create(null),[{axis:d},s,p[d],p[m]])}),t.data.datasets.forEach(a=>{let s=a.type||t.type,d=a.indexAxis||Is(s,e),p=(Si[s]||{}).scales||{};Object.keys(p).forEach(h=>{let b=tv(h,d),_=a[b+"AxisID"]||b;r[_]=r[_]||Object.create(null),kn(r[_],[{axis:b},i[_],p[h]])})}),Object.keys(r).forEach(a=>{let s=r[a];kn(s,[Ue.scales[s.type],Ue.scale])}),r}function sm(t){let e=t.options||(t.options={});e.plugins=re(e.plugins,{}),e.scales=rv(t,e)}function lm(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function av(t){return t=t||{},t.data=lm(t.data),sm(t),t}var yu=new Map,cm=new Set;function Fr(t,e){let n=yu.get(t);return n||(n=e(),yu.set(t,n),cm.add(n)),n}var _o=(t,e,n)=>{let i=ui(e,n);i!==void 0&&t.add(i)},Ps=class{constructor(e){this._config=av(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=lm(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),sm(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Fr(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Fr(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Fr(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){let n=e.id,i=this.type;return Fr(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){let i=this._scopeCache,o=i.get(e);return(!o||n)&&(o=new Map,i.set(e,o)),o}getOptionScopes(e,n,i){let{options:o,type:r}=this,a=this._cachedScopes(e,i),s=a.get(n);if(s)return s;let d=new Set;n.forEach(p=>{e&&(d.add(e),p.forEach(h=>_o(d,e,h))),p.forEach(h=>_o(d,o,h)),p.forEach(h=>_o(d,Si[r]||{},h)),p.forEach(h=>_o(d,Ue,h)),p.forEach(h=>_o(d,Cr,h))});let m=Array.from(d);return m.length===0&&m.push(Object.create(null)),cm.has(n)&&a.set(n,m),m}chartOptionScopes(){let{options:e,type:n}=this;return[e,Si[n]||{},Ue.datasets[n]||{},{type:n},Ue,Cr]}resolveNamedOptions(e,n,i,o=[""]){let r={$shared:!0},{resolver:a,subPrefixes:s}=Cu(this._resolverCache,e,o),d=a;if(lv(a,n)){r.$shared=!1,i=ci(i)?i():i;let m=this.createResolver(e,i,s);d=Gi(a,i,m)}for(let m of n)r[m]=d[m];return r}createResolver(e,n,i=[""],o){let{resolver:r}=Cu(this._resolverCache,e,i);return be(n)?Gi(r,n,void 0,o):r}};function Cu(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));let o=n.join(),r=i.get(o);return r||(r={resolver:Er(e,n),subPrefixes:n.filter(s=>!s.toLowerCase().includes("hover"))},i.set(o,r)),r}var sv=t=>be(t)&&Object.getOwnPropertyNames(t).some(e=>ci(t[e]));function lv(t,e){let{isScriptable:n,isIndexable:i}=ts(t);for(let o of e){let r=n(o),a=i(o),s=(a||r)&&t[o];if(r&&(ci(s)||sv(s))||a&&ze(s))return!0}return!1}var cv="4.4.7",dv=["top","bottom","left","right","chartArea"];function wu(t,e){return t==="top"||t==="bottom"||dv.indexOf(t)===-1&&e==="x"}function Su(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Eu(t){let e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Oe(n&&n.onComplete,[t],e)}function uv(t){let e=t.chart,n=e.options.animation;Oe(n&&n.onProgress,[t],e)}function dm(t){return Mr()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var Rr={},Mu=t=>{let e=dm(t);return Object.values(Rr).filter(n=>n.canvas===e).pop()};function mv(t,e,n){let i=Object.keys(t);for(let o of i){let r=+o;if(r>=e){let a=t[o];delete t[o],(n>0||r>e)&&(t[r+n]=a)}}}function pv(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function Ar(t,e,n){return t.options.clip?t[n]:e[n]}function fv(t,e){let{xScale:n,yScale:i}=t;return n&&i?{left:Ar(n,e,"left"),right:Ar(n,e,"right"),top:Ar(i,e,"top"),bottom:Ar(i,e,"bottom")}:e}var Eo=(()=>{class t{static defaults=Ue;static instances=Rr;static overrides=Si;static registry=oi;static version=cv;static getChart=Mu;static register(...n){oi.add(...n),ku()}static unregister(...n){oi.remove(...n),ku()}constructor(n,i){let o=this.config=new Ps(i),r=dm(n),a=Mu(r);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");let s=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||D_(r)),this.platform.updateConfig(o);let d=this.platform.acquireContext(r,s.aspectRatio),m=d&&d.canvas,p=m&&m.height,h=m&&m.width;if(this.id=Ed(),this.ctx=d,this.canvas=m,this.width=h,this.height=p,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ks,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Nd(b=>this.update(b),s.resizeDelay||0),this._dataChanges=[],Rr[this.id]=this,!d||!m){console.error("Failed to create chart: can't acquire context from the given item");return}pi.listen(this,"complete",Eu),pi.listen(this,"progress",uv),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:n,maintainAspectRatio:i},width:o,height:r,_aspectRatio:a}=this;return Ce(n)?i&&a?a:r?o/r:null:n}get data(){return this.config.data}set data(n){this.config.data=n}get options(){return this._options}set options(n){this.config.options=n}get registry(){return oi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():rs(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ja(this.canvas,this.ctx),this}stop(){return pi.stop(this),this}resize(n,i){pi.running(this)?this._resizeBeforeDraw={width:n,height:i}:this._resize(n,i)}_resize(n,i){let o=this.options,r=this.canvas,a=o.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,n,i,a),d=o.devicePixelRatio||this.platform.getDevicePixelRatio(),m=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,rs(this,d,!0)&&(this.notifyPlugins("resize",{size:s}),Oe(o.onResize,[this,s],this),this.attached&&this._doResize(m)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};ke(i,(o,r)=>{o.id=r})}buildOrUpdateScales(){let n=this.options,i=n.scales,o=this.scales,r=Object.keys(o).reduce((s,d)=>(s[d]=!1,s),{}),a=[];i&&(a=a.concat(Object.keys(i).map(s=>{let d=i[s],m=Vs(s,d),p=m==="r",h=m==="x";return{options:d,dposition:p?"chartArea":h?"bottom":"left",dtype:p?"radialLinear":h?"category":"linear"}}))),ke(a,s=>{let d=s.options,m=d.id,p=Vs(m,d),h=re(d.type,s.dtype);(d.position===void 0||wu(d.position,p)!==wu(s.dposition))&&(d.position=s.dposition),r[m]=!0;let b=null;if(m in o&&o[m].type===h)b=o[m];else{let _=oi.getScale(h);b=new _({id:m,type:h,ctx:this.ctx,chart:this}),o[b.id]=b}b.init(d,n)}),ke(r,(s,d)=>{s||delete o[d]}),ke(o,s=>{bt.configure(this,s,s.options),bt.addBox(this,s)})}_updateMetasets(){let n=this._metasets,i=this.data.datasets.length,o=n.length;if(n.sort((r,a)=>r.index-a.index),o>i){for(let r=i;r<o;++r)this._destroyDatasetMeta(r);n.splice(i,o-i)}this._sortedMetasets=n.slice(0).sort(Su("order","index"))}_removeUnreferencedMetasets(){let{_metasets:n,data:{datasets:i}}=this;n.length>i.length&&delete this._stacks,n.forEach((o,r)=>{i.filter(a=>a===o._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){let n=[],i=this.data.datasets,o,r;for(this._removeUnreferencedMetasets(),o=0,r=i.length;o<r;o++){let a=i[o],s=this.getDatasetMeta(o),d=a.type||this.config.type;if(s.type&&s.type!==d&&(this._destroyDatasetMeta(o),s=this.getDatasetMeta(o)),s.type=d,s.indexAxis=a.indexAxis||Is(d,this.options),s.order=a.order||0,s.index=o,s.label=""+a.label,s.visible=this.isDatasetVisible(o),s.controller)s.controller.updateIndex(o),s.controller.linkScales();else{let m=oi.getController(d),{datasetElementType:p,dataElementType:h}=Ue.datasets[d];Object.assign(m,{dataElementType:oi.getElement(h),datasetElementType:p&&oi.getElement(p)}),s.controller=new m(this,o),n.push(s.controller)}}return this._updateMetasets(),n}_resetElements(){ke(this.data.datasets,(n,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(n){let i=this.config;i.update();let o=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0})===!1)return;let a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let p=0,h=this.data.datasets.length;p<h;p++){let{controller:b}=this.getDatasetMeta(p),_=!r&&a.indexOf(b)===-1;b.buildOrUpdateElements(_),s=Math.max(+b.getMaxOverflow(),s)}s=this._minPadding=o.layout.autoPadding?s:0,this._updateLayout(s),r||ke(a,p=>{p.reset()}),this._updateDatasets(n),this.notifyPlugins("afterUpdate",{mode:n}),this._layers.sort(Su("z","_idx"));let{_active:d,_lastEvent:m}=this;m?this._eventHandler(m,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){ke(this.scales,n=>{bt.removeBox(this,n)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let n=this.options,i=new Set(Object.keys(this._listeners)),o=new Set(n.events);(!Ba(i,o)||!!this._responsiveListeners!==n.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:n}=this,i=this._getUniformDataChanges()||[];for(let{method:o,start:r,count:a}of i){let s=o==="_removeElements"?-a:a;mv(n,r,s)}}_getUniformDataChanges(){let n=this._dataChanges;if(!n||!n.length)return;this._dataChanges=[];let i=this.data.datasets.length,o=a=>new Set(n.filter(s=>s[0]===a).map((s,d)=>d+","+s.splice(1).join(","))),r=o(0);for(let a=1;a<i;a++)if(!Ba(r,o(a)))return;return Array.from(r).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(n){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;bt.update(this,this.width,this.height,n);let i=this.chartArea,o=i.width<=0||i.height<=0;this._layers=[],ke(this.boxes,r=>{o&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,a)=>{r._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(n){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})!==!1){for(let i=0,o=this.data.datasets.length;i<o;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,o=this.data.datasets.length;i<o;++i)this._updateDataset(i,ci(n)?n({datasetIndex:i}):n);this.notifyPlugins("afterDatasetsUpdate",{mode:n})}}_updateDataset(n,i){let o=this.getDatasetMeta(n),r={meta:o,index:n,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(o.controller._update(i),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(pi.has(this)?this.attached&&!pi.running(this)&&pi.start(this):(this.draw(),Eu({chart:this})))}draw(){let n;if(this._resizeBeforeDraw){let{width:o,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(o,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(n=0;n<i.length&&i[n].z<=0;++n)i[n].draw(this.chartArea);for(this._drawDatasets();n<i.length;++n)i[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(n){let i=this._sortedMetasets,o=[],r,a;for(r=0,a=i.length;r<a;++r){let s=i[r];(!n||s.visible)&&o.push(s)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let n=this.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i)this._drawDataset(n[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(n){let i=this.ctx,o=n._clip,r=!o.disabled,a=fv(n,this.chartArea),s={meta:n,index:n.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&mo(i,{left:o.left===!1?0:a.left-o.left,right:o.right===!1?this.width:a.right+o.right,top:o.top===!1?0:a.top-o.top,bottom:o.bottom===!1?this.height:a.bottom+o.bottom}),n.controller.draw(),r&&po(i),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(n){return ei(n,this.chartArea,this._minPadding)}getElementsAtEventForMode(n,i,o,r){let a=h_.modes[i];return typeof a=="function"?a(this,n,o,r):[]}getDatasetMeta(n){let i=this.data.datasets[n],o=this._metasets,r=o.filter(a=>a&&a._dataset===i).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:n,_dataset:i,_parsed:[],_sorted:!1},o.push(r)),r}getContext(){return this.$context||(this.$context=mi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(n){let i=this.data.datasets[n];if(!i)return!1;let o=this.getDatasetMeta(n);return typeof o.hidden=="boolean"?!o.hidden:!i.hidden}setDatasetVisibility(n,i){let o=this.getDatasetMeta(n);o.hidden=!i}toggleDataVisibility(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}getDataVisibility(n){return!this._hiddenIndices[n]}_updateVisibility(n,i,o){let r=o?"show":"hide",a=this.getDatasetMeta(n),s=a.controller._resolveAnimations(void 0,r);In(i)?(a.data[i].hidden=!o,this.update()):(this.setDatasetVisibility(n,o),s.update(a,{visible:o}),this.update(d=>d.datasetIndex===n?r:void 0))}hide(n,i){this._updateVisibility(n,i,!1)}show(n,i){this._updateVisibility(n,i,!0)}_destroyDatasetMeta(n){let i=this._metasets[n];i&&i.controller&&i.controller._destroy(),delete this._metasets[n]}_stop(){let n,i;for(this.stop(),pi.remove(this),n=0,i=this.data.datasets.length;n<i;++n)this._destroyDatasetMeta(n)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:n,ctx:i}=this;this._stop(),this.config.clearCache(),n&&(this.unbindEvents(),Ja(n,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete Rr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...n){return this.canvas.toDataURL(...n)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let n=this._listeners,i=this.platform,o=(a,s)=>{i.addEventListener(this,a,s),n[a]=s},r=(a,s,d)=>{a.offsetX=s,a.offsetY=d,this._eventHandler(a)};ke(this.options.events,a=>o(a,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let n=this._responsiveListeners,i=this.platform,o=(m,p)=>{i.addEventListener(this,m,p),n[m]=p},r=(m,p)=>{n[m]&&(i.removeEventListener(this,m,p),delete n[m])},a=(m,p)=>{this.canvas&&this.resize(m,p)},s,d=()=>{r("attach",d),this.attached=!0,this.resize(),o("resize",a),o("detach",s)};s=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),o("attach",d)},i.isAttached(this.canvas)?d():s()}unbindEvents(){ke(this._listeners,(n,i)=>{this.platform.removeEventListener(this,i,n)}),this._listeners={},ke(this._responsiveListeners,(n,i)=>{this.platform.removeEventListener(this,i,n)}),this._responsiveListeners=void 0}updateHoverStyle(n,i,o){let r=o?"set":"remove",a,s,d,m;for(i==="dataset"&&(a=this.getDatasetMeta(n[0].datasetIndex),a.controller["_"+r+"DatasetHoverStyle"]()),d=0,m=n.length;d<m;++d){s=n[d];let p=s&&this.getDatasetMeta(s.datasetIndex).controller;p&&p[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(n){let i=this._active||[],o=n.map(({datasetIndex:a,index:s})=>{let d=this.getDatasetMeta(a);if(!d)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:d.data[s],index:s}});!co(o,i)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,i))}notifyPlugins(n,i,o){return this._plugins.notify(this,n,i,o)}isPluginEnabled(n){return this._plugins._cache.filter(i=>i.plugin.id===n).length===1}_updateHoverStyles(n,i,o){let r=this.options.hover,a=(m,p)=>m.filter(h=>!p.some(b=>h.datasetIndex===b.datasetIndex&&h.index===b.index)),s=a(i,n),d=o?n:a(n,i);s.length&&this.updateHoverStyle(s,r.mode,!1),d.length&&r.mode&&this.updateHoverStyle(d,r.mode,!0)}_eventHandler(n,i){let o={event:n,replay:i,cancelable:!0,inChartArea:this.isPointInArea(n)},r=s=>(s.options.events||this.options.events).includes(n.native.type);if(this.notifyPlugins("beforeEvent",o,r)===!1)return;let a=this._handleEvent(n,i,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,r),(a||o.changed)&&this.render(),this}_handleEvent(n,i,o){let{_active:r=[],options:a}=this,s=i,d=this._getActiveElements(n,r,o,s),m=Id(n),p=pv(n,this._lastEvent,o,m);o&&(this._lastEvent=null,Oe(a.onHover,[n,d,this],this),m&&Oe(a.onClick,[n,d,this],this));let h=!co(d,r);return(h||i)&&(this._active=d,this._updateHoverStyles(d,r,i)),this._lastEvent=p,h}_getActiveElements(n,i,o,r){if(n.type==="mouseout")return[];if(!o)return i;let a=this.options.hover;return this.getElementsAtEventForMode(n,a.mode,a,r)}}return t})();function ku(){return ke(Eo.instances,t=>t._plugins.invalidate())}function hv(t,e,n){let{startAngle:i,pixelMargin:o,x:r,y:a,outerRadius:s,innerRadius:d}=e,m=o/s;t.beginPath(),t.arc(r,a,s,i-m,n+m),d>o?(m=o/d,t.arc(r,a,d,n+m,i-m,!0)):t.arc(r,a,o,n+et,i-et),t.closePath(),t.clip()}function gv(t){return Sr(t,["outerStart","outerEnd","innerStart","innerEnd"])}function bv(t,e,n,i){let o=gv(t.options.borderRadius),r=(n-e)/2,a=Math.min(r,i*e/2),s=d=>{let m=(n-Math.min(r,d))*i/2;return st(d,0,Math.min(r,m))};return{outerStart:s(o.outerStart),outerEnd:s(o.outerEnd),innerStart:st(o.innerStart,0,a),innerEnd:st(o.innerEnd,0,a)}}function Dn(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function jr(t,e,n,i,o,r){let{x:a,y:s,startAngle:d,pixelMargin:m,innerRadius:p}=e,h=Math.max(e.outerRadius+i+n-m,0),b=p>0?p+i+n+m:0,_=0,x=o-d;if(i){let Ve=p>0?p-i:0,qe=h>0?h-i:0,tt=(Ve+qe)/2,Ut=tt!==0?x*tt/(tt+i):x;_=(x-Ut)/2}let C=Math.max(.001,x*h-n/je)/h,w=(x-C)/2,P=d+w+_,V=o-w-_,{outerStart:N,outerEnd:B,innerStart:O,innerEnd:L}=bv(e,b,h,V-P),G=h-N,$=h-B,W=P+N/G,le=V-B/$,se=b+O,_e=b+L,ct=P+O/se,Ft=V-L/_e;if(t.beginPath(),r){let Ve=(W+le)/2;if(t.arc(a,s,h,W,Ve),t.arc(a,s,h,Ve,le),B>0){let ft=Dn($,le,a,s);t.arc(ft.x,ft.y,B,le,V+et)}let qe=Dn(_e,V,a,s);if(t.lineTo(qe.x,qe.y),L>0){let ft=Dn(_e,Ft,a,s);t.arc(ft.x,ft.y,L,V+et,Ft+Math.PI)}let tt=(V-L/b+(P+O/b))/2;if(t.arc(a,s,b,V-L/b,tt,!0),t.arc(a,s,b,tt,P+O/b,!0),O>0){let ft=Dn(se,ct,a,s);t.arc(ft.x,ft.y,O,ct+Math.PI,P-et)}let Ut=Dn(G,P,a,s);if(t.lineTo(Ut.x,Ut.y),N>0){let ft=Dn(G,W,a,s);t.arc(ft.x,ft.y,N,P-et,W)}}else{t.moveTo(a,s);let Ve=Math.cos(W)*h+a,qe=Math.sin(W)*h+s;t.lineTo(Ve,qe);let tt=Math.cos(le)*h+a,Ut=Math.sin(le)*h+s;t.lineTo(tt,Ut)}t.closePath()}function _v(t,e,n,i,o){let{fullCircles:r,startAngle:a,circumference:s}=e,d=e.endAngle;if(r){jr(t,e,n,i,d,o);for(let m=0;m<r;++m)t.fill();isNaN(s)||(d=a+(s%$e||$e))}return jr(t,e,n,i,d,o),t.fill(),d}function vv(t,e,n,i,o){let{fullCircles:r,startAngle:a,circumference:s,options:d}=e,{borderWidth:m,borderJoinStyle:p,borderDash:h,borderDashOffset:b}=d,_=d.borderAlign==="inner";if(!m)return;t.setLineDash(h||[]),t.lineDashOffset=b,_?(t.lineWidth=m*2,t.lineJoin=p||"round"):(t.lineWidth=m,t.lineJoin=p||"bevel");let x=e.endAngle;if(r){jr(t,e,n,i,x,o);for(let C=0;C<r;++C)t.stroke();isNaN(s)||(x=a+(s%$e||$e))}_&&hv(t,e,x),r||(jr(t,e,n,i,x,o),t.stroke())}var Fs=class extends Kt{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){let o=this.getProps(["x","y"],i),{angle:r,distance:a}=Ha(o,{x:e,y:n}),{startAngle:s,endAngle:d,innerRadius:m,outerRadius:p,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),b=(this.options.spacing+this.options.borderWidth)/2,_=re(h,d-s),x=Pn(r,s,d)&&s!==d,C=_>=$e||x,w=ii(a,m+b,p+b);return C&&w}getCenterPoint(e){let{x:n,y:i,startAngle:o,endAngle:r,innerRadius:a,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:m}=this.options,p=(o+r)/2,h=(a+s+m+d)/2;return{x:n+Math.cos(p)*h,y:i+Math.sin(p)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:n,circumference:i}=this,o=(n.offset||0)/4,r=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>$e?Math.floor(i/$e):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let s=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(s)*o,Math.sin(s)*o);let d=1-Math.sin(Math.min(je,i||0)),m=o*d;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,_v(e,this,m,r,a),vv(e,this,m,r,a),e.restore()}};function um(t,e,n=e){t.lineCap=re(n.borderCapStyle,e.borderCapStyle),t.setLineDash(re(n.borderDash,e.borderDash)),t.lineDashOffset=re(n.borderDashOffset,e.borderDashOffset),t.lineJoin=re(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=re(n.borderWidth,e.borderWidth),t.strokeStyle=re(n.borderColor,e.borderColor)}function xv(t,e,n){t.lineTo(n.x,n.y)}function yv(t){return t.stepped?zd:t.tension||t.cubicInterpolationMode==="monotone"?jd:xv}function mm(t,e,n={}){let i=t.length,{start:o=0,end:r=i-1}=n,{start:a,end:s}=e,d=Math.max(o,a),m=Math.min(r,s),p=o<a&&r<a||o>s&&r>s;return{count:i,start:d,loop:e.loop,ilen:m<d&&!p?i+m-d:m-d}}function Cv(t,e,n,i){let{points:o,options:r}=e,{count:a,start:s,loop:d,ilen:m}=mm(o,n,i),p=yv(r),{move:h=!0,reverse:b}=i||{},_,x,C;for(_=0;_<=m;++_)x=o[(s+(b?m-_:_))%a],!x.skip&&(h?(t.moveTo(x.x,x.y),h=!1):p(t,C,x,b,r.stepped),C=x);return d&&(x=o[(s+(b?m:0))%a],p(t,C,x,b,r.stepped)),!!d}function wv(t,e,n,i){let o=e.points,{count:r,start:a,ilen:s}=mm(o,n,i),{move:d=!0,reverse:m}=i||{},p=0,h=0,b,_,x,C,w,P,V=B=>(a+(m?s-B:B))%r,N=()=>{C!==w&&(t.lineTo(p,w),t.lineTo(p,C),t.lineTo(p,P))};for(d&&(_=o[V(0)],t.moveTo(_.x,_.y)),b=0;b<=s;++b){if(_=o[V(b)],_.skip)continue;let B=_.x,O=_.y,L=B|0;L===x?(O<C?C=O:O>w&&(w=O),p=(h*p+B)/++h):(N(),t.lineTo(B,O),x=L,h=0,C=w=O),P=O}N()}function As(t){let e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?wv:Cv}function Sv(t){return t.stepped?Kd:t.tension||t.cubicInterpolationMode==="monotone"?Zd:wi}function Ev(t,e,n,i){let o=e._path;o||(o=e._path=new Path2D,e.path(o,n,i)&&o.closePath()),um(t,e.options),t.stroke(o)}function Mv(t,e,n,i){let{segments:o,options:r}=e,a=As(e);for(let s of o)um(t,r,s.style),t.beginPath(),a(t,e,s,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}var kv=typeof Path2D=="function";function Iv(t,e,n,i){kv&&!e.options.segment?Ev(t,e,n,i):Mv(t,e,n,i)}var Ur=(()=>{class t extends Kt{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"&&n!=="fill"};constructor(n){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,n&&Object.assign(this,n)}updateControlPoints(n,i){let o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){let r=o.spanGaps?this._loop:this._fullLoop;Wd(this._points,o,n,r,i),this._pointsUpdated=!0}}set points(n){this._points=n,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Qd(this,this.options.segment))}first(){let n=this.segments,i=this.points;return n.length&&i[n[0].start]}last(){let n=this.segments,i=this.points,o=n.length;return o&&i[n[o-1].end]}interpolate(n,i){let o=this.options,r=n[i],a=this.points,s=ds(this,{property:i,start:r,end:r});if(!s.length)return;let d=[],m=Sv(o),p,h;for(p=0,h=s.length;p<h;++p){let{start:b,end:_}=s[p],x=a[b],C=a[_];if(x===C){d.push(x);continue}let w=Math.abs((r-x[i])/(C[i]-x[i])),P=m(x,C,w,o.stepped);P[i]=n[i],d.push(P)}return d.length===1?d[0]:d}pathSegment(n,i,o){return As(this)(n,this,i,o)}path(n,i,o){let r=this.segments,a=As(this),s=this._loop;i=i||0,o=o||this.points.length-i;for(let d of r)s&=a(n,this,d,{start:i,end:i+o-1});return!!s}draw(n,i,o,r){let a=this.options||{};(this.points||[]).length&&a.borderWidth&&(n.save(),Iv(n,this,o,r),n.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t})();function Iu(t,e,n,i){let o=t.options,{[n]:r}=t.getProps([n],i);return Math.abs(e-r)<o.radius+o.hitRadius}var Vv=(()=>{class t extends Kt{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,o){let r=this.options,{x:a,y:s}=this.getProps(["x","y"],o);return Math.pow(n-a,2)+Math.pow(i-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return Iu(this,n,"x",i)}inYRange(n,i){return Iu(this,n,"y",i)}getCenterPoint(n){let{x:i,y:o}=this.getProps(["x","y"],n);return{x:i,y:o}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);let o=i&&n.borderWidth||0;return(i+o)*2}draw(n,i){let o=this.options;this.skip||o.radius<.1||!ei(this,i,this.size(o)/2)||(n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.fillStyle=o.backgroundColor,wr(n,o,this.x,this.y))}getRange(){let n=this.options||{};return n.radius+n.hitRadius}}return t})();function pm(t,e){let{x:n,y:i,base:o,width:r,height:a}=t.getProps(["x","y","base","width","height"],e),s,d,m,p,h;return t.horizontal?(h=a/2,s=Math.min(n,o),d=Math.max(n,o),m=i-h,p=i+h):(h=r/2,s=n-h,d=n+h,m=Math.min(i,o),p=Math.max(i,o)),{left:s,top:m,right:d,bottom:p}}function Vi(t,e,n,i){return t?0:st(e,n,i)}function Pv(t,e,n){let i=t.options.borderWidth,o=t.borderSkipped,r=es(i);return{t:Vi(o.top,r.top,0,n),r:Vi(o.right,r.right,0,e),b:Vi(o.bottom,r.bottom,0,n),l:Vi(o.left,r.left,0,e)}}function Fv(t,e,n){let{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),o=t.options.borderRadius,r=ki(o),a=Math.min(e,n),s=t.borderSkipped,d=i||be(o);return{topLeft:Vi(!d||s.top||s.left,r.topLeft,0,a),topRight:Vi(!d||s.top||s.right,r.topRight,0,a),bottomLeft:Vi(!d||s.bottom||s.left,r.bottomLeft,0,a),bottomRight:Vi(!d||s.bottom||s.right,r.bottomRight,0,a)}}function Av(t){let e=pm(t),n=e.right-e.left,i=e.bottom-e.top,o=Pv(t,n/2,i/2),r=Fv(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+o.l,y:e.top+o.t,w:n-o.l-o.r,h:i-o.t-o.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,r.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(o.b,o.r))}}}}function _s(t,e,n,i){let o=e===null,r=n===null,s=t&&!(o&&r)&&pm(t,i);return s&&(o||ii(e,s.left,s.right))&&(r||ii(n,s.top,s.bottom))}function Ov(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Dv(t,e){t.rect(e.x,e.y,e.w,e.h)}function vs(t,e,n={}){let i=t.x!==n.x?-e:0,o=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,a=(t.y+t.h!==n.y+n.h?e:0)-o;return{x:t.x+i,y:t.y+o,w:t.w+r,h:t.h+a,radius:t.radius}}var Os=class extends Kt{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:n,options:{borderColor:i,backgroundColor:o}}=this,{inner:r,outer:a}=Av(this),s=Ov(a.radius)?An:Dv;e.save(),(a.w!==r.w||a.h!==r.h)&&(e.beginPath(),s(e,vs(a,n,r)),e.clip(),s(e,vs(r,-n,a)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),s(e,vs(r,n)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,n,i){return _s(this,e,n,i)}inXRange(e,n){return _s(this,e,null,n)}inYRange(e,n){return _s(this,null,e,n)}getCenterPoint(e){let{x:n,y:i,base:o,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+o)/2:n,y:r?i:(i+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},Tv=Object.freeze({__proto__:null,ArcElement:Fs,BarElement:Os,LineElement:Ur,PointElement:Vv}),Ds=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Vu=Ds.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function fm(t){return Ds[t%Ds.length]}function hm(t){return Vu[t%Vu.length]}function Nv(t,e){return t.borderColor=fm(e),t.backgroundColor=hm(e),++e}function Rv(t,e){return t.backgroundColor=t.data.map(()=>fm(e++)),e}function Lv(t,e){return t.backgroundColor=t.data.map(()=>hm(e++)),e}function Bv(t){let e=0;return(n,i)=>{let o=t.getDatasetMeta(i).controller;o instanceof $s?e=Rv(n,e):o instanceof im?e=Lv(n,e):o&&(e=Nv(n,e))}}function Pu(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function zv(t){return t&&(t.borderColor||t.backgroundColor)}function jv(){return Ue.borderColor!=="rgba(0,0,0,0.1)"||Ue.backgroundColor!=="rgba(0,0,0,0.1)"}var $v={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;let{data:{datasets:i},options:o}=t.config,{elements:r}=o,a=Pu(i)||zv(o)||r&&Pu(r)||jv();if(!n.forceOverride&&a)return;let s=Bv(t);i.forEach(s)}};function Hv(t,e,n,i,o){let r=o.samples||i;if(r>=n)return t.slice(e,e+n);let a=[],s=(n-2)/(r-2),d=0,m=e+n-1,p=e,h,b,_,x,C;for(a[d++]=t[p],h=0;h<r-2;h++){let w=0,P=0,V,N=Math.floor((h+1)*s)+1+e,B=Math.min(Math.floor((h+2)*s)+1,n)+e,O=B-N;for(V=N;V<B;V++)w+=t[V].x,P+=t[V].y;w/=O,P/=O;let L=Math.floor(h*s)+1+e,G=Math.min(Math.floor((h+1)*s)+1,n)+e,{x:$,y:W}=t[p];for(_=x=-1,V=L;V<G;V++)x=.5*Math.abs(($-w)*(t[V].y-W)-($-t[V].x)*(P-W)),x>_&&(_=x,b=t[V],C=V);a[d++]=b,p=C}return a[d++]=t[m],a}function Uv(t,e,n,i){let o=0,r=0,a,s,d,m,p,h,b,_,x,C,w=[],P=e+n-1,V=t[e].x,B=t[P].x-V;for(a=e;a<e+n;++a){s=t[a],d=(s.x-V)/B*i,m=s.y;let O=d|0;if(O===p)m<x?(x=m,h=a):m>C&&(C=m,b=a),o=(r*o+s.x)/++r;else{let L=a-1;if(!Ce(h)&&!Ce(b)){let G=Math.min(h,b),$=Math.max(h,b);G!==_&&G!==L&&w.push(dt(De({},t[G]),{x:o})),$!==_&&$!==L&&w.push(dt(De({},t[$]),{x:o}))}a>0&&L!==_&&w.push(t[L]),w.push(s),p=O,r=0,x=C=m,h=b=_=a}}return w}function gm(t){if(t._decimated){let e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Fu(t){t.data.datasets.forEach(e=>{gm(e)})}function qv(t,e){let n=e.length,i=0,o,{iScale:r}=t,{min:a,max:s,minDefined:d,maxDefined:m}=r.getUserBounds();return d&&(i=st(Qt(e,r.axis,a).lo,0,n-1)),m?o=st(Qt(e,r.axis,s).hi+1,i,n)-i:o=n-i,{start:i,count:o}}var Gv={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){Fu(t);return}let i=t.width;t.data.datasets.forEach((o,r)=>{let{_data:a,indexAxis:s}=o,d=t.getDatasetMeta(r),m=a||o.data;if(On([s,t.options.indexAxis])==="y"||!d.controller.supportsDecimation)return;let p=t.scales[d.xAxisID];if(p.type!=="linear"&&p.type!=="time"||t.options.parsing)return;let{start:h,count:b}=qv(d,m),_=n.threshold||4*i;if(b<=_){gm(o);return}Ce(a)&&(o._data=m,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(C){this._data=C}}));let x;switch(n.algorithm){case"lttb":x=Hv(m,h,b,i,n);break;case"min-max":x=Uv(m,h,b,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}o._decimated=x})},destroy(t){Fu(t)}};function Wv(t,e,n){let i=t.segments,o=t.points,r=e.points,a=[];for(let s of i){let{start:d,end:m}=s;m=Hs(d,m,o);let p=Ts(n,o[d],o[m],s.loop);if(!e.segments){a.push({source:s,target:p,start:o[d],end:o[m]});continue}let h=ds(e,p);for(let b of h){let _=Ts(n,r[b.start],r[b.end],b.loop),x=cs(s,o,_);for(let C of x)a.push({source:C,target:b,start:{[n]:Au(p,_,"start",Math.max)},end:{[n]:Au(p,_,"end",Math.min)}})}}return a}function Ts(t,e,n,i){if(i)return;let o=e[t],r=n[t];return t==="angle"&&(o=St(o),r=St(r)),{property:t,start:o,end:r}}function Yv(t,e){let{x:n=null,y:i=null}=t||{},o=e.points,r=[];return e.segments.forEach(({start:a,end:s})=>{s=Hs(a,s,o);let d=o[a],m=o[s];i!==null?(r.push({x:d.x,y:i}),r.push({x:m.x,y:i})):n!==null&&(r.push({x:n,y:d.y}),r.push({x:n,y:m.y}))}),r}function Hs(t,e,n){for(;e>t;e--){let i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Au(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function bm(t,e){let n=[],i=!1;return ze(t)?(i=!0,n=t):n=Yv(t,e),n.length?new Ur({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function Ou(t){return t&&t.fill!==!1}function Xv(t,e,n){let o=t[e].fill,r=[e],a;if(!n)return o;for(;o!==!1&&r.indexOf(o)===-1;){if(!Qe(o))return o;if(a=t[o],!a)return!1;if(a.visible)return o;r.push(o),o=a.fill}return!1}function Kv(t,e,n){let i=e1(t);if(be(i))return isNaN(i.value)?!1:i;let o=parseFloat(i);return Qe(o)&&Math.floor(o)===o?Zv(i[0],e,o,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Zv(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function Jv(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:be(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function Qv(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:be(t)?i=t.value:i=e.getBaseValue(),i}function e1(t){let e=t.options,n=e.fill,i=re(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function t1(t){let{scale:e,index:n,line:i}=t,o=[],r=i.segments,a=i.points,s=i1(e,n);s.push(bm({x:null,y:e.bottom},i));for(let d=0;d<r.length;d++){let m=r[d];for(let p=m.start;p<=m.end;p++)n1(o,a[p],s)}return new Ur({points:o,options:{}})}function i1(t,e){let n=[],i=t.getMatchingVisibleMetas("line");for(let o=0;o<i.length;o++){let r=i[o];if(r.index===e)break;r.hidden||n.unshift(r.dataset)}return n}function n1(t,e,n){let i=[];for(let o=0;o<n.length;o++){let r=n[o],{first:a,last:s,point:d}=o1(r,e,"x");if(!(!d||a&&s)){if(a)i.unshift(d);else if(t.push(d),!s)break}}t.push(...i)}function o1(t,e,n){let i=t.interpolate(e,n);if(!i)return{};let o=i[n],r=t.segments,a=t.points,s=!1,d=!1;for(let m=0;m<r.length;m++){let p=r[m],h=a[p.start][n],b=a[p.end][n];if(ii(o,h,b)){s=o===h,d=o===b;break}}return{first:s,last:d,point:i}}var $r=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){let{x:o,y:r,radius:a}=this;return n=n||{start:0,end:$e},e.arc(o,r,a,n.end,n.start,!0),!i.bounds}interpolate(e){let{x:n,y:i,radius:o}=this,r=e.angle;return{x:n+Math.cos(r)*o,y:i+Math.sin(r)*o,angle:r}}};function r1(t){let{chart:e,fill:n,line:i}=t;if(Qe(n))return a1(e,n);if(n==="stack")return t1(t);if(n==="shape")return!0;let o=s1(t);return o instanceof $r?o:bm(o,i)}function a1(t,e){let n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function s1(t){return(t.scale||{}).getPointPositionForValue?c1(t):l1(t)}function l1(t){let{scale:e={},fill:n}=t,i=Jv(n,e);if(Qe(i)){let o=e.isHorizontal();return{x:o?i:null,y:o?null:i}}return null}function c1(t){let{scale:e,fill:n}=t,i=e.options,o=e.getLabels().length,r=i.reverse?e.max:e.min,a=Qv(n,e,r),s=[];if(i.grid.circular){let d=e.getPointPositionForValue(0,r);return new $r({x:d.x,y:d.y,radius:e.getDistanceFromCenterForValue(a)})}for(let d=0;d<o;++d)s.push(e.getPointPositionForValue(d,a));return s}function xs(t,e,n){let i=r1(e),{line:o,scale:r,axis:a}=e,s=o.options,d=s.fill,m=s.backgroundColor,{above:p=m,below:h=m}=d||{};i&&o.points.length&&(mo(t,n),d1(t,{line:o,target:i,above:p,below:h,area:n,scale:r,axis:a}),po(t))}function d1(t,e){let{line:n,target:i,above:o,below:r,area:a,scale:s}=e,d=n._loop?"angle":e.axis;t.save(),d==="x"&&r!==o&&(Du(t,i,a.top),Tu(t,{line:n,target:i,color:o,scale:s,property:d}),t.restore(),t.save(),Du(t,i,a.bottom)),Tu(t,{line:n,target:i,color:r,scale:s,property:d}),t.restore()}function Du(t,e,n){let{segments:i,points:o}=e,r=!0,a=!1;t.beginPath();for(let s of i){let{start:d,end:m}=s,p=o[d],h=o[Hs(d,m,o)];r?(t.moveTo(p.x,p.y),r=!1):(t.lineTo(p.x,n),t.lineTo(p.x,p.y)),a=!!e.pathSegment(t,s,{move:a}),a?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Tu(t,e){let{line:n,target:i,property:o,color:r,scale:a}=e,s=Wv(n,i,o);for(let{source:d,target:m,start:p,end:h}of s){let{style:{backgroundColor:b=r}={}}=d,_=i!==!0;t.save(),t.fillStyle=b,u1(t,a,_&&Ts(o,p,h)),t.beginPath();let x=!!n.pathSegment(t,d),C;if(_){x?t.closePath():Nu(t,i,h,o);let w=!!i.pathSegment(t,m,{move:x,reverse:!0});C=x&&w,C||Nu(t,i,p,o)}t.closePath(),t.fill(C?"evenodd":"nonzero"),t.restore()}}function u1(t,e,n){let{top:i,bottom:o}=e.chart.chartArea,{property:r,start:a,end:s}=n||{};r==="x"&&(t.beginPath(),t.rect(a,i,s-a,o-i),t.clip())}function Nu(t,e,n,i){let o=e.interpolate(n,i);o&&t.lineTo(o.x,o.y)}var m1={id:"filler",afterDatasetsUpdate(t,e,n){let i=(t.data.datasets||[]).length,o=[],r,a,s,d;for(a=0;a<i;++a)r=t.getDatasetMeta(a),s=r.dataset,d=null,s&&s.options&&s instanceof Ur&&(d={visible:t.isDatasetVisible(a),index:a,fill:Kv(s,a,i),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:s}),r.$filler=d,o.push(d);for(a=0;a<i;++a)d=o[a],!(!d||d.fill===!1)&&(d.fill=Xv(o,a,n.propagate))},beforeDraw(t,e,n){let i=n.drawTime==="beforeDraw",o=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let a=o.length-1;a>=0;--a){let s=o[a].$filler;s&&(s.line.updateControlPoints(r,s.axis),i&&s.fill&&xs(t.ctx,s,r))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;let i=t.getSortedVisibleDatasetMetas();for(let o=i.length-1;o>=0;--o){let r=i[o].$filler;Ou(r)&&xs(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,n){let i=e.meta.$filler;!Ou(i)||n.drawTime!=="beforeDatasetDraw"||xs(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Ru=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},p1=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index,Hr=class extends Kt{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},n=Oe(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,o)=>e.sort(i,o,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){let{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}let i=e.labels,o=nt(i.font),r=o.size,a=this._computeTitleHeight(),{boxWidth:s,itemHeight:d}=Ru(i,r),m,p;n.font=o.string,this.isHorizontal()?(m=this.maxWidth,p=this._fitRows(a,r,s,d)+10):(p=this.maxHeight,m=this._fitCols(a,o,s,d)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,o){let{ctx:r,maxWidth:a,options:{labels:{padding:s}}}=this,d=this.legendHitBoxes=[],m=this.lineWidths=[0],p=o+s,h=e;r.textAlign="left",r.textBaseline="middle";let b=-1,_=-p;return this.legendItems.forEach((x,C)=>{let w=i+n/2+r.measureText(x.text).width;(C===0||m[m.length-1]+w+2*s>a)&&(h+=p,m[m.length-(C>0?0:1)]=0,_+=p,b++),d[C]={left:0,top:_,row:b,width:w,height:o},m[m.length-1]+=w+s}),h}_fitCols(e,n,i,o){let{ctx:r,maxHeight:a,options:{labels:{padding:s}}}=this,d=this.legendHitBoxes=[],m=this.columnSizes=[],p=a-e,h=s,b=0,_=0,x=0,C=0;return this.legendItems.forEach((w,P)=>{let{itemWidth:V,itemHeight:N}=f1(i,n,r,w,o);P>0&&_+N+2*s>p&&(h+=b+s,m.push({width:b,height:_}),x+=b+s,C++,b=_=0),d[P]={left:x,top:_,col:C,width:V,height:N},b=Math.max(b,V),_+=N+s}),h+=b,m.push({width:b,height:_}),h}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:o},rtl:r}}=this,a=Yi(r,this.left,this.width);if(this.isHorizontal()){let s=0,d=mt(i,this.left+o,this.right-this.lineWidths[s]);for(let m of n)s!==m.row&&(s=m.row,d=mt(i,this.left+o,this.right-this.lineWidths[s])),m.top+=this.top+e+o,m.left=a.leftForLtr(a.x(d),m.width),d+=m.width+o}else{let s=0,d=mt(i,this.top+e+o,this.bottom-this.columnSizes[s].height);for(let m of n)m.col!==s&&(s=m.col,d=mt(i,this.top+e+o,this.bottom-this.columnSizes[s].height)),m.top=d,m.left+=this.left+o,m.left=a.leftForLtr(a.x(m.left),m.width),d+=m.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;mo(e,this),this._draw(),po(e)}}_draw(){let{options:e,columnSizes:n,lineWidths:i,ctx:o}=this,{align:r,labels:a}=e,s=Ue.color,d=Yi(e.rtl,this.left,this.width),m=nt(a.font),{padding:p}=a,h=m.size,b=h/2,_;this.drawTitle(),o.textAlign=d.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=m.string;let{boxWidth:x,boxHeight:C,itemHeight:w}=Ru(a,h),P=function(L,G,$){if(isNaN(x)||x<=0||isNaN(C)||C<0)return;o.save();let W=re($.lineWidth,1);if(o.fillStyle=re($.fillStyle,s),o.lineCap=re($.lineCap,"butt"),o.lineDashOffset=re($.lineDashOffset,0),o.lineJoin=re($.lineJoin,"miter"),o.lineWidth=W,o.strokeStyle=re($.strokeStyle,s),o.setLineDash(re($.lineDash,[])),a.usePointStyle){let le={radius:C*Math.SQRT2/2,pointStyle:$.pointStyle,rotation:$.rotation,borderWidth:W},se=d.xPlus(L,x/2),_e=G+b;Qa(o,le,se,_e,a.pointStyleWidth&&x)}else{let le=G+Math.max((h-C)/2,0),se=d.leftForLtr(L,x),_e=ki($.borderRadius);o.beginPath(),Object.values(_e).some(ct=>ct!==0)?An(o,{x:se,y:le,w:x,h:C,radius:_e}):o.rect(se,le,x,C),o.fill(),W!==0&&o.stroke()}o.restore()},V=function(L,G,$){Mi(o,$.text,L,G+w/2,m,{strikethrough:$.hidden,textAlign:d.textAlign($.textAlign)})},N=this.isHorizontal(),B=this._computeTitleHeight();N?_={x:mt(r,this.left+p,this.right-i[0]),y:this.top+p+B,line:0}:_={x:this.left+p,y:mt(r,this.top+B+p,this.bottom-n[0].height),line:0},ss(this.ctx,e.textDirection);let O=w+p;this.legendItems.forEach((L,G)=>{o.strokeStyle=L.fontColor,o.fillStyle=L.fontColor;let $=o.measureText(L.text).width,W=d.textAlign(L.textAlign||(L.textAlign=a.textAlign)),le=x+b+$,se=_.x,_e=_.y;d.setWidth(this.width),N?G>0&&se+le+p>this.right&&(_e=_.y+=O,_.line++,se=_.x=mt(r,this.left+p,this.right-i[_.line])):G>0&&_e+O>this.bottom&&(se=_.x=se+n[_.line].width+p,_.line++,_e=_.y=mt(r,this.top+B+p,this.bottom-n[_.line].height));let ct=d.x(se);if(P(ct,_e,L),se=Rd(W,se+x+b,N?se+le:this.right,e.rtl),V(d.x(se),_e,L),N)_.x+=le+p;else if(typeof L.text!="string"){let Ft=m.lineHeight;_.y+=_m(L,Ft)+p}else _.y+=O}),ls(this.ctx,e.textDirection)}drawTitle(){let e=this.options,n=e.title,i=nt(n.font),o=pt(n.padding);if(!n.display)return;let r=Yi(e.rtl,this.left,this.width),a=this.ctx,s=n.position,d=i.size/2,m=o.top+d,p,h=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),p=this.top+m,h=mt(e.align,h,this.right-b);else{let x=this.columnSizes.reduce((C,w)=>Math.max(C,w.height),0);p=m+mt(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}let _=mt(s,h,h+b);a.textAlign=r.textAlign(yr(s)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,Mi(a,n.text,_,p,i)}_computeTitleHeight(){let e=this.options.title,n=nt(e.font),i=pt(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,o,r;if(ii(e,this.left,this.right)&&ii(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(o=r[i],ii(e,o.left,o.left+o.width)&&ii(n,o.top,o.top+o.height))return this.legendItems[i]}return null}handleEvent(e){let n=this.options;if(!b1(e.type,n))return;let i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let o=this._hoveredItem,r=p1(o,i);o&&!r&&Oe(n.onLeave,[e,o,this],this),this._hoveredItem=i,i&&!r&&Oe(n.onHover,[e,i,this],this)}else i&&Oe(n.onClick,[e,i,this],this)}};function f1(t,e,n,i,o){let r=h1(i,t,e,n),a=g1(o,i,e.lineHeight);return{itemWidth:r,itemHeight:a}}function h1(t,e,n,i){let o=t.text;return o&&typeof o!="string"&&(o=o.reduce((r,a)=>r.length>a.length?r:a)),e+n.size/2+i.measureText(o).width}function g1(t,e,n){let i=t;return typeof e.text!="string"&&(i=_m(e,n)),i}function _m(t,e){let n=t.text?t.text.length:0;return e*n}function b1(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var _1={id:"legend",_element:Hr,start(t,e,n){let i=t.legend=new Hr({ctx:t.ctx,options:n,chart:t});bt.configure(t,i,n),bt.addBox(t,i)},stop(t){bt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){let i=t.legend;bt.configure(t,i,n),i.options=n},afterUpdate(t){let e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){let i=e.datasetIndex,o=n.chart;o.isDatasetVisible(i)?(o.hide(i),e.hidden=!0):(o.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:o,color:r,useBorderRadius:a,borderRadius:s}}=t.legend.options;return t._getSortedDatasetMetas().map(d=>{let m=d.controller.getStyle(n?0:void 0),p=pt(m.borderWidth);return{text:e[d.index].label,fillStyle:m.backgroundColor,fontColor:r,hidden:!d.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:o||m.textAlign,borderRadius:a&&(s||m.borderRadius),datasetIndex:d.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}},Co=class extends Kt{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;let o=ze(i.text)?i.text.length:1;this._padding=pt(i.padding);let r=o*nt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:n,left:i,bottom:o,right:r,options:a}=this,s=a.align,d=0,m,p,h;return this.isHorizontal()?(p=mt(s,i,r),h=n+e,m=r-i):(a.position==="left"?(p=i+e,h=mt(s,o,n),d=je*-.5):(p=r-e,h=mt(s,n,o),d=je*.5),m=o-n),{titleX:p,titleY:h,maxWidth:m,rotation:d}}draw(){let e=this.ctx,n=this.options;if(!n.display)return;let i=nt(n.font),r=i.lineHeight/2+this._padding.top,{titleX:a,titleY:s,maxWidth:d,rotation:m}=this._drawArgs(r);Mi(e,n.text,0,0,i,{color:n.color,maxWidth:d,rotation:m,textAlign:yr(n.align),textBaseline:"middle",translation:[a,s]})}};function v1(t,e){let n=new Co({ctx:t.ctx,options:e,chart:t});bt.configure(t,n,e),bt.addBox(t,n),t.titleBlock=n}var x1={id:"title",_element:Co,start(t,e,n){v1(t,n)},stop(t){let e=t.titleBlock;bt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){let i=t.titleBlock;bt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Or=new WeakMap,y1={id:"subtitle",start(t,e,n){let i=new Co({ctx:t.ctx,options:n,chart:t});bt.configure(t,i,n),bt.addBox(t,i),Or.set(t,i)},stop(t){bt.removeBox(t,Or.get(t)),Or.delete(t)},beforeUpdate(t,e,n){let i=Or.get(t);bt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},xo={average(t){if(!t.length)return!1;let e,n,i=new Set,o=0,r=0;for(e=0,n=t.length;e<n;++e){let s=t[e].element;if(s&&s.hasValue()){let d=s.tooltipPosition();i.add(d.x),o+=d.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((s,d)=>s+d)/i.size,y:o/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,o=Number.POSITIVE_INFINITY,r,a,s;for(r=0,a=t.length;r<a;++r){let d=t[r].element;if(d&&d.hasValue()){let m=d.getCenterPoint(),p=gr(e,m);p<o&&(o=p,s=d)}}if(s){let d=s.tooltipPosition();n=d.x,i=d.y}return{x:n,y:i}}};function ni(t,e){return e&&(ze(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function fi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function C1(t,e){let{element:n,datasetIndex:i,index:o}=e,r=t.getDatasetMeta(i).controller,{label:a,value:s}=r.getLabelAndValue(o);return{chart:t,label:a,parsed:r.getParsed(o),raw:t.data.datasets[i].data[o],formattedValue:s,dataset:r.getDataset(),dataIndex:o,datasetIndex:i,element:n}}function Lu(t,e){let n=t.chart.ctx,{body:i,footer:o,title:r}=t,{boxWidth:a,boxHeight:s}=e,d=nt(e.bodyFont),m=nt(e.titleFont),p=nt(e.footerFont),h=r.length,b=o.length,_=i.length,x=pt(e.padding),C=x.height,w=0,P=i.reduce((B,O)=>B+O.before.length+O.lines.length+O.after.length,0);if(P+=t.beforeBody.length+t.afterBody.length,h&&(C+=h*m.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),P){let B=e.displayColors?Math.max(s,d.lineHeight):d.lineHeight;C+=_*B+(P-_)*d.lineHeight+(P-1)*e.bodySpacing}b&&(C+=e.footerMarginTop+b*p.lineHeight+(b-1)*e.footerSpacing);let V=0,N=function(B){w=Math.max(w,n.measureText(B).width+V)};return n.save(),n.font=m.string,ke(t.title,N),n.font=d.string,ke(t.beforeBody.concat(t.afterBody),N),V=e.displayColors?a+2+e.boxPadding:0,ke(i,B=>{ke(B.before,N),ke(B.lines,N),ke(B.after,N)}),V=0,n.font=p.string,ke(t.footer,N),n.restore(),w+=x.width,{width:w,height:C}}function w1(t,e){let{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function S1(t,e,n,i){let{x:o,width:r}=i,a=n.caretSize+n.caretPadding;if(t==="left"&&o+r+a>e.width||t==="right"&&o-r-a<0)return!0}function E1(t,e,n,i){let{x:o,width:r}=n,{width:a,chartArea:{left:s,right:d}}=t,m="center";return i==="center"?m=o<=(s+d)/2?"left":"right":o<=r/2?m="left":o>=a-r/2&&(m="right"),S1(m,t,e,n)&&(m="center"),m}function Bu(t,e,n){let i=n.yAlign||e.yAlign||w1(t,n);return{xAlign:n.xAlign||e.xAlign||E1(t,e,n,i),yAlign:i}}function M1(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function k1(t,e,n){let{y:i,height:o}=t;return e==="top"?i+=n:e==="bottom"?i-=o+n:i-=o/2,i}function zu(t,e,n,i){let{caretSize:o,caretPadding:r,cornerRadius:a}=t,{xAlign:s,yAlign:d}=n,m=o+r,{topLeft:p,topRight:h,bottomLeft:b,bottomRight:_}=ki(a),x=M1(e,s),C=k1(e,d,m);return d==="center"?s==="left"?x+=m:s==="right"&&(x-=m):s==="left"?x-=Math.max(p,b)+o:s==="right"&&(x+=Math.max(h,_)+o),{x:st(x,0,i.width-e.width),y:st(C,0,i.height-e.height)}}function Dr(t,e,n){let i=pt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function ju(t){return ni([],fi(t))}function I1(t,e,n){return mi(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function $u(t,e){let n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}var vm={beforeTitle:ti,title(t){if(t.length>0){let e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:ti,beforeBody:ti,beforeLabel:ti,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");let n=t.formattedValue;return Ce(n)||(e+=n),e},labelColor(t){let n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ti,afterBody:ti,beforeFooter:ti,footer:ti,afterFooter:ti};function Mt(t,e,n,i){let o=t[e].call(n,i);return typeof o>"u"?vm[e].call(n,i):o}var Hu=(()=>{class t extends Kt{static positioners=xo;constructor(n){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=n.chart,this.options=n.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(n){this.options=n,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let n=this._cachedAnimations;if(n)return n;let i=this.chart,o=this.options.setContext(this.getContext()),r=o.enabled&&i.options.animation&&o.animations,a=new Lr(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=I1(this.chart.getContext(),this,this._tooltipItems))}getTitle(n,i){let{callbacks:o}=i,r=Mt(o,"beforeTitle",this,n),a=Mt(o,"title",this,n),s=Mt(o,"afterTitle",this,n),d=[];return d=ni(d,fi(r)),d=ni(d,fi(a)),d=ni(d,fi(s)),d}getBeforeBody(n,i){return ju(Mt(i.callbacks,"beforeBody",this,n))}getBody(n,i){let{callbacks:o}=i,r=[];return ke(n,a=>{let s={before:[],lines:[],after:[]},d=$u(o,a);ni(s.before,fi(Mt(d,"beforeLabel",this,a))),ni(s.lines,Mt(d,"label",this,a)),ni(s.after,fi(Mt(d,"afterLabel",this,a))),r.push(s)}),r}getAfterBody(n,i){return ju(Mt(i.callbacks,"afterBody",this,n))}getFooter(n,i){let{callbacks:o}=i,r=Mt(o,"beforeFooter",this,n),a=Mt(o,"footer",this,n),s=Mt(o,"afterFooter",this,n),d=[];return d=ni(d,fi(r)),d=ni(d,fi(a)),d=ni(d,fi(s)),d}_createItems(n){let i=this._active,o=this.chart.data,r=[],a=[],s=[],d=[],m,p;for(m=0,p=i.length;m<p;++m)d.push(C1(this.chart,i[m]));return n.filter&&(d=d.filter((h,b,_)=>n.filter(h,b,_,o))),n.itemSort&&(d=d.sort((h,b)=>n.itemSort(h,b,o))),ke(d,h=>{let b=$u(n.callbacks,h);r.push(Mt(b,"labelColor",this,h)),a.push(Mt(b,"labelPointStyle",this,h)),s.push(Mt(b,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=a,this.labelTextColors=s,this.dataPoints=d,d}update(n,i){let o=this.options.setContext(this.getContext()),r=this._active,a,s=[];if(!r.length)this.opacity!==0&&(a={opacity:0});else{let d=xo[o.position].call(this,r,this._eventPosition);s=this._createItems(o),this.title=this.getTitle(s,o),this.beforeBody=this.getBeforeBody(s,o),this.body=this.getBody(s,o),this.afterBody=this.getAfterBody(s,o),this.footer=this.getFooter(s,o);let m=this._size=Lu(this,o),p=Object.assign({},d,m),h=Bu(this.chart,o,p),b=zu(o,p,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,a={opacity:1,x:b.x,y:b.y,width:m.width,height:m.height,caretX:d.x,caretY:d.y}}this._tooltipItems=s,this.$context=void 0,a&&this._resolveAnimations().update(this,a),n&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(n,i,o,r){let a=this.getCaretPosition(n,o,r);i.lineTo(a.x1,a.y1),i.lineTo(a.x2,a.y2),i.lineTo(a.x3,a.y3)}getCaretPosition(n,i,o){let{xAlign:r,yAlign:a}=this,{caretSize:s,cornerRadius:d}=o,{topLeft:m,topRight:p,bottomLeft:h,bottomRight:b}=ki(d),{x:_,y:x}=n,{width:C,height:w}=i,P,V,N,B,O,L;return a==="center"?(O=x+w/2,r==="left"?(P=_,V=P-s,B=O+s,L=O-s):(P=_+C,V=P+s,B=O-s,L=O+s),N=P):(r==="left"?V=_+Math.max(m,h)+s:r==="right"?V=_+C-Math.max(p,b)-s:V=this.caretX,a==="top"?(B=x,O=B-s,P=V-s,N=V+s):(B=x+w,O=B+s,P=V+s,N=V-s),L=B),{x1:P,x2:V,x3:N,y1:B,y2:O,y3:L}}drawTitle(n,i,o){let r=this.title,a=r.length,s,d,m;if(a){let p=Yi(o.rtl,this.x,this.width);for(n.x=Dr(this,o.titleAlign,o),i.textAlign=p.textAlign(o.titleAlign),i.textBaseline="middle",s=nt(o.titleFont),d=o.titleSpacing,i.fillStyle=o.titleColor,i.font=s.string,m=0;m<a;++m)i.fillText(r[m],p.x(n.x),n.y+s.lineHeight/2),n.y+=s.lineHeight+d,m+1===a&&(n.y+=o.titleMarginBottom-d)}}_drawColorBox(n,i,o,r,a){let s=this.labelColors[o],d=this.labelPointStyles[o],{boxHeight:m,boxWidth:p}=a,h=nt(a.bodyFont),b=Dr(this,"left",a),_=r.x(b),x=m<h.lineHeight?(h.lineHeight-m)/2:0,C=i.y+x;if(a.usePointStyle){let w={radius:Math.min(p,m)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},P=r.leftForLtr(_,p)+p/2,V=C+m/2;n.strokeStyle=a.multiKeyBackground,n.fillStyle=a.multiKeyBackground,wr(n,w,P,V),n.strokeStyle=s.borderColor,n.fillStyle=s.backgroundColor,wr(n,w,P,V)}else{n.lineWidth=be(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,n.strokeStyle=s.borderColor,n.setLineDash(s.borderDash||[]),n.lineDashOffset=s.borderDashOffset||0;let w=r.leftForLtr(_,p),P=r.leftForLtr(r.xPlus(_,1),p-2),V=ki(s.borderRadius);Object.values(V).some(N=>N!==0)?(n.beginPath(),n.fillStyle=a.multiKeyBackground,An(n,{x:w,y:C,w:p,h:m,radius:V}),n.fill(),n.stroke(),n.fillStyle=s.backgroundColor,n.beginPath(),An(n,{x:P,y:C+1,w:p-2,h:m-2,radius:V}),n.fill()):(n.fillStyle=a.multiKeyBackground,n.fillRect(w,C,p,m),n.strokeRect(w,C,p,m),n.fillStyle=s.backgroundColor,n.fillRect(P,C+1,p-2,m-2))}n.fillStyle=this.labelTextColors[o]}drawBody(n,i,o){let{body:r}=this,{bodySpacing:a,bodyAlign:s,displayColors:d,boxHeight:m,boxWidth:p,boxPadding:h}=o,b=nt(o.bodyFont),_=b.lineHeight,x=0,C=Yi(o.rtl,this.x,this.width),w=function(W){i.fillText(W,C.x(n.x+x),n.y+_/2),n.y+=_+a},P=C.textAlign(s),V,N,B,O,L,G,$;for(i.textAlign=s,i.textBaseline="middle",i.font=b.string,n.x=Dr(this,P,o),i.fillStyle=o.bodyColor,ke(this.beforeBody,w),x=d&&P!=="right"?s==="center"?p/2+h:p+2+h:0,O=0,G=r.length;O<G;++O){for(V=r[O],N=this.labelTextColors[O],i.fillStyle=N,ke(V.before,w),B=V.lines,d&&B.length&&(this._drawColorBox(i,n,O,C,o),_=Math.max(b.lineHeight,m)),L=0,$=B.length;L<$;++L)w(B[L]),_=b.lineHeight;ke(V.after,w)}x=0,_=b.lineHeight,ke(this.afterBody,w),n.y-=a}drawFooter(n,i,o){let r=this.footer,a=r.length,s,d;if(a){let m=Yi(o.rtl,this.x,this.width);for(n.x=Dr(this,o.footerAlign,o),n.y+=o.footerMarginTop,i.textAlign=m.textAlign(o.footerAlign),i.textBaseline="middle",s=nt(o.footerFont),i.fillStyle=o.footerColor,i.font=s.string,d=0;d<a;++d)i.fillText(r[d],m.x(n.x),n.y+s.lineHeight/2),n.y+=s.lineHeight+o.footerSpacing}}drawBackground(n,i,o,r){let{xAlign:a,yAlign:s}=this,{x:d,y:m}=n,{width:p,height:h}=o,{topLeft:b,topRight:_,bottomLeft:x,bottomRight:C}=ki(r.cornerRadius);i.fillStyle=r.backgroundColor,i.strokeStyle=r.borderColor,i.lineWidth=r.borderWidth,i.beginPath(),i.moveTo(d+b,m),s==="top"&&this.drawCaret(n,i,o,r),i.lineTo(d+p-_,m),i.quadraticCurveTo(d+p,m,d+p,m+_),s==="center"&&a==="right"&&this.drawCaret(n,i,o,r),i.lineTo(d+p,m+h-C),i.quadraticCurveTo(d+p,m+h,d+p-C,m+h),s==="bottom"&&this.drawCaret(n,i,o,r),i.lineTo(d+x,m+h),i.quadraticCurveTo(d,m+h,d,m+h-x),s==="center"&&a==="left"&&this.drawCaret(n,i,o,r),i.lineTo(d,m+b),i.quadraticCurveTo(d,m,d+b,m),i.closePath(),i.fill(),r.borderWidth>0&&i.stroke()}_updateAnimationTarget(n){let i=this.chart,o=this.$animations,r=o&&o.x,a=o&&o.y;if(r||a){let s=xo[n.position].call(this,this._active,this._eventPosition);if(!s)return;let d=this._size=Lu(this,n),m=Object.assign({},s,this._size),p=Bu(i,n,m),h=zu(n,m,p,i);(r._to!==h.x||a._to!==h.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=d.width,this.height=d.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(n){let i=this.options.setContext(this.getContext()),o=this.opacity;if(!o)return;this._updateAnimationTarget(i);let r={width:this.width,height:this.height},a={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;let s=pt(i.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&d&&(n.save(),n.globalAlpha=o,this.drawBackground(a,n,r,i),ss(n,i.textDirection),a.y+=s.top,this.drawTitle(a,n,i),this.drawBody(a,n,i),this.drawFooter(a,n,i),ls(n,i.textDirection),n.restore())}getActiveElements(){return this._active||[]}setActiveElements(n,i){let o=this._active,r=n.map(({datasetIndex:d,index:m})=>{let p=this.chart.getDatasetMeta(d);if(!p)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:p.data[m],index:m}}),a=!co(o,r),s=this._positionChanged(r,i);(a||s)&&(this._active=r,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(n,i,o=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let r=this.options,a=this._active||[],s=this._getActiveElements(n,a,i,o),d=this._positionChanged(s,n),m=i||!co(s,a)||d;return m&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:n.x,y:n.y},this.update(!0,i))),m}_getActiveElements(n,i,o,r){let a=this.options;if(n.type==="mouseout")return[];if(!r)return i.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);let s=this.chart.getElementsAtEventForMode(n,a.mode,a,o);return a.reverse&&s.reverse(),s}_positionChanged(n,i){let{caretX:o,caretY:r,options:a}=this,s=xo[a.position].call(this,n,i);return s!==!1&&(o!==s.x||r!==s.y)}}return t})(),V1={id:"tooltip",_element:Hu,positioners:xo,afterInit(t,e,n){n&&(t.tooltip=new Hu({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){let e=t.tooltip;if(e&&e._willRender()){let n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",dt(De({},n),{cancelable:!0}))===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){let n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:vm},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},P1=Object.freeze({__proto__:null,Colors:$v,Decimation:Gv,Filler:m1,Legend:_1,SubTitle:y1,Title:x1,Tooltip:V1}),F1=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function A1(t,e,n,i){let o=t.indexOf(e);if(o===-1)return F1(t,e,n,i);let r=t.lastIndexOf(e);return o!==r?n:o}var O1=(t,e)=>t===null?null:st(Math.round(t),0,e);function Uu(t){let e=this.getLabels();return t>=0&&t<e.length?e[t]:t}var D1=(()=>{class t extends Zi{static id="category";static defaults={ticks:{callback:Uu}};constructor(n){super(n),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(n){let i=this._addedLabels;if(i.length){let o=this.getLabels();for(let{index:r,label:a}of i)o[r]===a&&o.splice(r,1);this._addedLabels=[]}super.init(n)}parse(n,i){if(Ce(n))return null;let o=this.getLabels();return i=isFinite(i)&&o[i]===n?i:A1(o,n,re(i,n),this._addedLabels),O1(i,o.length-1)}determineDataLimits(){let{minDefined:n,maxDefined:i}=this.getUserBounds(),{min:o,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(n||(o=0),i||(r=this.getLabels().length-1)),this.min=o,this.max=r}buildTicks(){let n=this.min,i=this.max,o=this.options.offset,r=[],a=this.getLabels();a=n===0&&i===a.length-1?a:a.slice(n,i+1),this._valueRange=Math.max(a.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let s=n;s<=i;s++)r.push({value:s});return r}getLabelForValue(n){return Uu.call(this,n)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(n){return typeof n!="number"&&(n=this.parse(n)),n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getPixelForTick(n){let i=this.ticks;return n<0||n>i.length-1?null:this.getPixelForValue(i[n].value)}getValueForPixel(n){return Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange)}getBasePixel(){return this.bottom}}return t})();function T1(t,e){let n=[],{bounds:o,step:r,min:a,max:s,precision:d,count:m,maxTicks:p,maxDigits:h,includeBounds:b}=t,_=r||1,x=p-1,{min:C,max:w}=e,P=!Ce(a),V=!Ce(s),N=!Ce(m),B=(w-C)/(h+1),O=za((w-C)/x/_)*_,L,G,$,W;if(O<1e-14&&!P&&!V)return[{value:C},{value:w}];W=Math.ceil(w/O)-Math.floor(C/O),W>x&&(O=za(W*O/x/_)*_),Ce(d)||(L=Math.pow(10,d),O=Math.ceil(O*L)/L),o==="ticks"?(G=Math.floor(C/O)*O,$=Math.ceil(w/O)*O):(G=C,$=w),P&&V&&r&&Pd((s-a)/r,O/1e3)?(W=Math.round(Math.min((s-a)/O,p)),O=(s-a)/W,G=a,$=s):N?(G=P?a:G,$=V?s:$,W=m-1,O=($-G)/W):(W=($-G)/O,Vn(W,Math.round(W),O/1e3)?W=Math.round(W):W=Math.ceil(W));let le=Math.max($a(O),$a(G));L=Math.pow(10,Ce(d)?le:d),G=Math.round(G*L)/L,$=Math.round($*L)/L;let se=0;for(P&&(b&&G!==a?(n.push({value:a}),G<a&&se++,Vn(Math.round((G+se*O)*L)/L,a,qu(a,B,t))&&se++):G<a&&se++);se<W;++se){let _e=Math.round((G+se*O)*L)/L;if(V&&_e>s)break;n.push({value:_e})}return V&&b&&$!==s?n.length&&Vn(n[n.length-1].value,s,qu(s,B,t))?n[n.length-1].value=s:n.push({value:s}):(!V||$===s)&&n.push({value:$}),n}function qu(t,e,{horizontal:n,minRotation:i}){let o=zt(i),r=(n?Math.sin(o):Math.cos(o))||.001,a=.75*e*(""+t).length;return Math.min(e/r,a)}var Nn=class extends Zi{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Ce(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds(),{min:o,max:r}=this,a=d=>o=n?o:d,s=d=>r=i?r:d;if(e){let d=Xt(o),m=Xt(r);d<0&&m<0?s(0):d>0&&m>0&&a(0)}if(o===r){let d=r===0?1:Math.abs(r*.05);s(r+d),e||a(o-d)}this.min=o,this.max=r}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:n,stepSize:i}=e,o;return i?(o=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),n=n||11),n&&(o=Math.min(n,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,n=e.ticks,i=this.getTickLimit();i=Math.max(2,i);let o={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,a=T1(o,r);return e.bounds==="ticks"&&ja(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){let e=this.ticks,n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){let o=(i-n)/Math.max(e.length-1,1)/2;n-=o,i+=o}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Fn(e,this.chart.options.locale,this.options.ticks.format)}},Ns=class extends Nn{static id="linear";static defaults={ticks:{callback:uo.formatters.numeric}};determineDataLimits(){let{min:e,max:n}=this.getMinMax(!0);this.min=Qe(e)?e:0,this.max=Qe(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),n=e?this.width:this.height,i=zt(this.options.ticks.minRotation),o=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},wo=t=>Math.floor(di(t)),Ki=(t,e)=>Math.pow(10,wo(t)+e);function Gu(t){return t/Math.pow(10,wo(t))===1}function Wu(t,e,n){let i=Math.pow(10,n),o=Math.floor(t/i);return Math.ceil(e/i)-o}function N1(t,e){let n=e-t,i=wo(n);for(;Wu(t,e,i)>10;)i++;for(;Wu(t,e,i)<10;)i--;return Math.min(i,wo(t))}function R1(t,{min:e,max:n}){e=Et(t.min,e);let i=[],o=wo(e),r=N1(e,n),a=r<0?Math.pow(10,Math.abs(r)):1,s=Math.pow(10,r),d=o>r?Math.pow(10,o):0,m=Math.round((e-d)*a)/a,p=Math.floor((e-d)/s/10)*s*10,h=Math.floor((m-p)/Math.pow(10,r)),b=Et(t.min,Math.round((d+p+h*Math.pow(10,r))*a)/a);for(;b<n;)i.push({value:b,major:Gu(b),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,a=r>=0?1:a),b=Math.round((d+p+h*Math.pow(10,r))*a)/a;let _=Et(t.max,b);return i.push({value:_,major:Gu(_),significand:h}),i}var Rs=class extends Zi{static id="logarithmic";static defaults={ticks:{callback:uo.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){let i=Nn.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return Qe(i)&&i>0?i:null}determineDataLimits(){let{min:e,max:n}=this.getMinMax(!0);this.min=Qe(e)?Math.max(0,e):null,this.max=Qe(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Qe(this._userMin)&&(this.min=e===Ki(this.min,0)?Ki(this.min,-1):Ki(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:n}=this.getUserBounds(),i=this.min,o=this.max,r=s=>i=e?i:s,a=s=>o=n?o:s;i===o&&(i<=0?(r(1),a(10)):(r(Ki(i,-1)),a(Ki(o,1)))),i<=0&&r(Ki(o,-1)),o<=0&&a(Ki(i,1)),this.min=i,this.max=o}buildTicks(){let e=this.options,n={min:this._userMin,max:this._userMax},i=R1(n,this);return e.bounds==="ticks"&&ja(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Fn(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=di(e),this._valueRange=di(this.max)-di(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(di(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}};function Ls(t){let e=t.ticks;if(e.display&&t.display){let n=pt(e.backdropPadding);return re(e.font&&e.font.size,Ue.font.size)+n.height}return 0}function L1(t,e,n){return n=ze(n)?n:[n],{w:Bd(t,e.string,n),h:n.length*e.lineHeight}}function Yu(t,e,n,i,o){return t===i||t===o?{start:e-n/2,end:e+n/2}:t<i||t>o?{start:e-n,end:e}:{start:e,end:e+n}}function B1(t){let e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],o=[],r=t._pointLabels.length,a=t.options.pointLabels,s=a.centerPointLabels?je/r:0;for(let d=0;d<r;d++){let m=a.setContext(t.getPointLabelContext(d));o[d]=m.padding;let p=t.getPointPosition(d,t.drawingArea+o[d],s),h=nt(m.font),b=L1(t.ctx,h,t._pointLabels[d]);i[d]=b;let _=St(t.getIndexAngle(d)+s),x=Math.round(vr(_)),C=Yu(x,p.x,b.w,0,180),w=Yu(x,p.y,b.h,90,270);z1(n,e,_,C,w)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=H1(t,i,o)}function z1(t,e,n,i,o){let r=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n)),s=0,d=0;i.start<e.l?(s=(e.l-i.start)/r,t.l=Math.min(t.l,e.l-s)):i.end>e.r&&(s=(i.end-e.r)/r,t.r=Math.max(t.r,e.r+s)),o.start<e.t?(d=(e.t-o.start)/a,t.t=Math.min(t.t,e.t-d)):o.end>e.b&&(d=(o.end-e.b)/a,t.b=Math.max(t.b,e.b+d))}function j1(t,e,n){let i=t.drawingArea,{extra:o,additionalAngle:r,padding:a,size:s}=n,d=t.getPointPosition(e,i+o+a,r),m=Math.round(vr(St(d.angle+et))),p=G1(d.y,s.h,m),h=U1(m),b=q1(d.x,s.w,h);return{visible:!0,x:d.x,y:p,textAlign:h,left:b,top:p,right:b+s.w,bottom:p+s.h}}function $1(t,e){if(!e)return!0;let{left:n,top:i,right:o,bottom:r}=t;return!(ei({x:n,y:i},e)||ei({x:n,y:r},e)||ei({x:o,y:i},e)||ei({x:o,y:r},e))}function H1(t,e,n){let i=[],o=t._pointLabels.length,r=t.options,{centerPointLabels:a,display:s}=r.pointLabels,d={extra:Ls(r)/2,additionalAngle:a?je/o:0},m;for(let p=0;p<o;p++){d.padding=n[p],d.size=e[p];let h=j1(t,p,d);i.push(h),s==="auto"&&(h.visible=$1(h,m),h.visible&&(m=h))}return i}function U1(t){return t===0||t===180?"center":t<180?"left":"right"}function q1(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function G1(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function W1(t,e,n){let{left:i,top:o,right:r,bottom:a}=n,{backdropColor:s}=e;if(!Ce(s)){let d=ki(e.borderRadius),m=pt(e.backdropPadding);t.fillStyle=s;let p=i-m.left,h=o-m.top,b=r-i+m.width,_=a-o+m.height;Object.values(d).some(x=>x!==0)?(t.beginPath(),An(t,{x:p,y:h,w:b,h:_,radius:d}),t.fill()):t.fillRect(p,h,b,_)}}function Y1(t,e){let{ctx:n,options:{pointLabels:i}}=t;for(let o=e-1;o>=0;o--){let r=t._pointLabelItems[o];if(!r.visible)continue;let a=i.setContext(t.getPointLabelContext(o));W1(n,a,r);let s=nt(a.font),{x:d,y:m,textAlign:p}=r;Mi(n,t._pointLabels[o],d,m+s.lineHeight/2,s,{color:a.color,textAlign:p,textBaseline:"middle"})}}function xm(t,e,n,i){let{ctx:o}=t;if(n)o.arc(t.xCenter,t.yCenter,e,0,$e);else{let r=t.getPointPosition(0,e);o.moveTo(r.x,r.y);for(let a=1;a<i;a++)r=t.getPointPosition(a,e),o.lineTo(r.x,r.y)}}function X1(t,e,n,i,o){let r=t.ctx,a=e.circular,{color:s,lineWidth:d}=e;!a&&!i||!s||!d||n<0||(r.save(),r.strokeStyle=s,r.lineWidth=d,r.setLineDash(o.dash||[]),r.lineDashOffset=o.dashOffset,r.beginPath(),xm(t,n,a,i),r.closePath(),r.stroke(),r.restore())}function K1(t,e,n){return mi(t,{label:n,index:e,type:"pointLabel"})}var Bs=class extends Nn{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:uo.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=pt(Ls(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){let{min:e,max:n}=this.getMinMax(!1);this.min=Qe(e)&&!isNaN(e)?e:0,this.max=Qe(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ls(this.options))}generateTickLabels(e){Nn.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{let o=Oe(this.options.pointLabels.callback,[n,i],this);return o||o===0?o:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){let e=this.options;e.display&&e.pointLabels.display?B1(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,o){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,o))}getIndexAngle(e){let n=$e/(this._pointLabels.length||1),i=this.options.startAngle||0;return St(e*n+zt(i))}getDistanceFromCenterForValue(e){if(Ce(e))return NaN;let n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Ce(e))return NaN;let n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){let n=this._pointLabels||[];if(e>=0&&e<n.length){let i=n[e];return K1(this.getContext(),e,i)}}getPointPosition(e,n,i=0){let o=this.getIndexAngle(e)-et+i;return{x:Math.cos(o)*n+this.xCenter,y:Math.sin(o)*n+this.yCenter,angle:o}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:n,top:i,right:o,bottom:r}=this._pointLabelItems[e];return{left:n,top:i,right:o,bottom:r}}drawBackground(){let{backgroundColor:e,grid:{circular:n}}=this.options;if(e){let i=this.ctx;i.save(),i.beginPath(),xm(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){let e=this.ctx,n=this.options,{angleLines:i,grid:o,border:r}=n,a=this._pointLabels.length,s,d,m;if(n.pointLabels.display&&Y1(this,a),o.display&&this.ticks.forEach((p,h)=>{if(h!==0||h===0&&this.min<0){d=this.getDistanceFromCenterForValue(p.value);let b=this.getContext(h),_=o.setContext(b),x=r.setContext(b);X1(this,_,d,a,x)}}),i.display){for(e.save(),s=a-1;s>=0;s--){let p=i.setContext(this.getPointLabelContext(s)),{color:h,lineWidth:b}=p;!b||!h||(e.lineWidth=b,e.strokeStyle=h,e.setLineDash(p.borderDash),e.lineDashOffset=p.borderDashOffset,d=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),m=this.getPointPosition(s,d),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(m.x,m.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;let o=this.getIndexAngle(0),r,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(o),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((s,d)=>{if(d===0&&this.min>=0&&!n.reverse)return;let m=i.setContext(this.getContext(d)),p=nt(m.font);if(r=this.getDistanceFromCenterForValue(this.ticks[d].value),m.showLabelBackdrop){e.font=p.string,a=e.measureText(s.label).width,e.fillStyle=m.backdropColor;let h=pt(m.backdropPadding);e.fillRect(-a/2-h.left,-r-p.size/2-h.top,a+h.width,p.size+h.height)}Mi(e,s.label,0,-r,p,{color:m.color,strokeColor:m.textStrokeColor,strokeWidth:m.textStrokeWidth})}),e.restore()}drawTitle(){}},qr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},kt=Object.keys(qr);function Xu(t,e){return t-e}function Ku(t,e){if(Ce(e))return null;let n=t._adapter,{parser:i,round:o,isoWeekday:r}=t._parseOpts,a=e;return typeof i=="function"&&(a=i(a)),Qe(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(o&&(a=o==="week"&&(Wi(r)||r===!0)?n.startOf(a,"isoWeek",r):n.startOf(a,o)),+a)}function Zu(t,e,n,i){let o=kt.length;for(let r=kt.indexOf(t);r<o-1;++r){let a=qr[kt[r]],s=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(s*a.size))<=i)return kt[r]}return kt[o-1]}function Z1(t,e,n,i,o){for(let r=kt.length-1;r>=kt.indexOf(n);r--){let a=kt[r];if(qr[a].common&&t._adapter.diff(o,i,a)>=e-1)return a}return kt[n?kt.indexOf(n):0]}function J1(t){for(let e=kt.indexOf(t)+1,n=kt.length;e<n;++e)if(qr[kt[e]].common)return kt[e]}function Ju(t,e,n){if(!n)t[e]=!0;else if(n.length){let{lo:i,hi:o}=xr(n,e),r=n[i]>=e?n[i]:n[o];t[r]=!0}}function Q1(t,e,n,i){let o=t._adapter,r=+o.startOf(e[0].value,i),a=e[e.length-1].value,s,d;for(s=r;s<=a;s=+o.add(s,1,i))d=n[s],d>=0&&(e[d].major=!0);return e}function Qu(t,e,n){let i=[],o={},r=e.length,a,s;for(a=0;a<r;++a)s=e[a],o[s]=a,i.push({value:s,major:!1});return r===0||!n?i:Q1(t,i,o,n)}var zs=(()=>{class t extends Zi{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(n){super(n),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(n,i={}){let o=n.time||(n.time={}),r=this._adapter=new d_._date(n.adapters.date);r.init(i),kn(o.displayFormats,r.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(n),this._normalized=i.normalized}parse(n,i){return n===void 0?null:Ku(this,n)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let n=this.options,i=this._adapter,o=n.time.unit||"day",{min:r,max:a,minDefined:s,maxDefined:d}=this.getUserBounds();function m(p){!s&&!isNaN(p.min)&&(r=Math.min(r,p.min)),!d&&!isNaN(p.max)&&(a=Math.max(a,p.max))}(!s||!d)&&(m(this._getLabelBounds()),(n.bounds!=="ticks"||n.ticks.source!=="labels")&&m(this.getMinMax(!1))),r=Qe(r)&&!isNaN(r)?r:+i.startOf(Date.now(),o),a=Qe(a)&&!isNaN(a)?a:+i.endOf(Date.now(),o)+1,this.min=Math.min(r,a-1),this.max=Math.max(r+1,a)}_getLabelBounds(){let n=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return n.length&&(i=n[0],o=n[n.length-1]),{min:i,max:o}}buildTicks(){let n=this.options,i=n.time,o=n.ticks,r=o.source==="labels"?this.getLabelTimestamps():this._generate();n.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);let a=this.min,s=this.max,d=Od(r,a,s);return this._unit=i.unit||(o.autoSkip?Zu(i.minUnit,this.min,this.max,this._getLabelCapacity(a)):Z1(this,d.length,i.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:J1(this._unit),this.initOffsets(r),n.reverse&&d.reverse(),Qu(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(n=>+n.value))}initOffsets(n=[]){let i=0,o=0,r,a;this.options.offset&&n.length&&(r=this.getDecimalForValue(n[0]),n.length===1?i=1-r:i=(this.getDecimalForValue(n[1])-r)/2,a=this.getDecimalForValue(n[n.length-1]),n.length===1?o=a:o=(a-this.getDecimalForValue(n[n.length-2]))/2);let s=n.length<3?.5:.25;i=st(i,0,s),o=st(o,0,s),this._offsets={start:i,end:o,factor:1/(i+1+o)}}_generate(){let n=this._adapter,i=this.min,o=this.max,r=this.options,a=r.time,s=a.unit||Zu(a.minUnit,i,o,this._getLabelCapacity(i)),d=re(r.ticks.stepSize,1),m=s==="week"?a.isoWeekday:!1,p=Wi(m)||m===!0,h={},b=i,_,x;if(p&&(b=+n.startOf(b,"isoWeek",m)),b=+n.startOf(b,p?"day":s),n.diff(o,i,s)>1e5*d)throw new Error(i+" and "+o+" are too far apart with stepSize of "+d+" "+s);let C=r.ticks.source==="data"&&this.getDataTimestamps();for(_=b,x=0;_<o;_=+n.add(_,d,s),x++)Ju(h,_,C);return(_===o||r.bounds==="ticks"||x===1)&&Ju(h,_,C),Object.keys(h).sort(Xu).map(w=>+w)}getLabelForValue(n){let i=this._adapter,o=this.options.time;return o.tooltipFormat?i.format(n,o.tooltipFormat):i.format(n,o.displayFormats.datetime)}format(n,i){let r=this.options.time.displayFormats,a=this._unit,s=i||r[a];return this._adapter.format(n,s)}_tickFormatFunction(n,i,o,r){let a=this.options,s=a.ticks.callback;if(s)return Oe(s,[n,i,o],this);let d=a.time.displayFormats,m=this._unit,p=this._majorUnit,h=m&&d[m],b=p&&d[p],_=o[i],x=p&&b&&_&&_.major;return this._adapter.format(n,r||(x?b:h))}generateTickLabels(n){let i,o,r;for(i=0,o=n.length;i<o;++i)r=n[i],r.label=this._tickFormatFunction(r.value,i,n)}getDecimalForValue(n){return n===null?NaN:(n-this.min)/(this.max-this.min)}getPixelForValue(n){let i=this._offsets,o=this.getDecimalForValue(n);return this.getPixelForDecimal((i.start+o)*i.factor)}getValueForPixel(n){let i=this._offsets,o=this.getDecimalForPixel(n)/i.factor-i.end;return this.min+o*(this.max-this.min)}_getLabelSize(n){let i=this.options.ticks,o=this.ctx.measureText(n).width,r=zt(this.isHorizontal()?i.maxRotation:i.minRotation),a=Math.cos(r),s=Math.sin(r),d=this._resolveTickFontOptions(0).size;return{w:o*a+d*s,h:o*s+d*a}}_getLabelCapacity(n){let i=this.options.time,o=i.displayFormats,r=o[i.unit]||o.millisecond,a=this._tickFormatFunction(n,0,Qu(this,[n],this._majorUnit),r),s=this._getLabelSize(a),d=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return d>0?d:1}getDataTimestamps(){let n=this._cache.data||[],i,o;if(n.length)return n;let r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(i=0,o=r.length;i<o;++i)n=n.concat(r[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){let n=this._cache.labels||[],i,o;if(n.length)return n;let r=this.getLabels();for(i=0,o=r.length;i<o;++i)n.push(Ku(this,r[i]));return this._cache.labels=this._normalized?n:this.normalize(n)}normalize(n){return qa(n.sort(Xu))}}return t})();function Tr(t,e,n){let i=0,o=t.length-1,r,a,s,d;n?(e>=t[i].pos&&e<=t[o].pos&&({lo:i,hi:o}=Qt(t,"pos",e)),{pos:r,time:s}=t[i],{pos:a,time:d}=t[o]):(e>=t[i].time&&e<=t[o].time&&({lo:i,hi:o}=Qt(t,"time",e)),{time:r,pos:s}=t[i],{time:a,pos:d}=t[o]);let m=a-r;return m?s+(d-s)*(e-r)/m:s}var js=class extends zs{static id="timeseries";static defaults=zs.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Tr(n,this.min),this._tableRange=Tr(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:n,max:i}=this,o=[],r=[],a,s,d,m,p;for(a=0,s=e.length;a<s;++a)m=e[a],m>=n&&m<=i&&o.push(m);if(o.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,s=o.length;a<s;++a)p=o[a+1],d=o[a-1],m=o[a],Math.round((p+d)/2)!==m&&r.push({time:m,pos:a/(s-1)});return r}_generate(){let e=this.min,n=this.max,i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((o,r)=>o-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Tr(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Tr(this._table,i*this._tableRange+this._minPos,!0)}},ex=Object.freeze({__proto__:null,CategoryScale:D1,LinearScale:Ns,LogarithmicScale:Rs,RadialLinearScale:Bs,TimeScale:zs,TimeSeriesScale:js}),ym=[c_,Tv,P1,ex];Eo.register(...ym);var Cm=(()=>{let e=class e{constructor(i){this.dashboardService=i,this.totalVoluntarios=0,this.totalBeneficiarios=0,this.voluntariadosActivos=0,this.totalBenefactores=0}ngOnInit(){this.cargarDatosDelBackend(),this.generarGraficoVoluntarios()}cargarDatosDelBackend(){this.dashboardService.obtenerEstadisticas().subscribe({next:i=>{this.totalVoluntarios=i.voluntarios,this.totalBeneficiarios=i.beneficiarios,this.voluntariadosActivos=i.voluntariados,this.totalBenefactores=i.benefactores},error:i=>{console.error("Error al cargar las estad\xEDsticas:",i)}})}generarGraficoVoluntarios(){new Eo("graficoVoluntarios",{type:"bar",data:{labels:["Enero","Febrero","Marzo","Abril"],datasets:[{label:"Voluntarios Activos",data:[10,20,15,25],backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},options:{responsive:!0,plugins:{legend:{display:!0,position:"top"}}}})}};e.\u0275fac=function(o){return new(o||e)(y(sr))},e.\u0275cmp=z({type:e,selectors:[["app-dashboard"]],standalone:!0,features:[R([sr]),j],decls:26,vars:4,consts:[[1,"dashboard-container"],[1,"dashboard-cards"],[1,"card"],[1,"chart-container"],["id","graficoVoluntarios"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),u(4,"Total de Voluntarios"),l(),c(5,"p"),u(6),l()(),c(7,"div",2)(8,"h3"),u(9,"Total de Beneficiarios"),l(),c(10,"p"),u(11),l()(),c(12,"div",2)(13,"h3"),u(14,"Voluntariados Activos"),l(),c(15,"p"),u(16),l()(),c(17,"div",2)(18,"h3"),u(19,"Total de Benefactores"),l(),c(20,"p"),u(21),l()()(),c(22,"div",3)(23,"h3"),u(24,"Voluntarios Activos por Mes"),l(),k(25,"canvas",4),l()()),o&2&&(f(6),A(r.totalVoluntarios),f(5),A(r.totalBeneficiarios),f(5),A(r.voluntariadosActivos),f(5),A(r.totalBenefactores))},styles:[".dashboard-container[_ngcontent-%COMP%]{padding:20px;display:flex;flex-direction:column;gap:20px}.dashboard-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:0 auto;width:100%;max-width:1200px}.card[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a;text-align:center;transition:transform .2s ease,box-shadow .2s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 12px #0003}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#333}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 0;font-size:28px;font-weight:700;color:#007bff}.chart-container[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a;text-align:center;max-width:1200px;margin:0 auto}"]});let t=e;return t})();var _t=(()=>{let e=class e{constructor(i){this.http=i,this.apiUrl="https://kururayback-app-a1f8360c6979.herokuapp.com/usuarios"}obtenerUsuarios(i="id",o="ASC"){let r=new pl().set("ordenPor",i).set("direccion",o);return this.http.get(this.apiUrl,{params:r})}cambiarEstadoUsuario(i,o){let r=`${this.apiUrl}/${i}/estado`;return this.http.put(r,{nuevoEstado:o})}obtenerUsuarioPorId(i){let o=`${this.apiUrl}/${i}`;return this.http.get(o)}actualizarUsuario(i,o){let r=`${this.apiUrl}/${i}`;return this.http.put(r,o)}actualizarContrasena(i,o){let r=localStorage.getItem("token"),a=new X({Authorization:`Bearer ${r}`});return this.http.put("https://kururayback-app-a1f8360c6979.herokuapp.com/cambiar-contrasena",{contrasenaActual:i,nuevaContrasena:o},{headers:a})}registrarUsuario(i,o){let r=new FormData;return Object.keys(i).forEach(a=>{r.append(a,i[a])}),o&&r.append("cv",o,o.name),this.http.post(`${this.apiUrl}/registro`,r)}obtenerCVUsuario(i){let o=`${this.apiUrl}/${i}/cv`;return this.http.get(o,{responseType:"blob"})}cambiarEstado(i,o){let r=localStorage.getItem("token"),a=new X({Authorization:`Bearer ${r}`}),s=`https://kururayback-app-a1f8360c6979.herokuapp.com/usuarios/${i}/estado`;return this.http.patch(s,{estado_usuario:o},{headers:a})}};e.\u0275fac=function(o){return new(o||e)(Ie(Le))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tx(t,e){if(t&1){let n=q();c(0,"a",12),v("keyup.enter",function(){D(n),E(3);let o=Ke(1);return T(o.previous())})("click",function(){D(n),E(3);let o=Ke(1);return T(o.previous())}),u(1),c(2,"span",13),u(3),l()()}if(t&2){let n=E(3);f(),ie(" ",n.previousLabel," "),f(2),A(n.screenReaderPageLabel)}}function ix(t,e){if(t&1&&(c(0,"span",14),u(1),c(2,"span",13),u(3),l()()),t&2){let n=E(3);f(),ie(" ",n.previousLabel," "),f(2),A(n.screenReaderPageLabel)}}function nx(t,e){if(t&1&&(c(0,"li",9),M(1,tx,4,2,"a",10)(2,ix,4,2,"span",11),l()),t&2){E(2);let n=Ke(1);Gt("disabled",n.isFirstPage()),f(),g("ngIf",1<n.getCurrent()),f(),g("ngIf",n.isFirstPage())}}function ox(t,e){if(t&1){let n=q();c(0,"a",12),v("keyup.enter",function(){D(n);let o=E().$implicit;E(2);let r=Ke(1);return T(r.setCurrent(o.value))})("click",function(){D(n);let o=E().$implicit;E(2);let r=Ke(1);return T(r.setCurrent(o.value))}),c(1,"span",13),u(2),l(),c(3,"span"),u(4),we(5,"number"),l()()}if(t&2){let n=E().$implicit,i=E(2);f(2),ie("",i.screenReaderPageLabel," "),f(2),A(n.label==="..."?n.label:Me(5,2,n.label,""))}}function rx(t,e){if(t&1&&(ol(0),c(1,"span",16)(2,"span",13),u(3),l(),c(4,"span"),u(5),we(6,"number"),l()(),rl()),t&2){let n=E().$implicit,i=E(2);f(3),ie("",i.screenReaderCurrentLabel," "),f(2),A(n.label==="..."?n.label:Me(6,2,n.label,""))}}function ax(t,e){if(t&1&&(c(0,"li"),M(1,ox,6,5,"a",10)(2,rx,7,5,"ng-container",15),l()),t&2){let n=e.$implicit;E(2);let i=Ke(1);Gt("current",i.getCurrent()===n.value)("ellipsis",n.label==="..."),f(),g("ngIf",i.getCurrent()!==n.value),f(),g("ngIf",i.getCurrent()===n.value)}}function sx(t,e){if(t&1){let n=q();c(0,"a",12),v("keyup.enter",function(){D(n),E(3);let o=Ke(1);return T(o.next())})("click",function(){D(n),E(3);let o=Ke(1);return T(o.next())}),u(1),c(2,"span",13),u(3),l()()}if(t&2){let n=E(3);f(),ie(" ",n.nextLabel," "),f(2),A(n.screenReaderPageLabel)}}function lx(t,e){if(t&1&&(c(0,"span",14),u(1),c(2,"span",13),u(3),l()()),t&2){let n=E(3);f(),ie(" ",n.nextLabel," "),f(2),A(n.screenReaderPageLabel)}}function cx(t,e){if(t&1&&(c(0,"li",17),M(1,sx,4,2,"a",10)(2,lx,4,2,"span",11),l()),t&2){E(2);let n=Ke(1);Gt("disabled",n.isLastPage()),f(),g("ngIf",!n.isLastPage()),f(),g("ngIf",n.isLastPage())}}function dx(t,e){if(t&1&&(c(0,"ul",4),M(1,nx,3,4,"li",5),c(2,"li",6),u(3),l(),M(4,ax,3,6,"li",7)(5,cx,3,4,"li",8),l()),t&2){let n=E(),i=Ke(1);Gt("responsive",n.responsive),f(),g("ngIf",n.directionLinks),f(2),sl(" ",i.getCurrent()," / ",i.getLastPage()," "),f(),g("ngForOf",i.pages)("ngForTrackBy",n.trackByIndex),f(),g("ngIf",n.directionLinks)}}var Mo=class{constructor(){this.change=new ht,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(e){return e.id==null&&(e.id=this.DEFAULT_ID),this.instances[e.id]?this.updateInstance(e):(this.instances[e.id]=e,!0)}updateInstance(e){let n=!1;for(let i in this.instances[e.id])e[i]!==this.instances[e.id][i]&&(this.instances[e.id][i]=e[i],n=!0);return n}getCurrentPage(e){return this.instances[e]?this.instances[e].currentPage:1}setCurrentPage(e,n){if(this.instances[e]){let i=this.instances[e],o=Math.ceil(i.totalItems/i.itemsPerPage);n<=o&&1<=n&&(this.instances[e].currentPage=n,this.change.emit(e))}}setTotalItems(e,n){this.instances[e]&&0<=n&&(this.instances[e].totalItems=n,this.change.emit(e))}setItemsPerPage(e,n){this.instances[e]&&(this.instances[e].itemsPerPage=n,this.change.emit(e))}getInstance(e=this.DEFAULT_ID){return this.instances[e]?this.clone(this.instances[e]):{}}clone(e){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}},ux=Number.MAX_SAFE_INTEGER,It=(()=>{class t{constructor(n){this.service=n,this.state={}}transform(n,i){if(!(n instanceof Array)){let h=i.id||this.service.defaultId();return this.state[h]?this.state[h].slice:n}let o=i.totalItems&&i.totalItems!==n.length,r=this.createInstance(n,i),a=r.id,s,d,m=r.itemsPerPage,p=this.service.register(r);if(!o&&n instanceof Array){if(m=+m||ux,s=(r.currentPage-1)*m,d=s+m,this.stateIsIdentical(a,n,s,d))return this.state[a].slice;{let b=n.slice(s,d);return this.saveState(a,n,b,s,d),this.service.change.emit(a),b}}else return p&&this.service.change.emit(a),this.saveState(a,n,n,s,d),n}createInstance(n,i){return this.checkConfig(i),{id:i.id!=null?i.id:this.service.defaultId(),itemsPerPage:+i.itemsPerPage||0,currentPage:+i.currentPage||1,totalItems:+i.totalItems||n.length}}checkConfig(n){let o=["itemsPerPage","currentPage"].filter(r=>!(r in n));if(0<o.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${o.join(", ")}`)}saveState(n,i,o,r,a){this.state[n]={collection:i,size:i.length,slice:o,start:r,end:a}}stateIsIdentical(n,i,o,r){let a=this.state[n];return!a||!(a.size===i.length&&a.start===o&&a.end===r)?!1:a.slice.every((d,m)=>d===i[o+m])}}return t.\u0275fac=function(n){return new(n||t)(y(Mo,16))},t.\u0275pipe=tl({name:"paginate",type:t,pure:!1}),t})();var mx=(()=>{class t{constructor(n,i){this.service=n,this.changeDetectorRef=i,this.maxSize=7,this.pageChange=new ht,this.pageBoundsCorrection=new ht,this.pages=[],this.changeSub=this.service.change.subscribe(o=>{this.id===o&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){this.id===void 0&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(n){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return this.getCurrent()===1}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(n){this.pageChange.emit(n)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let n=this.service.getInstance(this.id);return n.totalItems<1?1:Math.ceil(n.totalItems/n.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){this.service.getInstance(this.id).id==null&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let n=this.service.getInstance(this.id),i=this.outOfBoundCorrection(n);i!==n.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(i),this.pages=this.createPageArray(n.currentPage,n.itemsPerPage,n.totalItems,this.maxSize)}):this.pages=this.createPageArray(n.currentPage,n.itemsPerPage,n.totalItems,this.maxSize)}outOfBoundCorrection(n){let i=Math.ceil(n.totalItems/n.itemsPerPage);return i<n.currentPage&&0<i?i:n.currentPage<1?1:n.currentPage}createPageArray(n,i,o,r){r=+r;let a=[],s=Math.max(Math.ceil(o/i),1),d=Math.ceil(r/2),m=n<=d,p=s-d<n,h=!m&&!p,b=r<s,_=1;for(;_<=s&&_<=r;){let x,C=this.calculatePageNumber(_,n,r,s),w=_===2&&(h||p),P=_===r-1&&(h||m);b&&(w||P)?x="...":x=C,a.push({label:x,value:C}),_++}return a}calculatePageNumber(n,i,o,r){let a=Math.ceil(o/2);return n===o?r:n===1?n:o<r?r-a<i?r-o+n:a<i?i-a+n:n:n}}return t.\u0275fac=function(n){return new(n||t)(y(Mo),y(Po))},t.\u0275dir=Re({type:t,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[Ri]}),t})();function Us(t){return!!t&&t!=="false"}var Vt=(()=>{class t{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new ht,this.pageBoundsCorrection=new ht,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(n){this._directionLinks=Us(n)}get autoHide(){return this._autoHide}set autoHide(n){this._autoHide=Us(n)}get responsive(){return this._responsive}set responsive(n){this._responsive=Us(n)}trackByIndex(n){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=z({type:t,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(n,i){if(n&1&&(c(0,"pagination-template",0,1),v("pageChange",function(r){return i.pageChange.emit(r)})("pageBoundsCorrection",function(r){return i.pageBoundsCorrection.emit(r)}),c(2,"nav",2),M(3,dx,6,8,"ul",3),l()()),n&2){let o=Ke(1);g("id",i.id)("maxSize",i.maxSize),f(2),rn("aria-label",i.screenReaderPaginationLabel),f(),g("ngIf",!(i.autoHide&&o.pages.length<=1))}},dependencies:[mx,ee,ne,ml],styles:[`.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}
`],encapsulation:2,changeDetection:0}),t})(),Pt=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ni({type:t}),t.\u0275inj=Di({providers:[Mo],imports:[[U]]}),t})();var Fi=(()=>{let e=class e{constructor(i){this.http=i,this.apiUrl="https://kururayback-app-a1f8360c6979.herokuapp.com"}restaurarContrasena(i,o){let r=localStorage.getItem("token"),a=new X({Authorization:`Bearer ${r}`});return this.http.put(`${this.apiUrl}/restaurar-contrasena`,{tabla:i,id:o},{headers:a})}};e.\u0275fac=function(o){return new(o||e)(Ie(Le))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function px(t,e){t&1&&(c(0,"div")(1,"p"),u(2,"Cargando usuarios..."),l()())}function fx(t,e){if(t&1&&(c(0,"span"),u(1),l()),t&2){let n=E(2);f(),A(n.direccionOrden==="ASC"?"\u25B2":"\u25BC")}}function hx(t,e){if(t&1&&(c(0,"span"),u(1),l()),t&2){let n=E(2);f(),A(n.direccionOrden==="ASC"?"\u25B2":"\u25BC")}}function gx(t,e){if(t&1&&(c(0,"span"),u(1),l()),t&2){let n=E(2);f(),A(n.direccionOrden==="ASC"?"\u25B2":"\u25BC")}}function bx(t,e){if(t&1&&(c(0,"span"),u(1),l()),t&2){let n=E(2);f(),A(n.direccionOrden==="ASC"?"\u25B2":"\u25BC")}}function _x(t,e){if(t&1&&(c(0,"span"),u(1),l()),t&2){let n=E(2);f(),A(n.direccionOrden==="ASC"?"\u25B2":"\u25BC")}}function vx(t,e){if(t&1&&(c(0,"span"),u(1),l()),t&2){let n=E(2);f(),A(n.direccionOrden==="ASC"?"\u25B2":"\u25BC")}}function xx(t,e){if(t&1&&(c(0,"span"),u(1),l()),t&2){let n=E(2);f(),A(n.direccionOrden==="ASC"?"\u25B2":"\u25BC")}}function yx(t,e){if(t&1){let n=q();c(0,"button",25),v("click",function(){D(n);let o=E().$implicit,r=E(2);return T(r.cambiarEstadoUsuario(o.id,!0))}),u(1," Dar de Alta "),l()}}function Cx(t,e){if(t&1){let n=q();c(0,"button",26),v("click",function(){D(n);let o=E().$implicit,r=E(2);return T(r.cambiarEstadoUsuario(o.id,!1))}),u(1," Dar de Baja "),l()}}function wx(t,e){if(t&1){let n=q();c(0,"tr")(1,"td",16),u(2),l(),c(3,"td",16),u(4),l(),c(5,"td",17),u(6),l(),c(7,"td",17),u(8),l(),c(9,"td",18),u(10),l(),c(11,"td",18),u(12),l(),c(13,"td",19)(14,"span",20),u(15),l()(),c(16,"td")(17,"button",21),v("click",function(){let r=D(n).$implicit,a=E(2);return T(a.editarUsuario(r))}),u(18,"Editar"),l()(),c(19,"td"),M(20,yx,2,0,"button",22)(21,Cx,2,0,"button",23),l(),c(22,"td")(23,"button",24),v("click",function(){let r=D(n).$implicit,a=E(2);return T(a.restauraracceso(r.id))}),u(24,"Restaurar Acceso"),l()()()}if(t&2){let n=e.$implicit;f(2),A(n.id),f(2),Ao("",n.apellido_paterno," ",n.apellido_materno," ",n.nombre," "),f(2),A(n.dni),f(2),A(n.correo),f(2),A(n.celular),f(2),A(n.tipo_usuario),f(2),g("ngClass",n.estado_usuario?"badge-success":"badge-danger"),f(),ie(" ",n.estado_usuario?"ACTIVO":"INACTIVO"," "),f(5),g("ngIf",!n.estado_usuario),f(),g("ngIf",n.estado_usuario)}}var Sx=t=>({itemsPerPage:10,currentPage:t,id:"usuarios-pagination"});function Ex(t,e){if(t&1){let n=q();c(0,"div",2)(1,"div",3)(2,"button",4),v("click",function(){D(n);let o=E();return T(o.nuevoUsuario())}),u(3,"Nuevo Usuario"),l()(),c(4,"div",5)(5,"div",6)(6,"table",7)(7,"thead",8)(8,"tr")(9,"th",9),v("click",function(){D(n);let o=E();return T(o.ordenarPor("id"))}),u(10,"ID "),M(11,fx,2,1,"span",10),l(),c(12,"th",9),v("click",function(){D(n);let o=E();return T(o.ordenarPor("apellido_paterno"))}),u(13,"Nombre Completo "),M(14,hx,2,1,"span",10),l(),c(15,"th",11),v("click",function(){D(n);let o=E();return T(o.ordenarPor("dni"))}),u(16,"DNI "),M(17,gx,2,1,"span",10),l(),c(18,"th",11),v("click",function(){D(n);let o=E();return T(o.ordenarPor("correo"))}),u(19,"Correo "),M(20,bx,2,1,"span",10),l(),c(21,"th",12),v("click",function(){D(n);let o=E();return T(o.ordenarPor("telefono"))}),u(22,"Tel\xE9fono "),M(23,_x,2,1,"span",10),l(),c(24,"th",12),v("click",function(){D(n);let o=E();return T(o.ordenarPor("tipo_usuario"))}),u(25,"Tipo Usuario "),M(26,vx,2,1,"span",10),l(),c(27,"th",13),v("click",function(){D(n);let o=E();return T(o.ordenarPor("estado_usuario"))}),u(28,"Estado de usuario "),M(29,xx,2,1,"span",10),l()()(),c(30,"tbody"),M(31,wx,25,12,"tr",14),we(32,"paginate"),l()()(),c(33,"pagination-controls",15),v("pageChange",function(o){D(n);let r=E();return T(r.p=o)}),l()()()}if(t&2){let n=E();f(11),g("ngIf",n.ordenActual==="id"),f(3),g("ngIf",n.ordenActual==="apellido_paterno"),f(3),g("ngIf",n.ordenActual==="dni"),f(3),g("ngIf",n.ordenActual==="correo"),f(3),g("ngIf",n.ordenActual==="telefono"),f(3),g("ngIf",n.ordenActual==="tipo_usuario"),f(3),g("ngIf",n.ordenActual==="estado_usuario"),f(2),g("ngForOf",Me(32,8,n.usuarios,Ge(11,Sx,n.p)))}}var Sm=(()=>{let e=class e{constructor(i,o,r){this.usuarioService=i,this.router=o,this.restaurarClaveService=r,this.p=1,this.usuarios=[],this.isLoading=!1,this.ordenActual="id",this.direccionOrden="ASC"}ngOnInit(){this.obtenerListaUsuarios(this.ordenActual,this.direccionOrden)}obtenerListaUsuarios(i,o){this.isLoading=!0,this.usuarioService.obtenerUsuarios(i,o).subscribe(r=>{this.usuarios=r,this.isLoading=!1,console.log(r)},r=>{console.error("Error al obtener la lista de usuarios:",r),this.isLoading=!1})}ordenarPor(i){console.log(`Ordenando por ${i} en direcci\xF3n ${this.direccionOrden}`),this.ordenActual===i?this.direccionOrden=this.direccionOrden==="ASC"?"DESC":"ASC":this.direccionOrden="ASC",this.ordenActual=i,this.obtenerListaUsuarios(this.ordenActual,this.direccionOrden)}nuevoUsuario(){this.router.navigate(["/registro"])}verCV(i){this.usuarioService.obtenerCVUsuario(i.id).subscribe(o=>{let r=window.URL.createObjectURL(o);window.open(r)},o=>{console.error("Error al obtener el CV:",o)})}cambiarEstadoUsuario(i,o){this.usuarioService.cambiarEstado(i,o).subscribe({next:r=>{console.log("Estado cambiado con \xE9xito:",r),this.obtenerListaUsuarios(this.ordenActual,this.direccionOrden)},error:r=>{console.error("Error al cambiar el estado del usuario:",r),alert(`Error al cambiar el estado del usuario: ${r.error.message}`)}})}editarUsuario(i){this.router.navigate([`/usuarios/${i.id}/editar`])}restauraracceso(i){this.restaurarClaveService.restaurarContrasena("usuarios",i).subscribe({next:()=>{I.fire("\xC9xito","Contrase\xF1a restaurada correctamente.","success")},error:r=>{I.fire("Error","No se pudo restaurar la contrase\xF1a.","error"),console.error(r)}})}};e.\u0275fac=function(o){return new(o||e)(y(_t),y(H),y(Fi))},e.\u0275cmp=z({type:e,selectors:[["app-usuarios"]],standalone:!0,features:[R([_t,Fi]),j],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["userList",""],[1,"card-container"],[1,"mb-2"],[1,"btn","btn-success",3,"click"],[1,"card"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[1,"thead-dark"],[1,"d-none","d-sm-table-cell",3,"click"],[4,"ngIf"],[1,"d-none","d-md-table-cell",3,"click"],[1,"d-none","d-lg-table-cell",3,"click"],[1,"d-none","d-xl-table-cell",3,"click"],[4,"ngFor","ngForOf"],["id","usuarios-pagination",1,"pagination","justify-content-center",3,"pageChange"],[1,"d-none","d-sm-table-cell"],[1,"d-none","d-md-table-cell"],[1,"d-none","d-lg-table-cell"],[1,"d-none","d-xl-table-cell"],[1,"badge",2,"color","white",3,"ngClass"],[1,"btn","btn-primary","btn-sm","custom-btn",3,"click"],["class","btn btn-success btn-sm custom-btn",3,"click",4,"ngIf"],["class","btn btn-danger btn-sm custom-btn",3,"click",4,"ngIf"],[1,"btn","btn-info","btn-sm","custom-btn",3,"click"],[1,"btn","btn-success","btn-sm","custom-btn",3,"click"],[1,"btn","btn-danger","btn-sm","custom-btn",3,"click"]],template:function(o,r){if(o&1&&M(0,px,3,0,"div",0)(1,Ex,34,13,"ng-template",null,1,Wt),o&2){let a=Ke(2);g("ngIf",r.isLoading)("ngIfElse",a)}},dependencies:[U,Nt,ne,ee,Pt,It,Vt],styles:[".badge[_ngcontent-%COMP%]{color:#fff;background-color:#007bff}.badge-success[_ngcontent-%COMP%]{background-color:green}.badge-danger[_ngcontent-%COMP%]{background-color:red}.card-container[_ngcontent-%COMP%]{margin-top:20px}.nuevo-usuario-btn[_ngcontent-%COMP%]{font-size:1.2rem;background-color:#28a745;border-color:#28a745;color:#fff}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto}th[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:middle;margin-left:5px;font-size:.85em;color:#007bff}.custom-btn[_ngcontent-%COMP%]{display:block;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:auto}.btn-container[_ngcontent-%COMP%]{display:flex;justify-content:start;gap:10px}.btn-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,auto);gap:10px}"]});let t=e;return t})();var Wr=(()=>{let e=class e{constructor(){this.messageSource=new Hn(""),this.modalData=new Hn({id:"",visible:!1,type:"error",message:""}),this.currentMessage=this.messageSource.asObservable(),this.modalDataObservable=this.modalData.asObservable()}changeMessage(i){this.messageSource.next(i)}show(i,o,r){this.modalData.next({id:i,visible:!0,type:o,message:r})}hide(i){this.modalData.next({id:i,visible:!1,type:this.modalData.value.type,message:this.modalData.value.message})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=Ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var We=(()=>{let e=class e{constructor(i){this.modalService=i}showSuccess(i,o){this.modalService.show(i,"success",o)}showError(i,o){this.modalService.show(i,"error",o)}};e.\u0275fac=function(o){return new(o||e)(Ie(Wr))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Mx(t,e){t&1&&(c(0,"div",28),u(1," El DNI es requerido y debe tener 8 d\xEDgitos. "),l())}function kx(t,e){t&1&&(c(0,"div",28),u(1," El nombre es requerido. "),l())}function Ix(t,e){t&1&&(c(0,"div",28),u(1," El apellido paterno es requerido. "),l())}function Vx(t,e){t&1&&(c(0,"div",28),u(1," El apellido materno es requerido. "),l())}function Px(t,e){t&1&&(c(0,"div",28),u(1," El correo es requerido y debe ser una direcci\xF3n v\xE1lida. "),l())}function Fx(t,e){t&1&&(c(0,"div",28),u(1," El tel\xE9fono es requerido y debe tener 9 d\xEDgitos. "),l())}function Ax(t,e){t&1&&(c(0,"div",28),u(1," Debes seleccionar un tipo de usuario. "),l())}function Ox(t,e){t&1&&(c(0,"div",28),u(1," La fecha de nacimiento es requerida. "),l())}var Mm=(()=>{let e=class e{constructor(i,o,r,a){this.fb=i,this.usuarioService=o,this.notificationService=r,this.router=a,this.showModal=!1,this.modalMessage="",this.registroForm=this.fb.group({dni:["",[S.required,S.pattern(/^\d{8}$/)]],nombre:["",[S.required]],apellido_paterno:["",[S.required]],apellido_materno:["",[S.required]],correo:["",[S.required,S.email]],telefono:["",[S.pattern(/^\d{9}$/)]],tipo_usuario:["",[S.required]],fecha_nacimiento:["",[S.required]]})}ngOnInit(){}onSubmit(){if(this.registroForm.valid){let i=this.registroForm.value;console.log("Datos enviados:",i),this.usuarioService.registrarUsuario(i).subscribe(o=>{I.fire("\xC9xito","Usurario Registrado Correctamente.","success"),this.router.navigate(["/voluntariados"]),console.log("Registro exitoso:",o),this.router.navigate(["/usuarios"])},o=>{console.error("Error al realizar la solicitud:",o),I.fire("Error",o.error?.message||"No se pudo registrar Usuario.","error")})}else this.showModal=!0,this.modalMessage="Formulario incompleto o inv\xE1lido",this.notificationService.showError("RegistroModal",this.modalMessage),Object.values(this.registroForm.controls).forEach(i=>{i.markAsTouched()})}onCancel(){this.router.navigate(["/usuarios"])}};e.\u0275fac=function(o){return new(o||e)(y(he),y(_t),y(We),y(H))},e.\u0275cmp=z({type:e,selectors:[["app-registro-usuario"]],standalone:!0,features:[R([We,_t]),j],decls:60,vars:10,consts:[[1,"container","mt-3"],[3,"formGroup","ngSubmit"],[1,"row","mb-3"],[1,"col-md-6"],["for","dni",1,"form-label"],["type","text","id","dni","formControlName","dni","placeholder","DNI",1,"form-control"],["class","text-danger",4,"ngIf"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","placeholder","Nombre",1,"form-control"],["for","apellido_paterno",1,"form-label"],["type","text","id","apellido_paterno","formControlName","apellido_paterno","placeholder","Apellido Paterno",1,"form-control"],["for","apellido_materno",1,"form-label"],["type","text","id","apellido_materno","formControlName","apellido_materno","placeholder","Apellido Materno",1,"form-control"],["for","correo",1,"form-label"],["type","email","id","correo","formControlName","correo","placeholder","Correo Electr\xF3nico",1,"form-control"],["for","telefono",1,"form-label"],["type","text","id","telefono","formControlName","telefono","placeholder","Tel\xE9fono",1,"form-control"],["for","tipo_usuario",1,"form-label"],["id","tipo_usuario","formControlName","tipo_usuario",1,"form-select"],["value","","disabled","","selected",""],["value","ADMINISTRADOR"],["value","RRHH"],["value","MENTOR"],["for","fecha_nacimiento",1,"form-label"],["type","date","id","fecha_nacimiento","formControlName","fecha_nacimiento",1,"form-control"],[1,"col","text-center"],["type","submit",1,"btn","btn-primary","me-2",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"text-danger"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"form",1),v("ngSubmit",function(){return r.onSubmit()}),c(2,"div",2)(3,"div",3)(4,"label",4),u(5,"DNI (8 d\xEDgitos)"),l(),k(6,"input",5),M(7,Mx,2,0,"div",6),l(),c(8,"div",3)(9,"label",7),u(10,"Nombre"),l(),k(11,"input",8),M(12,kx,2,0,"div",6),l()(),c(13,"div",2)(14,"div",3)(15,"label",9),u(16,"Apellido Paterno"),l(),k(17,"input",10),M(18,Ix,2,0,"div",6),l(),c(19,"div",3)(20,"label",11),u(21,"Apellido Materno"),l(),k(22,"input",12),M(23,Vx,2,0,"div",6),l()(),c(24,"div",2)(25,"div",3)(26,"label",13),u(27,"Correo Electr\xF3nico"),l(),k(28,"input",14),M(29,Px,2,0,"div",6),l(),c(30,"div",3)(31,"label",15),u(32,"Tel\xE9fono (9 d\xEDgitos)"),l(),k(33,"input",16),M(34,Fx,2,0,"div",6),l()(),c(35,"div",2)(36,"div",3)(37,"label",17),u(38,"Tipo de Usuario"),l(),c(39,"select",18)(40,"option",19),u(41,"Selecciona un tipo"),l(),c(42,"option",20),u(43,"Administrador"),l(),c(44,"option",21),u(45,"RRHH"),l(),c(46,"option",22),u(47,"MENTOR"),l()(),M(48,Ax,2,0,"div",6),l(),c(49,"div",3)(50,"label",23),u(51,"Fecha de Nacimiento"),l(),k(52,"input",24),M(53,Ox,2,0,"div",6),l()(),c(54,"div",2)(55,"div",25)(56,"button",26),u(57,"Guardar"),l(),c(58,"button",27),v("click",function(){return r.onCancel()}),u(59,"Cancelar"),l()()()()()),o&2&&(f(),g("formGroup",r.registroForm),f(6),g("ngIf",r.registroForm.controls.dni.invalid&&(r.registroForm.controls.dni.dirty||r.registroForm.controls.dni.touched)),f(5),g("ngIf",r.registroForm.controls.nombre.invalid&&(r.registroForm.controls.nombre.dirty||r.registroForm.controls.nombre.touched)),f(6),g("ngIf",r.registroForm.controls.apellido_paterno.invalid&&(r.registroForm.controls.apellido_paterno.dirty||r.registroForm.controls.apellido_paterno.touched)),f(5),g("ngIf",r.registroForm.controls.apellido_materno.invalid&&(r.registroForm.controls.apellido_materno.dirty||r.registroForm.controls.apellido_materno.touched)),f(6),g("ngIf",r.registroForm.controls.correo.invalid&&(r.registroForm.controls.correo.dirty||r.registroForm.controls.correo.touched)),f(5),g("ngIf",r.registroForm.controls.telefono.invalid&&(r.registroForm.controls.telefono.dirty||r.registroForm.controls.telefono.touched)),f(14),g("ngIf",r.registroForm.controls.tipo_usuario.invalid&&(r.registroForm.controls.tipo_usuario.dirty||r.registroForm.controls.tipo_usuario.touched)),f(5),g("ngIf",r.registroForm.controls.fecha_nacimiento.invalid&&r.registroForm.controls.fecha_nacimiento.touched),f(3),g("disabled",r.registroForm.invalid))},dependencies:[ge,Q,ue,me,K,ae,Z,J,de,fe,U,ee]});let t=e;return t})();var Dx=(t,e)=>({"modal-content":!0,"bg-success":t,"bg-danger":e});function Tx(t,e){if(t&1&&(c(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h5",5),u(5),l()(),c(6,"div",6)(7,"p"),u(8),l()()()()()),t&2){let n=E();f(2),g("ngClass",ll(3,Dx,n.type==="success",n.type==="error")),f(3),A(n.type==="error"?"Error":"Confirmaci\xF3n"),f(3),A(n.message)}}var Ln=(()=>{let e=class e{constructor(i){this.modalService=i,this.id="",this.show=!1,this.subscription=new Ks,this.timer=null}ngOnInit(){this.subscription.add(this.modalService.modalDataObservable.subscribe(i=>{i&&i.id===this.id&&(this.message=i.message,this.type=i.type,this.show=i.visible,this.show&&this.setAutoCloseModal())}))}ngOnDestroy(){this.subscription.unsubscribe(),this.clearTimer()}closeModal(){this.modalService.hide(this.id),this.clearTimer()}setAutoCloseModal(){this.clearTimer(),this.timer=setTimeout(()=>{this.closeModal()},3e3)}clearTimer(){this.timer!==null&&(clearTimeout(this.timer),this.timer=null)}};e.\u0275fac=function(o){return new(o||e)(y(Wr))},e.\u0275cmp=z({type:e,selectors:[["app-modal"]],inputs:{id:"id"},standalone:!0,features:[j],decls:1,vars:1,consts:[["class","modal fade show","tabindex","-1","role","dialog","style","display: block;",4,"ngIf"],["tabindex","-1","role","dialog",1,"modal","fade","show",2,"display","block"],["role","document",1,"modal-dialog","modal-dialog-top-right","modal-lg"],[3,"ngClass"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"]],template:function(o,r){o&1&&M(0,Tx,9,6,"div",0),o&2&&g("ngIf",r.show)},dependencies:[U,Nt,ee],styles:[".modal-dialog-top-right[_ngcontent-%COMP%]{position:fixed;right:1rem;top:1rem;max-width:400%}"]});let t=e;return t})();var km=(()=>{let e=class e{constructor(i,o,r,a,s){this.activatedRoute=i,this.usuarioService=o,this.notificationService=r,this.router=a,this.fb=s,this.editUserForm=this.fb.group({dni:[{value:"",disabled:!0},[S.required,S.pattern(/^\d{8}$/)]],nombre:["",[S.required]],apellido_paterno:["",[S.required]],apellido_materno:["",[S.required]],correo:["",[S.required,S.email]],telefono:["",[S.required,S.pattern(/^\d{9}$/)]],tipo_usuario:["",[S.required]]})}ngOnInit(){this.activatedRoute.params.subscribe(i=>{let o=+i.id;this.usuarioService.obtenerUsuarioPorId(o).subscribe(r=>{this.editUserForm.patchValue(r),this.editUserForm.get("dni")?.disable()})})}onSubmit(){if(this.editUserForm.valid){let i=this.activatedRoute.snapshot.params.id;this.usuarioService.actualizarUsuario(i,this.editUserForm.value).subscribe(()=>{I.fire("\xC9xito","Usuario Actualizado"),this.router.navigate(["/usuarios"])},o=>{I.fire("ActualizarUsuarioModal","No es posible realizar la actualizaci\xF3n")})}else Object.values(this.editUserForm.controls).forEach(i=>{i.markAsTouched()})}};e.\u0275fac=function(o){return new(o||e)(y(ce),y(_t),y(We),y(H),y(he))},e.\u0275cmp=z({type:e,selectors:[["app-actualizar-usuario"]],standalone:!0,features:[R([_t,We]),j],decls:44,vars:2,consts:[[1,"container","mt-3"],[1,"row"],[1,"col-md-8","offset-md-2"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","dni",1,"form-label"],["type","text","id","dni","formControlName","dni",1,"form-control"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["for","apellido_paterno",1,"form-label"],["type","text","id","apellido_paterno","formControlName","apellido_paterno","required","",1,"form-control"],["for","apellido_materno",1,"form-label"],["type","text","id","apellido_materno","formControlName","apellido_materno","required","",1,"form-control"],["for","correo",1,"form-label"],["type","email","id","correo","formControlName","correo","required","",1,"form-control"],["for","telefono",1,"form-label"],["type","text","id","telefono","formControlName","telefono","required","",1,"form-control"],["for","tipo_usuario",1,"form-label"],["id","tipo_usuario","formControlName","tipo_usuario","required","",1,"form-select"],["value","ADMINISTRADOR"],["value","RRHH"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],["id","ActualizarUsuarioModal"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),u(4,"Actualizar Usuario"),l(),c(5,"form",3),v("ngSubmit",function(){return r.onSubmit()}),c(6,"div",4)(7,"label",5),u(8,"DNI"),l(),k(9,"input",6),l(),c(10,"div",4)(11,"label",7),u(12,"Nombre"),l(),k(13,"input",8),l(),c(14,"div",4)(15,"label",9),u(16,"Apellido Paterno"),l(),k(17,"input",10),l(),c(18,"div",4)(19,"label",11),u(20,"Apellido Materno"),l(),k(21,"input",12),l(),c(22,"div",4)(23,"label",13),u(24,"Correo"),l(),k(25,"input",14),l(),c(26,"div",4)(27,"label",15),u(28,"Tel\xE9fono"),l(),k(29,"input",16),l(),c(30,"div",4)(31,"label",17),u(32,"Tipo de Usuario"),l(),c(33,"select",18)(34,"option",19),u(35,"ADMINISTRADOR"),l(),c(36,"option",20),u(37,"RRHH"),l()()(),c(38,"div",4)(39,"button",21),u(40,"Actualizar"),l(),c(41,"button",22),v("click",function(){return r.router.navigate(["/usuarios"])}),u(42,"Cancelar"),l()()()()()(),k(43,"app-modal",23)),o&2&&(f(5),g("formGroup",r.editUserForm),f(34),g("disabled",!r.editUserForm.valid))},dependencies:[ge,Q,ue,me,K,ae,Z,J,rt,de,fe,Ln,U],styles:[".container[_ngcontent-%COMP%]{padding-top:20px}h2[_ngcontent-%COMP%]{margin-bottom:20px}.form-control[_ngcontent-%COMP%]{margin-bottom:10px}"]});let t=e;return t})();function Nx(t,e){t&1&&(c(0,"div",15),u(1," La contrase\xF1a actual es obligatoria. "),l())}function Rx(t,e){t&1&&(c(0,"div",15),u(1," Campo requerido. "),l())}function Lx(t,e){t&1&&(c(0,"div",15),u(1," La contrase\xF1a debe tener al menos 8 caracteres. "),l())}function Bx(t,e){t&1&&(c(0,"div",15),u(1," La contrase\xF1a debe tener al menos una letra may\xFAscula y una min\xFAscula. "),l())}function zx(t,e){t&1&&(c(0,"div",15),u(1," Las contrase\xF1as no coinciden. "),l())}var qs=(()=>{let e=class e{constructor(i,o,r,a,s,d){this.authService=i,this.usuarioService=o,this.router=r,this.fb=a,this.notificationService=s,this.route=d,this.userId="",this.routeId="",this.claveDni=!1,this.updatePasswordForm=this.fb.group({currentPassword:["",[S.required]],newPassword:["",[S.required,S.minLength(8),S.pattern("^(?=.*[a-z])(?=.*[A-Z]).{8,}$")]],confirmPassword:["",[S.required]]},{validators:this.passwordMatchValidator})}ngOnInit(){let i=localStorage.getItem("token");if(this.userId=localStorage.getItem("id"),this.routeId=this.route.snapshot.params.id,this.claveDni=localStorage.getItem("clave_dni")==="true",!i){I.fire("Error","No est\xE1s autenticado.","error"),this.router.navigate(["/login"]);return}if(this.userId!==this.routeId){I.fire("Error","No tienes permiso para acceder a esta p\xE1gina.","error"),this.router.navigate(["/dashboard"]);return}}passwordMatchValidator(i){let o=i.get("newPassword")?.value,r=i.get("confirmPassword")?.value;return o===r?null:{passwordMismatch:!0}}onChangePassword(){if(this.updatePasswordForm.valid){let i=this.updatePasswordForm.get("currentPassword")?.value,o=this.updatePasswordForm.get("newPassword")?.value;this.usuarioService.actualizarContrasena(i,o).subscribe({next:()=>{I.fire("\xC9xito","Contrase\xF1a actualizada correctamente.","success"),localStorage.removeItem("clave_dni"),this.router.navigate(["/dashboard"])},error:r=>{console.error("Error al actualizar la contrase\xF1a:",r),r.status===401?I.fire("Error","La contrase\xF1a actual es incorrecta.","error"):r.status===500?I.fire("Error","Error en el servidor. Int\xE9ntalo m\xE1s tarde.","error"):I.fire("Error","No fue posible actualizar la contrase\xF1a.","error")}})}}cancel(){this.claveDni?I.fire("Atenci\xF3n","Debes actualizar tu contrase\xF1a antes de continuar.","warning"):this.router.navigate(["/dashboard"])}};e.\u0275fac=function(o){return new(o||e)(y(oe),y(_t),y(H),y(he),y(We),y(ce))},e.\u0275cmp=z({type:e,selectors:[["app-actualizar-clave"]],standalone:!0,features:[R([oe,_t,We]),j],decls:27,vars:7,consts:[[1,"container","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","shadow","p-4",2,"max-width","400px","width","100%"],[1,"text-center","mb-4"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["for","currentPassword"],["type","password","id","currentPassword","formControlName","currentPassword","placeholder","Ingresa tu contrase\xF1a actual",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["for","newPassword"],["type","password","id","newPassword","formControlName","newPassword","placeholder","Ingresa la nueva contrase\xF1a",1,"form-control"],["for","confirmPassword"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder","Confirma la nueva contrase\xF1a",1,"form-control"],[1,"d-flex","justify-content-between"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"text-danger","mt-1"]],template:function(o,r){if(o&1&&(c(0,"div",0)(1,"div",1)(2,"h3",2),u(3,"Actualizar Contrase\xF1a"),l(),c(4,"form",3),v("ngSubmit",function(){return r.onChangePassword()}),c(5,"div",4)(6,"label",5),u(7,"Contrase\xF1a Actual"),l(),k(8,"input",6),M(9,Nx,2,0,"div",7),l(),c(10,"div",4)(11,"label",8),u(12,"Nueva Contrase\xF1a"),l(),k(13,"input",9),M(14,Rx,2,0,"div",7)(15,Lx,2,0,"div",7)(16,Bx,2,0,"div",7),l(),c(17,"div",4)(18,"label",10),u(19,"Confirmar Nueva Contrase\xF1a"),l(),k(20,"input",11),M(21,zx,2,0,"div",7),l(),c(22,"div",12)(23,"button",13),u(24," Actualizar Contrase\xF1a "),l(),c(25,"button",14),v("click",function(){return r.cancel()}),u(26," Cancelar "),l()()()()()),o&2){let a,s,d,m,p;f(4),g("formGroup",r.updatePasswordForm),f(5),g("ngIf",((a=r.updatePasswordForm.get("currentPassword"))==null?null:a.invalid)&&(((a=r.updatePasswordForm.get("currentPassword"))==null?null:a.dirty)||((a=r.updatePasswordForm.get("currentPassword"))==null?null:a.touched))),f(5),g("ngIf",((s=r.updatePasswordForm.get("newPassword"))==null||s.errors==null?null:s.errors.required)&&(((s=r.updatePasswordForm.get("newPassword"))==null?null:s.dirty)||((s=r.updatePasswordForm.get("newPassword"))==null?null:s.touched))),f(),g("ngIf",((d=r.updatePasswordForm.get("newPassword"))==null||d.errors==null?null:d.errors.minlength)&&(((d=r.updatePasswordForm.get("newPassword"))==null?null:d.dirty)||((d=r.updatePasswordForm.get("newPassword"))==null?null:d.touched))),f(),g("ngIf",((m=r.updatePasswordForm.get("newPassword"))==null||m.errors==null?null:m.errors.pattern)&&(((m=r.updatePasswordForm.get("newPassword"))==null?null:m.dirty)||((m=r.updatePasswordForm.get("newPassword"))==null?null:m.touched))),f(5),g("ngIf",(r.updatePasswordForm.errors==null?null:r.updatePasswordForm.errors.passwordMismatch)&&(((p=r.updatePasswordForm.get("confirmPassword"))==null?null:p.dirty)||((p=r.updatePasswordForm.get("confirmPassword"))==null?null:p.touched))),f(2),g("disabled",!r.updatePasswordForm.valid)}},dependencies:[U,ee,ge,Q,K,Z,J,de,fe],styles:[".container[_ngcontent-%COMP%]{height:100vh}.card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 4px 8px #0000001a}h3[_ngcontent-%COMP%]{font-size:1.5rem;color:#333}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;font-size:.9rem}.form-control[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{border-radius:8px}.text-danger[_ngcontent-%COMP%]{font-size:.8rem}"]});let t=e;return t})();var Ye=(()=>{let e=class e{constructor(i){this.http=i,this.apiUrl="https://kururayback-app-a1f8360c6979.herokuapp.com/variables-sistema"}obtenerVariables(){return this.http.get(this.apiUrl)}registrarVariable(i){return console.log(`${this.apiUrl}/registro`,i),this.http.post(`${this.apiUrl}/registro`,i)}cambiarEstadoVariable(i,o){let r=`${this.apiUrl}/${i}/estado`;return this.http.put(r,{nuevoEstado:o})}obtenerVariablePorId(i){return this.http.get(`${this.apiUrl}/${i}`)}actualizarVariable(i,o){let r=`${this.apiUrl}/${i}`;return this.http.put(r,o)}obtenerValoresPorNombre(i){return this.http.get(`${this.apiUrl}/valores`,{params:{nombre:i}})}};e.\u0275fac=function(o){return new(o||e)(Ie(Le))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jx(t,e){t&1&&(c(0,"div")(1,"p"),u(2,"Cargando Variables..."),l()())}function $x(t,e){if(t&1){let n=q();c(0,"tr")(1,"td",9),u(2),l(),c(3,"td",9),u(4),l(),c(5,"td",10),u(6),l(),c(7,"td",10),u(8),l(),c(9,"td",11),u(10),l(),c(11,"td",11),u(12),l(),c(13,"td",12)(14,"span",15),u(15),l()(),c(16,"td")(17,"button",16),v("click",function(){let r=D(n).$implicit,a=E(2);return T(a.editarVariable(r))}),u(18,"Editar"),l(),c(19,"button",17),v("click",function(){let r=D(n).$implicit,a=E(2);return T(a.cambiarEstado(r))}),u(20),l()()()}if(t&2){let n=e.$implicit;f(2),A(n.id),f(2),A(n.nombre),f(2),A(n.descripcion),f(2),A(n.valor1),f(2),A(n.valor2),f(2),A(n.valor3),f(2),g("ngClass",n.estado?"badge-success":"badge-danger"),f(),ie(" ",n.estado?"ACTIVO":"INACTIVO"," "),f(4),g("ngClass",n.estado?"btn-danger":"btn-success"),f(),ie(" ",n.estado?"Baja":"Alta"," ")}}var Hx=t=>({itemsPerPage:10,currentPage:t,id:"variables-pagination"});function Ux(t,e){if(t&1){let n=q();c(0,"div",2)(1,"div",3)(2,"button",4),v("click",function(){D(n);let o=E();return T(o.nuevaVariable())}),u(3,"Nueva Variable"),l()(),c(4,"div",5)(5,"div",6)(6,"table",7)(7,"thead",8)(8,"tr")(9,"th",9),u(10,"ID"),l(),c(11,"th",9),u(12,"Nombre"),l(),c(13,"th",10),u(14,"Descripcion"),l(),c(15,"th",10),u(16,"Valor 1"),l(),c(17,"th",11),u(18,"Valor 2"),l(),c(19,"th",11),u(20,"Valor 3"),l(),c(21,"th",12),u(22,"Estado"),l(),c(23,"th"),u(24,"Acciones"),l()()(),c(25,"tbody"),M(26,$x,21,10,"tr",13),we(27,"paginate"),l()()(),c(28,"pagination-controls",14),v("pageChange",function(o){D(n);let r=E();return T(r.p=o)}),l()()()}if(t&2){let n=E();f(26),g("ngForOf",Me(27,1,n.variables,Ge(4,Hx,n.p)))}}var Im=(()=>{let e=class e{nuevaVariable(){this.router.navigate(["/variable-registro"])}editarVariable(i){this.router.navigate([`/variable-sistema/${i.id}/editar`])}constructor(i,o){this.variableService=i,this.router=o,this.p=1,this.variables=[],this.isLoading=!1}ngOnInit(){this.obtenerListaVariables()}obtenerListaVariables(){this.isLoading=!0,this.variableService.obtenerVariables().subscribe(i=>{this.variables=i,this.isLoading=!1},i=>{console.error("Error al obtener la lista de Variables:",i),this.isLoading=!1})}cambiarEstado(i){let o=i.estado?"baja":"alta";this.variableService.cambiarEstadoVariable(i.id,o).subscribe(r=>{console.log("Estado del variable cambiado exitosamente:",r),i.estado=!i.estado},r=>{console.error("Error al cambiar el estado del variable:",r)})}};e.\u0275fac=function(o){return new(o||e)(y(Ye),y(H))},e.\u0275cmp=z({type:e,selectors:[["app-variable-sistema"]],standalone:!0,features:[R([Ye]),j],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["userList",""],[1,"card-container"],[1,"mb-2"],[1,"btn","btn-success",3,"click"],[1,"card"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[1,"thead-dark"],[1,"d-none","d-sm-table-cell"],[1,"d-none","d-md-table-cell"],[1,"d-none","d-lg-table-cell"],[1,"d-none","d-xl-table-cell"],[4,"ngFor","ngForOf"],["id","variables-pagination",1,"pagination","justify-content-center",3,"pageChange"],[1,"badge",2,"color","white",3,"ngClass"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"btn","btn-sm",3,"ngClass","click"]],template:function(o,r){if(o&1&&M(0,jx,3,0,"div",0)(1,Ux,29,6,"ng-template",null,1,Wt),o&2){let a=Ke(2);g("ngIf",r.isLoading)("ngIfElse",a)}},dependencies:[U,Nt,ne,ee,Pt,It,Vt],styles:[".badge[_ngcontent-%COMP%]{color:#fff;background-color:#007bff}.badge-success[_ngcontent-%COMP%]{background-color:green}.badge-danger[_ngcontent-%COMP%]{background-color:red}.card-container[_ngcontent-%COMP%]{margin-top:20px}.nuevo-usuario-btn[_ngcontent-%COMP%]{font-size:1.2rem;background-color:#28a745;border-color:#28a745;color:#fff}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto}"]});let t=e;return t})();function qx(t,e){t&1&&(c(0,"div",17),u(1," El nombre es requerido. "),l())}function Gx(t,e){t&1&&(c(0,"div",17),u(1," El Valor 1 es requerido. "),l())}var Vm=(()=>{let e=class e{constructor(i,o,r,a){this.fb=i,this.variablesService=o,this.notificationService=r,this.router=a,this.showModal=!1,this.modalMessage="",this.registroForm=this.fb.group({nombre:["",[S.required]],valor1:["",[S.required]]})}ngOnInit(){this.initializeForm()}initializeForm(){this.registroForm=this.fb.group({nombre:["",[S.required]],descripcion:[""],valor1:["",[S.required]],valor2:[""],valor3:[""]})}onSubmit(){if(this.registroForm.valid){let i=this.registroForm.value;i.password=i.dni,this.variablesService.registrarVariable(i).subscribe(o=>{console.log("Registro exitoso:",o),this.router.navigate(["/variables-sistema"])},o=>{this.notificationService.showError("RegistroModal",o.error.message),this.showModal=!0,console.error("Error en el registro:",o)})}else this.showModal=!0,this.modalMessage="No es posible realizar el registro",this.notificationService.showError("RegistroModal",this.modalMessage),Object.values(this.registroForm.controls).forEach(i=>{i.markAsTouched()})}onCancel(){this.router.navigate(["/variables-sistema"])}};e.\u0275fac=function(o){return new(o||e)(y(he),y(Ye),y(We),y(H))},e.\u0275cmp=z({type:e,selectors:[["app-variable-registro"]],standalone:!0,features:[R([We,Ye]),j],decls:32,vars:4,consts:[[1,"container","mt-3"],[3,"formGroup","ngSubmit"],[1,"row","mb-3"],[1,"col"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","placeholder","Nombre",1,"form-control"],["class","text-danger",4,"ngIf"],["for","descripcion",1,"form-label"],["type","text","id","descripcion","formControlName","descripcion","placeholder","descripcion",1,"form-control"],["type","text","id","valor1","formControlName","valor1","placeholder","valor1",1,"form-control"],["for","valor2",1,"form-label"],["type","text","id","valor2","formControlName","valor2","placeholder","valor2",1,"form-control"],["for","valor3",1,"form-label"],["type","text","id","valor3","formControlName","valor3","placeholder","valor3",1,"form-control"],["id","RegistroModal"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"text-danger"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"form",1),v("ngSubmit",function(){return r.onSubmit()}),c(2,"div",2)(3,"div",3)(4,"label",4),u(5,"Nombre"),l(),k(6,"input",5),M(7,qx,2,0,"div",6),l()(),c(8,"div",3)(9,"label",7),u(10,"Descripcion"),l(),k(11,"input",8),l(),c(12,"div",3)(13,"label",4),u(14,"Valor 1"),l(),k(15,"input",9),M(16,Gx,2,0,"div",6),l(),c(17,"div",3)(18,"label",10),u(19,"Valor 2"),l(),k(20,"input",11),l(),c(21,"div",3)(22,"label",12),u(23,"Valor 3"),l(),k(24,"input",13),l(),k(25,"app-modal",14),c(26,"div",2)(27,"div",3)(28,"button",15),u(29,"Guardar"),l(),c(30,"button",16),v("click",function(){return r.onCancel()}),u(31,"Cancelar"),l()()()()()),o&2&&(f(),g("formGroup",r.registroForm),f(6),g("ngIf",r.registroForm.controls.nombre.invalid&&(r.registroForm.controls.nombre.dirty||r.registroForm.controls.nombre.touched)),f(9),g("ngIf",r.registroForm.controls.valor1.invalid&&(r.registroForm.controls.valor1.dirty||r.registroForm.controls.valor1.touched)),f(12),g("disabled",r.registroForm.invalid))},dependencies:[ge,Q,K,Z,J,de,fe,Ln,U,ee]});let t=e;return t})();var Pm=(()=>{let e=class e{constructor(i,o,r,a,s){this.activatedRoute=i,this.VariableService=o,this.notificationService=r,this.router=a,this.fb=s,this.editVariableForm=this.fb.group({nombre:["",[S.required]],valor1:["",[S.required]],descripcion:[""],valor2:[""],valor3:[""]})}initializeForm(){this.editVariableForm=this.fb.group({nombre:["",[S.required]],descripcion:[""],valor1:["",[S.required]],valor2:[""],valor3:[""]})}ngOnInit(){this.initializeForm(),this.activatedRoute.params.subscribe(i=>{let o=+i.id;this.VariableService.obtenerVariablePorId(o).subscribe(r=>{this.editVariableForm.patchValue(r)})})}onSubmit(){if(this.editVariableForm.valid){let i=this.activatedRoute.snapshot.params.id;this.VariableService.actualizarVariable(i,this.editVariableForm.value).subscribe(()=>{this.router.navigate(["/variables-sistema"])},o=>{this.notificationService.showError("ActualizarVariableModal","No es posible realizar la actualizaci\xF3n")})}else Object.values(this.editVariableForm.controls).forEach(i=>{i.markAsTouched()})}};e.\u0275fac=function(o){return new(o||e)(y(ce),y(Ye),y(We),y(H),y(he))},e.\u0275cmp=z({type:e,selectors:[["app-actualizar-variable"]],standalone:!0,features:[R([Ye,We]),j],decls:32,vars:2,consts:[[1,"container","mt-3"],[1,"row"],[1,"col-md-8","offset-md-2"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre",1,"form-control"],["for","descripcion",1,"form-label"],["type","text","id","descripcion","formControlName","descripcion",1,"form-control"],["for","valor1",1,"form-label"],["type","text","id","valor1","formControlName","valor1",1,"form-control"],["for","valor2",1,"form-label"],["type","text","id","valor2","formControlName","valor2",1,"form-control"],["for","valor3",1,"form-label"],["type","text","id","valor3","formControlName","valor3",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],["id","ActualizarVariableModal"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),u(4,"Actualizar Variable"),l(),c(5,"form",3),v("ngSubmit",function(){return r.onSubmit()}),c(6,"div",4)(7,"label",5),u(8,"Nombre"),l(),k(9,"input",6),l(),c(10,"div",4)(11,"label",7),u(12,"Descripcion"),l(),k(13,"input",8),l(),c(14,"div",4)(15,"label",9),u(16,"Valor 1"),l(),k(17,"input",10),l(),c(18,"div",4)(19,"label",11),u(20,"Valor 2"),l(),k(21,"input",12),l(),c(22,"div",4)(23,"label",13),u(24,"Valor 3"),l(),k(25,"input",14),l(),c(26,"div",4)(27,"button",15),u(28,"Actualizar"),l(),c(29,"button",16),v("click",function(){return r.router.navigate(["/variables-sistema"])}),u(30,"Cancelar"),l()()()()()(),k(31,"app-modal",17)),o&2&&(f(5),g("formGroup",r.editVariableForm),f(22),g("disabled",!r.editVariableForm.valid))},dependencies:[ge,Q,K,Z,J,de,fe,Ln,U],styles:[".container[_ngcontent-%COMP%]{padding-top:20px}h2[_ngcontent-%COMP%]{margin-bottom:20px}.form-control[_ngcontent-%COMP%]{margin-bottom:10px}"]});let t=e;return t})();var ve=(()=>{let e=class e{constructor(i){this.http=i,this.apiUrl="https://kururayback-app-a1f8360c6979.herokuapp.com/voluntarios"}obtenerToken(){return localStorage.getItem("token")}obtenerVoluntarios(){let i=localStorage.getItem("token"),o=new X({Authorization:`Bearer ${i}`});return this.http.get(this.apiUrl,{headers:o})}obtenerVoluntariosNoAsignados(){let i=`${this.apiUrl}/voluntariados/voluntarios/no-asignados`;return this.http.get(i)}registrarVoluntario(i){return this.http.post(`${this.apiUrl}/registro`,i)}cambiarEstadoVoluntario(i,o){let r=`${this.apiUrl}/${i}/estado`;return this.http.put(r,{nuevoEstado:o})}obtenerHistorialVoluntario(i,o){let r=`${this.apiUrl}/${i}/historial`,a=new X().set("Authorization",`Bearer ${o}`);return this.http.get(r,{headers:a})}obtenerFeedback(i,o){let r=this.obtenerToken(),a=new X({Authorization:`Bearer ${r}`}),s=`${this.apiUrl}/feedback/${i}/${o}`;return this.http.get(s,{headers:a})}obtenerFeedback_vlogueado_voluntariado(i,o){let r=this.obtenerToken(),a=new X({Authorization:`Bearer ${r}`}),s=`${this.apiUrl}/feedback/${i}/${o}`;return this.http.get(s,{headers:a})}obtenerCVVoluntario(i){let o=`${this.apiUrl}/${i}/cv`;return this.http.get(o,{responseType:"blob"})}obtenerVoluntarioPorId(i){let o=this.obtenerToken(),r=new X({Authorization:`Bearer ${o}`}),a=`${this.apiUrl}/${i}`;return this.http.get(a,{headers:r})}editarVoluntario(i,o){let r=this.obtenerToken(),a=new X({Authorization:`Bearer ${r}`}),s=`${this.apiUrl}/${i}`;return this.http.put(s,o,{headers:a})}obtenerValoresPorNombre(i){let o=`https://kururayback-app-a1f8360c6979.herokuapp.com/variables-sistema/valores?nombre=${i}`;return this.http.get(o)}eliminarFeedback(i){let o=this.obtenerToken(),r=new X({Authorization:`Bearer ${o}`});return this.http.delete(`${this.apiUrl}/feedback/${i}`,{headers:r})}registrarFeedback(i){let o=this.obtenerToken(),r=new X({Authorization:`Bearer ${o}`});return this.http.post(`${this.apiUrl}/feedback`,i,{headers:r})}obtenerFeedbackPorId(i){let o=this.obtenerToken(),r=new X({Authorization:`Bearer ${o}`});return this.http.get(`${this.apiUrl}/feedback/${i}`,{headers:r})}editarFeedback(i,o){let r=this.obtenerToken(),a=new X({Authorization:`Bearer ${r}`});return this.http.put(`${this.apiUrl}/feedback/${i}`,o,{headers:a})}registrarAsistencia(i){let o=this.obtenerToken(),r=new X({Authorization:`Bearer ${o}`});return this.http.post(`https://kururayback-app-a1f8360c6979.herokuapp.com/voluntariados/${i.voluntariado_id}/asistencias`,i,{headers:r})}obtenerVoluntariosPorVoluntariado(i){let o=this.obtenerToken(),r=new X({Authorization:`Bearer ${o}`});return this.http.get(`https://kururayback-app-a1f8360c6979.herokuapp.com/voluntariados/${i}/voluntarios`,{headers:r})}obtenerInformacionVoluntario(i){let o=localStorage.getItem("token"),r=new X({Authorization:`Bearer ${o}`});return this.http.get(`${this.apiUrl}/unico/${i}`,{headers:r})}actualizarInformacionVoluntario(i,o){let r=new X({Authorization:`Bearer ${localStorage.getItem("token")}`});return this.http.put(`${this.apiUrl}/unico/${i}`,o,{headers:r})}};e.\u0275fac=function(o){return new(o||e)(Ie(Le))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Wx(t,e){t&1&&(c(0,"div")(1,"p"),u(2,"Cargando Voluntarios..."),l()())}function Yx(t,e){if(t&1){let n=q();c(0,"tr")(1,"td"),u(2),l(),c(3,"td"),u(4),l(),c(5,"td"),u(6),l(),c(7,"td"),u(8),l(),c(9,"td"),u(10),l(),c(11,"td")(12,"span",11),u(13),l()(),c(14,"td")(15,"div",12)(16,"button",13),v("click",function(){let r=D(n).$implicit,a=E(2);return T(a.editarVoluntario(r))}),u(17,"Editar"),l(),c(18,"button",14),v("click",function(){let r=D(n).$implicit,a=E(2);return T(a.verCV(r))}),u(19,"Ver CV"),l(),c(20,"button",15),v("click",function(){let r=D(n).$implicit,a=E(2);return T(a.cambiarEstadoVoluntario(r))}),u(21),l(),c(22,"button",16),v("click",function(){let r=D(n).$implicit,a=E(2);return T(a.restauraracceso(r.id))}),u(23,"Restaurar Acceso"),l()()()()}if(t&2){let n=e.$implicit;f(2),A(n.id),f(2),Ao("",n.apellido_paterno," ",n.apellido_materno," ",n.nombre,""),f(2),A(n.dni),f(2),A(n.correo),f(2),A(n.celular),f(2),g("ngClass",n.estado_voluntario?"badge-success":"badge-danger"),f(),ie(" ",n.estado_voluntario?"ACTIVO":"INACTIVO"," "),f(7),g("ngClass",n.estado_voluntario?"btn-danger":"btn-success"),f(),ie(" ",n.estado_voluntario?"Dar de Baja":"Dar de Alta"," ")}}var Xx=t=>({itemsPerPage:10,currentPage:t,id:"usuarios-pagination"});function Kx(t,e){if(t&1){let n=q();c(0,"div",2)(1,"div",3)(2,"button",4),v("click",function(){D(n);let o=E();return T(o.nuevoUsuario())}),u(3,"Nuevo Voluntario"),l()(),c(4,"div",5)(5,"div",6)(6,"table",7)(7,"thead",8)(8,"tr")(9,"th"),u(10,"ID"),l(),c(11,"th"),u(12,"Nombre Completo"),l(),c(13,"th"),u(14,"DNI"),l(),c(15,"th"),u(16,"Correo"),l(),c(17,"th"),u(18,"Tel\xE9fono"),l(),c(19,"th"),u(20,"Estado de Usuario"),l(),c(21,"th"),u(22,"Acciones"),l()()(),c(23,"tbody"),M(24,Yx,24,11,"tr",9),we(25,"paginate"),l()()(),c(26,"pagination-controls",10),v("pageChange",function(o){D(n);let r=E();return T(r.p=o)}),l()()()}if(t&2){let n=E();f(24),g("ngForOf",Me(25,1,n.voluntarios,Ge(4,Xx,n.p)))}}var Fm=(()=>{let e=class e{constructor(i,o,r){this.voluntariosService=i,this.router=o,this.restaurarClaveService=r,this.voluntarios=[],this.isLoading=!1,this.p=1,this.mostrarModal=!1,this.voluntariosNoAsignados=[],this.idVoluntariado=null}ngOnInit(){this.obtenerListaVoluntarios()}obtenerListaVoluntarios(){this.isLoading=!0,this.voluntariosService.obtenerVoluntarios().subscribe(i=>{this.voluntarios=i,this.isLoading=!1},i=>{console.error("Error al obtener la lista de voluntarios:",i),this.isLoading=!1})}abrirModal(){this.mostrarModal=!0,this.voluntariosService.obtenerVoluntariosNoAsignados().subscribe(i=>{this.voluntariosNoAsignados=i},i=>{console.error("Error al obtener voluntarios no asignados:",i)})}cerrarModal(){this.mostrarModal=!1,this.obtenerListaVoluntarios()}cambiarEstadoVoluntario(i){let o=i.estado_voluntario?"Inactivo":"Activo";this.voluntariosService.cambiarEstadoVoluntario(i.id,o).subscribe(r=>{this.obtenerListaVoluntarios(),I.fire("\xC9xito",`El estado del voluntario se cambi\xF3 a ${o}.`,"success")},r=>{console.error("Error al cambiar el estado del voluntario:",r),I.fire("Error","No se pudo cambiar el estado del voluntario.","error")})}ordenarPor(i){console.log(`Ordenando por ${i} en direcci\xF3n ${this.direccionOrden}`),this.ordenActual===i?this.direccionOrden=this.direccionOrden==="ASC"?"DESC":"ASC":this.direccionOrden="ASC",this.ordenActual=i,this.obtenerListaVoluntarios()}nuevoUsuario(){this.router.navigate(["/registro-voluntario"])}verCV(i){this.voluntariosService.obtenerCVVoluntario(i.id).subscribe(o=>{let r=window.URL.createObjectURL(o);window.open(r)},o=>{console.error("Error al obtener el CV:",o),I.fire("Error","No se pudo obtener el CV del voluntario.","error")})}editarVoluntario(i){this.router.navigate([`/voluntarios/${i.id}/editar`])}editarUsuario(i){this.router.navigate([`/usuarios/${i.id}/editar`])}restauraracceso(i){this.restaurarClaveService.restaurarContrasena("voluntarios",i).subscribe({next:()=>{I.fire("\xC9xito","Contrase\xF1a restaurada correctamente.","success")},error:r=>{I.fire("Error","No se pudo restaurar la contrase\xF1a.","error"),console.error(r)}})}};e.\u0275fac=function(o){return new(o||e)(y(ve),y(H),y(Fi))},e.\u0275cmp=z({type:e,selectors:[["app-voluntarios"]],standalone:!0,features:[R([ve,Fi]),j],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["userList",""],[1,"card-container"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"btn","btn-new-volunteer",3,"click"],[1,"card"],[1,"table-responsive"],[1,"table","table-striped","table-hover","align-middle"],[1,"thead-highlight"],[4,"ngFor","ngForOf"],["id","usuarios-pagination",1,"pagination","justify-content-center",3,"pageChange"],[1,"badge",3,"ngClass"],[1,"d-flex","flex-wrap","gap-2","justify-content-center"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"btn","btn-sm",3,"ngClass","click"],[1,"btn","btn-secondary","btn-sm",3,"click"]],template:function(o,r){if(o&1&&M(0,Wx,3,0,"div",0)(1,Kx,27,6,"ng-template",null,1,Wt),o&2){let a=Ke(2);g("ngIf",r.isLoading)("ngIfElse",a)}},dependencies:[U,Nt,ne,ee,Pt,It,Vt],styles:[".card-container[_ngcontent-%COMP%]{padding:1.5rem;background-color:#fff;border-radius:8px;box-shadow:0 4px 6px #0000001a}.thead-highlight[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#343a40;color:#fff;text-align:center;font-weight:700;padding:.75rem;border-bottom:2px solid #ffffff}.table[_ngcontent-%COMP%]{margin-bottom:1rem;border-collapse:collapse;width:100%}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;padding:.75rem}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}button[_ngcontent-%COMP%]{padding:5px 10px;font-size:.875rem;border-radius:6px}.btn-primary[_ngcontent-%COMP%]{background-color:#0056b3;color:#fff;border:none}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#003d80}.btn-info[_ngcontent-%COMP%]{background-color:#17a2b8;color:#fff}.btn-info[_ngcontent-%COMP%]:hover{background-color:#138496}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}.btn-new-volunteer[_ngcontent-%COMP%]{background-color:#8b0000;color:#fff;font-weight:700;padding:8px 12px;border:none;border-radius:5px}.btn-new-volunteer[_ngcontent-%COMP%]:hover{background-color:#a00000}.badge[_ngcontent-%COMP%]{font-size:14px;padding:5px 10px;border-radius:12px}.badge-success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.badge-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.d-flex[_ngcontent-%COMP%]{gap:8px}@media (max-width: 768px){.d-none.d-sm-table-cell[_ngcontent-%COMP%]{display:none!important}.custom-btn[_ngcontent-%COMP%]{width:100%;margin-bottom:5px}}"]});let t=e;return t})();function Zx(t,e){t&1&&(c(0,"div")(1,"p"),u(2,"Cargando historial de voluntariados..."),l()())}function Jx(t,e){if(t&1){let n=q();c(0,"tr")(1,"td"),u(2),l(),c(3,"td"),u(4),l(),c(5,"td"),u(6),l(),c(7,"td"),u(8),l(),c(9,"td")(10,"button",9),v("click",function(){let r=D(n).$implicit,a=E(3);return T(a.verFeedback(r.id_voluntariado))}),u(11," Ver Feedback "),l()()()}if(t&2){let n=e.$implicit;f(2),A(n.id_voluntariado),f(2),A(n.nombre_voluntariado),f(2),A(n.lugar),f(2),A(n.descripcion)}}var Qx=t=>({itemsPerPage:10,currentPage:t,id:"voluntariados-pagination"});function ey(t,e){if(t&1){let n=q();c(0,"div")(1,"div",3)(2,"div",4)(3,"table",5)(4,"thead",6)(5,"tr")(6,"th"),u(7,"ID"),l(),c(8,"th"),u(9,"Nombre del Voluntariado"),l(),c(10,"th"),u(11,"Lugar"),l(),c(12,"th"),u(13,"Descripci\xF3n"),l(),c(14,"th"),u(15,"Acciones"),l()()(),c(16,"tbody"),M(17,Jx,12,4,"tr",7),we(18,"paginate"),l()()(),c(19,"pagination-controls",8),v("pageChange",function(o){D(n);let r=E(2);return T(r.p=o)}),l()()()}if(t&2){let n=E(2);f(17),g("ngForOf",Me(18,1,n.voluntariados,Ge(4,Qx,n.p)))}}function ty(t,e){if(t&1&&(c(0,"tr")(1,"td"),u(2),l(),c(3,"td"),u(4),we(5,"date"),l(),c(6,"td"),u(7),l(),c(8,"td"),u(9),l(),c(10,"td"),u(11),l(),c(12,"td"),u(13),l()()),t&2){let n=e.$implicit;f(2),A(n.id),f(2),A(Me(5,6,n.fecha,"dd/MM/yyyy")),f(3),A(n.adicional),f(2),A(n.mentor),f(2),A(n.descripcion),f(2),A(n.tipo)}}function iy(t,e){if(t&1){let n=q();c(0,"div")(1,"div",10)(2,"h3",11),u(3,"Feedback del Voluntariado"),l(),c(4,"div",4)(5,"table",5)(6,"thead",6)(7,"tr")(8,"th"),u(9,"ID"),l(),c(10,"th"),u(11,"Fecha"),l(),c(12,"th"),u(13,"Adicional"),l(),c(14,"th"),u(15,"Mentor"),l(),c(16,"th"),u(17,"Descripci\xF3n"),l(),c(18,"th"),u(19,"Tipo"),l()()(),c(20,"tbody"),M(21,ty,14,9,"tr",7),l()()(),c(22,"div",12)(23,"button",13),v("click",function(){D(n);let o=E(2);return T(o.regresar())}),u(24,"Regresar"),l()()()()}if(t&2){let n=E(2);f(21),g("ngForOf",n.feedbacks)}}function ny(t,e){if(t&1&&M(0,ey,20,6,"div",2)(1,iy,25,1,"div",2),t&2){let n=E();g("ngIf",!n.mostrandoFeedback),f(),g("ngIf",n.mostrandoFeedback)}}var Am=(()=>{let e=class e{constructor(i,o,r){this.voluntariosService=i,this.authService=o,this.router=r,this.voluntariados=[],this.feedbacks=[],this.isLoading=!0,this.p=1,this.mostrandoFeedback=!1}ngOnInit(){this.cargarHistorialVoluntariados()}cargarHistorialVoluntariados(){let i=parseInt(localStorage.getItem("id")||"",10);if(isNaN(i)){console.error("El ID del voluntario no es v\xE1lido."),this.isLoading=!1;return}let o=this.authService.gettoken();if(!o){console.error("El token no es v\xE1lido."),this.isLoading=!1;return}this.voluntariosService.obtenerHistorialVoluntario(i,o).subscribe({next:r=>{console.log(r),this.voluntariados=r,this.isLoading=!1},error:r=>{console.error("Error al cargar los voluntariados:",r),this.isLoading=!1}})}verFeedback(i){let o=parseInt(localStorage.getItem("id")||"",10);if(!o||!i){console.error("Los IDs no son v\xE1lidos."),I.fire("Error","No se pudieron identificar los datos del voluntario o voluntariado.","error");return}this.voluntariosService.obtenerFeedback_vlogueado_voluntariado(o,i).subscribe({next:r=>{this.feedbacks=r.feedbacks,this.mostrandoFeedback=!0,this.feedbacks.length===0&&I.fire("Sin feedback","Este voluntariado no tiene feedbacks registrados.","info")},error:r=>{console.error("Error al obtener los feedbacks:",r),I.fire("Error","Ocurri\xF3 un problema al obtener el feedback. Intenta nuevamente.","error")}})}regresar(){this.mostrandoFeedback=!1,this.feedbacks=[]}};e.\u0275fac=function(o){return new(o||e)(y(ve),y(oe),y(H))},e.\u0275cmp=z({type:e,selectors:[["app-mis-voluntariados"]],standalone:!0,features:[R([ve]),j],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["voluntariadosList",""],[4,"ngIf"],[1,"card-container"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[1,"thead-dark"],[4,"ngFor","ngForOf"],["id","voluntariados-pagination",1,"pagination","justify-content-center",3,"pageChange"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"feedback-container"],[1,"text-center","mb-4"],[1,"text-center","mt-3"],[1,"btn","btn-secondary",3,"click"]],template:function(o,r){if(o&1&&M(0,Zx,3,0,"div",0)(1,ny,2,2,"ng-template",null,1,Wt),o&2){let a=Ke(2);g("ngIf",r.isLoading)("ngIfElse",a)}},dependencies:[U,ne,ee,Rt,Pt,It,Vt]});let t=e;return t})();function oy(t,e){if(t&1){let n=q();c(0,"button",7),v("click",function(){D(n);let o=E();return T(o.registrarFeedback())}),u(1," Registrar Feedback "),l()}}function ry(t,e){t&1&&(c(0,"div",1)(1,"p"),u(2,"Cargando feedback..."),l()())}function ay(t,e){t&1&&(c(0,"th"),u(1,"Acciones"),l())}function sy(t,e){if(t&1){let n=q();c(0,"td")(1,"button",2),v("click",function(){D(n);let o=E().$implicit,r=E(3);return T(r.editarFeedback(o.id))}),u(2," Editar "),l(),c(3,"button",15),v("click",function(){D(n);let o=E().$implicit,r=E(3);return T(r.abrirModalEliminar(o.id))}),u(4," Eliminar "),l()()}}function ly(t,e){if(t&1&&(c(0,"tr")(1,"td"),u(2),l(),c(3,"td"),u(4),we(5,"date"),l(),c(6,"td"),u(7),l(),c(8,"td"),u(9),l(),c(10,"td"),u(11),l(),c(12,"td"),u(13),l(),M(14,sy,5,0,"td",13),l()),t&2){let n=e.$implicit,i=E(3);f(2),A(n.id),f(2),A(Me(5,7,n.fecha,"MMM d, y")),f(3),A(n.tipo),f(2),A(n.descripcion),f(2),A(n.adicional),f(2),A(n.mentor),f(),g("ngIf",i.role==="MENTOR")}}function cy(t,e){if(t&1&&(c(0,"div")(1,"div",10)(2,"table",11)(3,"thead",12)(4,"tr")(5,"th"),u(6,"ID"),l(),c(7,"th"),u(8,"Fecha"),l(),c(9,"th"),u(10,"Tipo"),l(),c(11,"th"),u(12,"Descripcion"),l(),c(13,"th"),u(14,"Adicional"),l(),c(15,"th"),u(16,"Mentor"),l(),M(17,ay,2,0,"th",13),l()(),c(18,"tbody"),M(19,ly,15,10,"tr",14),l()()()()),t&2){let n=E(2);f(17),g("ngIf",n.role==="MENTOR"),f(2),g("ngForOf",n.feedbacks)}}function dy(t,e){t&1&&(c(0,"p"),u(1,"No hay feedback registrado para este voluntario."),l())}function uy(t,e){if(t&1&&M(0,cy,20,2,"div",8)(1,dy,2,0,"ng-template",null,9,Wt),t&2){let n=Ke(2),i=E();g("ngIf",i.feedbacks.length>0)("ngIfElse",n)}}function my(t,e){if(t&1){let n=q();c(0,"div",16)(1,"div",17)(2,"div",18)(3,"div",19)(4,"h5",20),u(5,"Confirmar Eliminaci\xF3n"),l(),c(6,"button",21),v("click",function(){D(n);let o=E();return T(o.cerrarModalEliminar())}),u(7," \xD7 "),l()(),c(8,"div",22)(9,"p"),u(10,"\xBFEst\xE1s seguro de que deseas eliminar este feedback?"),l()(),c(11,"div",23)(12,"button",15),v("click",function(){D(n);let o=E();return T(o.eliminarFeedbackConfirmado())}),u(13,"Eliminar"),l(),c(14,"button",24),v("click",function(){D(n);let o=E();return T(o.cerrarModalEliminar())}),u(15,"Cancelar"),l()()()()()}}var Gs=(()=>{let e=class e{constructor(i,o,r,a){this.voluntariadoService=i,this.authService=o,this.route=r,this.router=a,this.feedbacks=[],this.isLoading=!0,this.role="",this.modalAbierto=!1,this.feedbackAEliminar=null}ngOnInit(){if(this.voluntariadoId=+this.route.snapshot.paramMap.get("voluntariadoId"),this.voluntarioId=+this.route.snapshot.paramMap.get("voluntarioId"),this.role=this.authService.gettipo_usuario()||"guest",!this.voluntarioId||!this.voluntariadoId){console.error("Faltan IDs del voluntario o voluntariado."),this.isLoading=!1;return}this.obtenerFeedback()}obtenerFeedback(){this.voluntariadoService.obtenerFeedback(this.voluntarioId,this.voluntariadoId).subscribe(i=>{console.log("Feedback recibido:",i),this.feedbacks=Array.isArray(i.feedbacks)?i.feedbacks:[],this.isLoading=!1},i=>{console.error("Error al obtener el feedback:",i),this.feedbacks=[],this.isLoading=!1})}registrarFeedback(){this.role==="MENTOR"?this.router.navigate([`/voluntariados/${this.voluntariadoId}/voluntarios/${this.voluntarioId}/feedback/registrar`]):I.fire("No tienes permiso para registrar feedback.")}editarFeedback(i){if(!this.voluntariadoId||!this.voluntarioId||!i){console.error("Faltan par\xE1metros para la navegaci\xF3n:"),console.error("voluntariadoId:",this.voluntariadoId),console.error("voluntarioId:",this.voluntarioId),console.error("feedbackId:",i);return}this.router.navigate(["/voluntariados",this.voluntariadoId,"voluntarios",this.voluntarioId,"feedback",i,"editar"])}abrirModalEliminar(i){this.modalAbierto=!0,this.feedbackAEliminar=i}cerrarModalEliminar(){this.modalAbierto=!1,this.feedbackAEliminar=null}eliminarFeedbackConfirmado(){this.feedbackAEliminar!==null&&this.voluntariadoService.eliminarFeedback(this.feedbackAEliminar).subscribe({next:()=>{I.fire({icon:"success",title:"Feedback eliminado correctamente.",showConfirmButton:!1,timer:1500}),this.feedbacks=this.feedbacks.filter(i=>i.id!==this.feedbackAEliminar),this.cerrarModalEliminar()},error:i=>{console.error("Error al eliminar feedback:",i),I.fire("No fue posible eliminar el feedback.")}})}regresar(){this.router.navigate([`/voluntariados/${this.voluntariadoId}/detalle`])}};e.\u0275fac=function(o){return new(o||e)(y(ve),y(oe),y(ce),y(H))},e.\u0275cmp=z({type:e,selectors:[["app-feedback"]],standalone:!0,features:[R([ve,oe]),j],decls:10,vars:4,consts:[[1,"feedback-container"],[1,"text-center"],[1,"btn","btn-primary",3,"click"],["class","btn btn-success ms-3",3,"click",4,"ngIf"],["class","text-center",4,"ngIf","ngIfElse"],["feedbackList",""],["class","modal","tabindex","-1","role","dialog","style","display: block; background-color: rgba(0, 0, 0, 0.5);",4,"ngIf"],[1,"btn","btn-success","ms-3",3,"click"],[4,"ngIf","ngIfElse"],["noFeedback",""],[1,"table-responsive"],[1,"table","table-hover","align-middle"],[1,"table-danger"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"btn","btn-danger",3,"click"],["tabindex","-1","role","dialog",1,"modal",2,"display","block","background-color","rgba(0, 0, 0, 0.5)"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"close",3,"click"],[1,"modal-body"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"]],template:function(o,r){if(o&1&&(c(0,"div",0)(1,"h2",1),u(2,"Feedback del Voluntario"),l(),c(3,"button",2),v("click",function(){return r.regresar()}),u(4,"Regresar"),l(),M(5,oy,2,0,"button",3)(6,ry,3,0,"div",4)(7,uy,3,2,"ng-template",null,5,Wt),l(),M(9,my,16,0,"div",6)),o&2){let a=Ke(8);f(5),g("ngIf",r.role==="MENTOR"),f(),g("ngIf",r.isLoading)("ngIfElse",a),f(3),g("ngIf",r.modalAbierto)}},dependencies:[U,ne,ee,Rt],styles:[".feedback-container[_ngcontent-%COMP%]{padding:1.5rem;background-color:#fff;border-radius:8px;box-shadow:0 4px 6px #0000001a}.feedback-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem}.table-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.table[_ngcontent-%COMP%]{font-size:.9rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.table-responsive[_ngcontent-%COMP%]{margin-top:1rem}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1050;background-color:#00000080}.modal-dialog[_ngcontent-%COMP%]{position:relative;margin:10% auto auto;max-width:500px}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:15px}.modal-header[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.modal-body[_ngcontent-%COMP%]{padding:10px 15px}"]});let t=e;return t})();var Ae=(()=>{let e=class e{constructor(i,o){this.http=i,this.authService=o,this.baseUrl="https://kururayback-app-a1f8360c6979.herokuapp.com/voluntariados"}getHeaders(){let i=this.authService.gettoken();if(!i)throw new Error("Token no disponible");return new X({Authorization:`Bearer ${i}`})}getVoluntariados(){return this.http.get(this.baseUrl,{headers:this.getHeaders()}).pipe(Ne(i=>(console.error("Error en la solicitud de voluntariados:",i),Te("Error al obtener los voluntariados"))))}crearVoluntariado(i){return this.http.post(`${this.baseUrl}`,i,{headers:this.getHeaders()}).pipe(Ne(o=>(console.error("Error en la creaci\xF3n de voluntariado:",o),Te("Error al crear el voluntariado"))))}getVoluntariado(i){return this.http.get(`${this.baseUrl}/${i}`,{headers:this.getHeaders()}).pipe(Ne(o=>(console.error("Error al obtener voluntariado:",o),Te("Error al cargar los datos."))))}updateVoluntariado(i,o){return this.http.put(`${this.baseUrl}/${i}`,o,{headers:this.getHeaders()}).pipe(Ne(r=>(console.error("Error al realizar la solicitud:",r),Te("Error al actualizar el voluntariado"))))}getVoluntariosNoAsignados(){return this.http.get(`${this.baseUrl}/voluntarios/no-asignados`,{headers:this.getHeaders()}).pipe(Ne(i=>(console.error("Error al obtener voluntarios no asignados:",i),Te("Error al cargar voluntarios no asignados."))))}asignarVoluntario(i,o){let r=localStorage.getItem("token"),a=new X({Authorization:`Bearer ${r}`});return this.http.post(`${this.baseUrl}/voluntarios/asignar`,{id_voluntariado:i,id_voluntario:o},{headers:a})}getVoluntariosAsignados(i){return this.http.get(`${this.baseUrl}/${i}/voluntarios`,{headers:this.getHeaders()}).pipe(Ne(o=>(console.error("Error al obtener voluntarios asignados:",o),Te("Error al cargar voluntarios asignados."))))}desasignarVoluntario(i,o){return this.http.delete(`${this.baseUrl}/${i}/voluntarios/${o}`,{headers:this.getHeaders()}).pipe(Ne(r=>(console.error("Error al desasignar voluntario:",r),Te("Error al intentar desasignar al voluntario."))))}cambiarEstadoVoluntariado(i,o){let r=`${this.baseUrl}/${i}/estado`,a=localStorage.getItem("token"),s=o==="activo",d=new X({Authorization:`Bearer ${a}`});return this.http.put(r,{estado_voluntariado:s},{headers:d})}getDetalleVoluntario(i){return this.http.get(`${this.baseUrl}/voluntarios/${i}`).pipe(Ne(o=>(console.error("Error al obtener detalle del voluntario:",o),Te("Error al cargar el detalle del voluntario."))))}obtenerVoluntariadoPorId(i){let o=localStorage.getItem("token"),r=new X({Authorization:`Bearer ${o}`});return this.http.get(`${this.baseUrl}/${i}`,{headers:r})}obtenerEvidencias(i){return this.http.get(`${this.baseUrl}/${i}/evidencias`,{headers:this.getHeaders()}).pipe(Xr(o=>console.log("Evidencias recibidas:",o)),Ne(o=>(console.error("Error al obtener evidencias:",o),Te("Error al cargar evidencias."))))}obtenerAsistencias(i){return this.http.get(`${this.baseUrl}/${i}/asistencias`,{headers:this.getHeaders()}).pipe(Xr(o=>console.log("Asistencias recibidas:",o)),Ne(o=>(console.error("Error al obtener asistencias:",o),Te("Error al cargar asistencias."))))}obtenerCalculosEvidencia(i){return this.http.get(`${this.baseUrl}/${i}/evidencias/calculos`,{headers:this.getHeaders()}).pipe(Ne(o=>(console.error("Error al obtener c\xE1lculos de evidencia:",o),Te("Error al calcular los valores."))))}registrarEvidencia(i,o){let r=localStorage.getItem("token"),a=new X({Authorization:`Bearer ${r}`});return this.http.post(`${this.baseUrl}/${i}/evidencias`,o,{headers:a})}eliminarEvidencia(i){return this.http.delete(`${this.baseUrl}/evidencias/${i}`,{headers:this.getHeaders()}).pipe(Ne(o=>(console.error("Error al eliminar la evidencia:",o),Te("Error al intentar eliminar la evidencia."))))}obtenerEvidenciaPorId(i){return this.http.get(`https://kururayback-app-a1f8360c6979.herokuapp.com/evidencias/${i}`,{headers:this.getHeaders()}).pipe(Ne(o=>(console.error("Error al obtener la evidencia:",o),Te("Error al cargar la evidencia."))))}cambiarEstadoAlta(i,o){let r=localStorage.getItem("token"),a=new X({Authorization:`Bearer ${r}`}),s={estado_alta:o};return this.http.patch(`${this.baseUrl}/${i}/estado-alta`,s,{headers:a})}aprobarVoluntariado(i){let o=localStorage.getItem("token"),r=new X({Authorization:`Bearer ${o}`});return this.http.post(`${this.baseUrl}/${i}/aprobar`,{},{headers:r})}cerrarVoluntariado(i,o){let r=localStorage.getItem("token"),a=new X({Authorization:`Bearer ${r}`});return this.http.post(`${this.baseUrl}/${i}/cerrar`,o,{headers:a})}obtenerDetalleAsistencia(i){let o=localStorage.getItem("token"),r=new X({Authorization:`Bearer ${o}`});return this.http.get(`${this.baseUrl}/asistencias/${i}/detalle`,{headers:r})}actualizarAsistencia(i,o){let r=localStorage.getItem("token"),a=new X({Authorization:`Bearer ${r}`});return this.http.put(`https://kururayback-app-a1f8360c6979.herokuapp.com/voluntariados/asistencias/${i}`,o,{headers:a})}obtenerHistorialVoluntariado(i){let o=localStorage.getItem("token"),r=new X({Authorization:`Bearer ${o}`});return this.http.get(`/voluntariados/${i}/historial`,{headers:r})}};e.\u0275fac=function(o){return new(o||e)(Ie(Le),Ie(oe))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function py(t,e){t&1&&(c(0,"span",18),u(1,"ALTA"),l())}function fy(t,e){t&1&&(c(0,"span",19),u(1,"BAJA"),l())}function hy(t,e){if(t&1){let n=q();c(0,"tr")(1,"td",9),u(2),l(),c(3,"td"),u(4),l(),c(5,"td"),u(6),l(),c(7,"td",9),u(8),we(9,"date"),l(),c(10,"td",9),M(11,py,2,0,"span",12)(12,fy,2,0,"span",13),l(),c(13,"td",9)(14,"div",14)(15,"button",15),v("click",function(){let r=D(n).$implicit,a=E();return T(a.toggleEstado(r))}),u(16),l(),c(17,"button",16),v("click",function(){let r=D(n).$implicit,a=E();return T(a.verDetalle(r.id))}),u(18,"Ver Detalle"),l(),c(19,"button",17),v("click",function(){let r=D(n).$implicit,a=E();return T(a.editarVoluntariado(r))}),u(20,"Editar"),l()()()()}if(t&2){let n=e.$implicit;f(2),A(n.id),f(2),A(n.nombre),f(2),A(n.tipo),f(2),A(Me(9,7,n.fecha_inicio,"dd/MM/yyyy")),f(3),g("ngIf",n.estado_alta),f(),g("ngIf",!n.estado_alta),f(4),ie(" ",n.estado_alta?"Dar de Baja":"Dar de Alta"," ")}}var gy=t=>({itemsPerPage:10,currentPage:t,id:"voluntariados-pagination"}),Om=(()=>{let e=class e{constructor(i,o){this.voluntariadosService=i,this.router=o,this.voluntariados=[],this.isAdmin=!1,this.isRecursosHumanos=!1,this.isMentor=!1,this.p=1,this.modalAbierto=!1,this.modalDesasignarAbierto=!1,this.modalDetalleAbierto=!1}ngOnInit(){this.verificarRol(),this.obtenerListaVoluntariados()}verificarRol(){let i=localStorage.getItem("usertipo_usuario");i&&(this.isAdmin=i==="ADMINISTRADOR",this.isRecursosHumanos=i==="RRHH",this.isMentor=i==="MENTOR")}obtenerListaVoluntariados(){this.voluntariadosService.getVoluntariados().subscribe(i=>{this.voluntariados=i,this.p=1},i=>{console.error("Error al obtener la lista de voluntariados:",i)})}editarVoluntariado(i){if(!i?.id){console.error("El ID del voluntariado no est\xE1 disponible.");return}this.router.navigate([`/voluntariados/${i.id}/editar`])}cambiarEstado(i){let o=i.estado==="activo"?"inactivo":"activo";this.voluntariadosService.cambiarEstadoVoluntariado(i.id,o).subscribe({next:r=>{alert("Estado cambiado con \xE9xito"),this.obtenerListaVoluntariados()},error:r=>{console.error("Error al cambiar el estado:",r),alert("Error al cambiar el estado del voluntariado")}})}registrarVoluntariado(){this.router.navigate(["/voluntariados/nuevo"])}verDetalle(i){this.router.navigate([`/voluntariados/${i}/detalle`])}toggleEstado(i){let o=!i.estado_alta;this.voluntariadosService.cambiarEstadoAlta(i.id,o).subscribe({next:()=>{i.estado_alta=o,I.fire("\xC9xito",`Estado cambiado a ${o?"De Alta":"De Baja"}`,"success")},error:()=>I.fire("Error","No se pudo cambiar el estado.","error")})}};e.\u0275fac=function(o){return new(o||e)(y(Ae),y(H))},e.\u0275cmp=z({type:e,selectors:[["app-voluntariados"]],standalone:!0,features:[R([Ae]),j],decls:29,vars:6,consts:[[1,"container-fluid","px-4"],[1,"row","mb-3"],[1,"col","text-end"],[1,"btn","btn-danger","fw-bold",3,"click"],[1,"row"],[1,"col"],[1,"table-responsive"],[1,"table","table-striped","table-hover","align-middle"],[1,"table-dark"],[1,"text-center"],[4,"ngFor","ngForOf"],["id","voluntariados-pagination",1,"pagination","justify-content-center",3,"pageChange"],["class","badge bg-success",4,"ngIf"],["class","badge bg-danger",4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-center","gap-2"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"badge","bg-success"],[1,"badge","bg-danger"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),v("click",function(){return r.registrarVoluntariado()}),u(4,"Nuevo Voluntariado"),l()()(),c(5,"div",4)(6,"div",5)(7,"div",6)(8,"table",7)(9,"thead",8)(10,"tr")(11,"th",9),u(12,"ID"),l(),c(13,"th",9),u(14,"Nombre"),l(),c(15,"th",9),u(16,"Tipo"),l(),c(17,"th",9),u(18,"Fecha Inicio"),l(),c(19,"th",9),u(20,"Estado"),l(),c(21,"th",9),u(22,"Acciones"),l()()(),c(23,"tbody"),M(24,hy,21,10,"tr",10),we(25,"paginate"),l()()()()(),c(26,"div",4)(27,"div",5)(28,"pagination-controls",11),v("pageChange",function(s){return r.p=s}),l()()()()),o&2&&(f(24),g("ngForOf",Me(25,1,r.voluntariados,Ge(4,gy,r.p))))},dependencies:[U,ne,ee,Rt,Pt,It,Vt,gi],styles:[".table[_ngcontent-%COMP%]{font-size:1rem;border-collapse:separate;border-spacing:0 .5rem}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-weight:700}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle;padding:.75rem}.badge[_ngcontent-%COMP%]{padding:.5rem;font-size:.875rem}.btn[_ngcontent-%COMP%]{font-size:.85rem;padding:.4rem .75rem}@media (max-width: 768px){.table[_ngcontent-%COMP%]{font-size:.875rem}.btn[_ngcontent-%COMP%]{font-size:.75rem;padding:.3rem .5rem}.badge[_ngcontent-%COMP%]{font-size:.75rem}}"]});let t=e;return t})();function by(t,e){t&1&&(c(0,"div",34),u(1," El nombre es obligatorio y debe tener al menos 3 caracteres. "),l())}function _y(t,e){if(t&1&&(c(0,"option",35),u(1),l()),t&2){let n=e.$implicit;g("value",n),f(),A(n)}}function vy(t,e){t&1&&(c(0,"div",34),u(1," Seleccione un tipo de voluntariado. "),l())}function xy(t,e){t&1&&(c(0,"div",34),u(1," La fecha de inicio es obligatoria. "),l())}function yy(t,e){t&1&&(c(0,"div",34),u(1," La fecha de cierre es obligatoria. "),l())}function Cy(t,e){t&1&&(c(0,"div",34),u(1," El objetivo general es obligatorio. "),l())}function wy(t,e){if(t&1&&(c(0,"div",4)(1,"label",36),u(2),l(),k(3,"input",37),l()),t&2){let n=e.index;f(),g("for","objetivoEspecifico"+(n+1)),f(),ie(" Objetivo espec\xEDfico ",n+1," "),f(),Fo("placeholder","Describa el objetivo espec\xEDfico ",n+1,""),g("id","objetivoEspecifico"+(n+1))("formControlName","objetivoEspecifico"+(n+1))}}function Sy(t,e){t&1&&(c(0,"div",34),u(1," El p\xFAblico objetivo es obligatorio. "),l())}var Ey=()=>[1,2,3,4,5],Dm=(()=>{let e=class e{constructor(i,o,r,a,s){this.fb=i,this.voluntariadosService=o,this.variablesService=r,this.router=a,this.authService=s,this.tipos=[],this.nuevoVoluntariadoForm=this.fb.group({nombre:["",[S.required,S.minLength(3)]],tipo:["",S.required],fecha_inicio:["",S.required],fecha_fin:["",S.required],objetivoGeneral:["",S.required],objetivoEspecifico1:[""],objetivoEspecifico2:[""],objetivoEspecifico3:[""],objetivoEspecifico4:[""],objetivoEspecifico5:[""],publicoObjetivo:["",S.required],beneficiariosDirectos:[""],beneficiariosIndirectos:[""],presupuestoInicial:[null],aliados:[""]})}ngOnInit(){this.cargarValores("TIPO_VOLUNTARIADO")}cargarValores(i){this.variablesService.obtenerValoresPorNombre(i).subscribe({next:o=>{this.tipos=o},error:o=>console.error(`Error al cargar ${i}:`,o)})}guardarVoluntariado(){if(this.nuevoVoluntariadoForm.valid){let i=this.nuevoVoluntariadoForm.value;this.voluntariadosService.crearVoluntariado(i).subscribe({next:()=>{alert("Voluntariado registrado correctamente"),this.router.navigate(["/voluntariados"])},error:o=>{console.error("Error al crear voluntariado:",o),o.status===401?(console.error("No autorizado. Redirigiendo al inicio de sesi\xF3n."),this.router.navigate(["/login"])):alert("Ocurri\xF3 un error al registrar el voluntariado.")}})}else alert("Por favor, complete todos los campos obligatorios.")}onCancel(){this.router.navigate(["/voluntariados"])}};e.\u0275fac=function(o){return new(o||e)(y(he),y(Ae),y(Ye),y(H),y(oe))},e.\u0275cmp=z({type:e,selectors:[["app-nuevo-voluntariado"]],standalone:!0,features:[R([Ae,Ye,oe]),j],decls:63,vars:11,consts:[[1,"container","mt-4"],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6"],["for","nombre"],["type","text","id","nombre","formControlName","nombre","placeholder","Ingrese el nombre del voluntariado",1,"form-control"],["class","text-danger",4,"ngIf"],["for","tipo"],["id","tipo","formControlName","tipo",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","fechaInicio"],["type","date","id","fechaInicio","formControlName","fecha_inicio",1,"form-control"],["for","fechaCierreProyectada"],["type","date","id","fechaCierreProyectada","formControlName","fecha_fin",1,"form-control"],[1,"form-group","col-12"],["for","objetivoGeneral"],["type","text","id","objetivoGeneral","formControlName","objetivoGeneral","placeholder","Describa el objetivo general",1,"form-control"],["class","form-group col-md-6",4,"ngFor","ngForOf"],["for","publicoObjetivo"],["type","text","id","publicoObjetivo","formControlName","publicoObjetivo",1,"form-control"],[1,"form-group","col-md-3"],["for","beneficiariosDirectos"],["type","number","id","beneficiariosDirectos","formControlName","beneficiariosDirectos",1,"form-control"],["for","beneficiariosIndirectos"],["type","number","id","beneficiariosIndirectos","formControlName","beneficiariosIndirectos",1,"form-control"],["for","presupuestoInicial"],["type","number","id","presupuestoInicial","formControlName","presupuestoInicial",1,"form-control"],["for","aliados"],["type","text","id","aliados","formControlName","aliados",1,"form-control"],[1,"form-group","text-center","mt-4"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"text-danger"],[3,"value"],[3,"for"],["type","text",1,"form-control",3,"id","formControlName","placeholder"]],template:function(o,r){if(o&1&&(c(0,"div",0)(1,"h2",1),u(2,"Nuevo Voluntariado"),l(),c(3,"form",2),v("ngSubmit",function(){return r.guardarVoluntariado()}),c(4,"div",3)(5,"div",4)(6,"label",5),u(7,"Nombre del voluntariado"),l(),k(8,"input",6),M(9,by,2,0,"div",7),l(),c(10,"div",4)(11,"label",8),u(12,"Tipo de voluntariado"),l(),c(13,"select",9)(14,"option",10),u(15,"Seleccione un tipo"),l(),M(16,_y,2,2,"option",11),l(),M(17,vy,2,0,"div",7),l(),c(18,"div",4)(19,"label",12),u(20,"Fecha de inicio"),l(),k(21,"input",13),M(22,xy,2,0,"div",7),l(),c(23,"div",4)(24,"label",14),u(25,"Fecha de cierre proyectada"),l(),k(26,"input",15),M(27,yy,2,0,"div",7),l()(),c(28,"div",3)(29,"div",16)(30,"label",17),u(31,"Objetivo general"),l(),k(32,"input",18),M(33,Cy,2,0,"div",7),l(),M(34,wy,4,5,"div",19),l(),c(35,"div",3)(36,"div",4)(37,"label",20),u(38,"P\xFAblico objetivo"),l(),k(39,"input",21),M(40,Sy,2,0,"div",7),l(),c(41,"div",22)(42,"label",23),u(43,"Beneficiarios directos"),l(),k(44,"input",24),l(),c(45,"div",22)(46,"label",25),u(47,"Beneficiarios indirectos"),l(),k(48,"input",26),l()(),c(49,"div",3)(50,"div",4)(51,"label",27),u(52,"Presupuesto inicial"),l(),k(53,"input",28),l(),c(54,"div",4)(55,"label",29),u(56,"Aliados"),l(),k(57,"input",30),l()(),c(58,"div",31)(59,"button",32),u(60," Guardar "),l(),c(61,"button",33),v("click",function(){return r.onCancel()}),u(62," Cancelar "),l()()()()),o&2){let a,s,d,m,p,h;f(3),g("formGroup",r.nuevoVoluntariadoForm),f(6),g("ngIf",((a=r.nuevoVoluntariadoForm.get("nombre"))==null?null:a.invalid)&&((a=r.nuevoVoluntariadoForm.get("nombre"))==null?null:a.touched)),f(7),g("ngForOf",r.tipos),f(),g("ngIf",((s=r.nuevoVoluntariadoForm.get("tipo"))==null?null:s.invalid)&&((s=r.nuevoVoluntariadoForm.get("tipo"))==null?null:s.touched)),f(5),g("ngIf",((d=r.nuevoVoluntariadoForm.get("fecha_inicio"))==null?null:d.invalid)&&((d=r.nuevoVoluntariadoForm.get("fecha_inicio"))==null?null:d.touched)),f(5),g("ngIf",((m=r.nuevoVoluntariadoForm.get("fecha_fin"))==null?null:m.invalid)&&((m=r.nuevoVoluntariadoForm.get("fecha_fin"))==null?null:m.touched)),f(6),g("ngIf",((p=r.nuevoVoluntariadoForm.get("objetivoGeneral"))==null?null:p.invalid)&&((p=r.nuevoVoluntariadoForm.get("objetivoGeneral"))==null?null:p.touched)),f(),g("ngForOf",Oo(10,Ey)),f(6),g("ngIf",((h=r.nuevoVoluntariadoForm.get("publicoObjetivo"))==null?null:h.invalid)&&((h=r.nuevoVoluntariadoForm.get("publicoObjetivo"))==null?null:h.touched)),f(19),g("disabled",r.nuevoVoluntariadoForm.invalid)}},dependencies:[ge,Q,ue,me,K,He,ae,Z,J,de,fe,U,ne,ee,gi],styles:[".container[_ngcontent-%COMP%]{max-width:960px;margin:auto;padding:20px;background:#f9f9f9;border-radius:8px;box-shadow:0 4px 6px #0000001a}h2[_ngcontent-%COMP%]{margin-bottom:20px;font-size:24px;color:#333}label[_ngcontent-%COMP%]{font-weight:700;color:#555}.form-control[_ngcontent-%COMP%]{border-radius:6px;padding:10px}button[_ngcontent-%COMP%]{width:150px;margin:5px}"]});let t=e;return t})();function My(t,e){t&1&&(c(0,"div",30),u(1," El nombre es obligatorio y debe tener al menos 3 caracteres. "),l())}function ky(t,e){if(t&1&&(c(0,"option",31),u(1),l()),t&2){let n=e.$implicit;g("value",n),f(),ie(" ",n," ")}}function Iy(t,e){t&1&&(c(0,"div",30),u(1," Seleccione un tipo de voluntariado. "),l())}function Vy(t,e){if(t&1&&(c(0,"div",2)(1,"label",32),u(2),l(),k(3,"input",33),l()),t&2){let n=e.index;f(),g("for","objetivoEspecifico"+(n+1)),f(),ie("Objetivo espec\xEDfico ",n+1,""),f(),Fo("placeholder","Ingrese el objetivo espec\xEDfico ",n+1,""),g("id","objetivoEspecifico"+(n+1))("formControlName","objetivoEspecifico"+(n+1))}}var Py=()=>[1,2,3,4,5],Tm=(()=>{let e=class e{constructor(i,o,r,a,s){this.fb=i,this.route=o,this.variablesService=r,this.router=a,this.voluntariadosService=s,this.tiposVoluntariado=[]}ngOnInit(){let i=this.route.snapshot.paramMap.get("id");if(!i){I.fire("Error","ID de voluntariado no proporcionado.","error"),this.router.navigate(["/voluntariados"]);return}this.voluntariadoId=+i,this.crearFormulario(),this.cargarTiposVoluntariado()}crearFormulario(){this.voluntariadoForm=this.fb.group({nombre:["",[S.required,S.minLength(3)]],tipo:["",S.required],fecha_inicio:["",S.required],fecha_fin:["",S.required],objetivoGeneral:["",S.required],objetivoEspecifico1:[""],objetivoEspecifico2:[""],objetivoEspecifico3:[""],objetivoEspecifico4:[""],objetivoEspecifico5:[""],publicoObjetivo:["",S.required],beneficiariosDirectos:[""],beneficiariosIndirectos:[""],presupuestoInicial:[""],aliados:[""]})}cargarTiposVoluntariado(){this.variablesService.obtenerValoresPorNombre("TIPO_VOLUNTARIADO").subscribe({next:i=>{this.tiposVoluntariado=i,this.cargarVoluntariado()},error:()=>{I.fire("Error","No se pudieron cargar los tipos de voluntariado.","error"),this.router.navigate(["/voluntariados"])}})}cargarVoluntariado(){this.voluntariadosService.getVoluntariado(this.voluntariadoId).subscribe({next:i=>{if(console.log("Datos recibidos del voluntariado:",i),console.log("Tipos disponibles:",this.tiposVoluntariado),i){let o=i.fecha_inicio?Jr(i.fecha_inicio,"yyyy-MM-dd","en"):"",r=i.fecha_cierre_proyectada?Jr(i.fecha_cierre_proyectada,"yyyy-MM-dd","en"):"",a=this.tiposVoluntariado.find(s=>s.toUpperCase()===i.tipo.toUpperCase())||"";this.voluntariadoForm.patchValue({nombre:i.nombre||"",tipo:a,fecha_inicio:o,fecha_fin:r,objetivoGeneral:i.objetivo_general||"",objetivoEspecifico1:i.objetivo_especifico1||"",objetivoEspecifico2:i.objetivo_especifico2||"",objetivoEspecifico3:i.objetivo_especifico3||"",objetivoEspecifico4:i.objetivo_especifico4||"",objetivoEspecifico5:i.objetivo_especifico5||"",publicoObjetivo:i.publico_objetivo||"",beneficiariosDirectos:i.beneficiarios_directos||"",beneficiariosIndirectos:i.beneficiarios_indirectos||"",presupuestoInicial:i.presupuesto_inicial||"",aliados:i.aliados||""})}else I.fire("Error","Voluntariado no encontrado.","error"),this.router.navigate(["/voluntariados"])},error:()=>{I.fire("Error","No se pudo cargar el voluntariado.","error"),this.router.navigate(["/voluntariados"])}})}guardar(){if(this.voluntariadoForm.invalid){I.fire("Error","Completa todos los campos obligatorios.","error");return}console.log("Datos enviados al servidor:",this.voluntariadoForm.value),this.voluntariadosService.updateVoluntariado(this.voluntariadoId,this.voluntariadoForm.value).subscribe({next:()=>{I.fire("\xC9xito","Voluntariado actualizado correctamente.","success"),this.router.navigate(["/voluntariados"]),this.cargarVoluntariado()},error:i=>{console.error("Error al realizar la solicitud:",i),I.fire("Error",i.error?.message||"No se pudo actualizar el voluntariado.","error")}})}cancelar(){this.router.navigate(["/voluntariados"])}};e.\u0275fac=function(o){return new(o||e)(y(he),y(ce),y(Ye),y(H),y(Ae))},e.\u0275cmp=z({type:e,selectors:[["app-editar-voluntariado"]],standalone:!0,features:[R([Ae,Ye]),j],decls:55,vars:7,consts:[[1,"container","mt-4"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","formControlName","nombre","placeholder","Ingrese el nombre del voluntariado",1,"form-control"],["class","text-danger",4,"ngIf"],["for","tipo"],["id","tipo","formControlName","tipo",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","fechaInicio"],["type","date","id","fechaInicio","formControlName","fecha_inicio",1,"form-control"],["for","fechaFin"],["type","date","id","fechaFin","formControlName","fecha_fin",1,"form-control"],["for","objetivoGeneral"],["type","text","id","objetivoGeneral","formControlName","objetivoGeneral",1,"form-control"],["class","form-group",4,"ngFor","ngForOf"],["for","publicoObjetivo"],["type","text","id","publicoObjetivo","formControlName","publicoObjetivo",1,"form-control"],["for","beneficiariosDirectos"],["type","number","id","beneficiariosDirectos","formControlName","beneficiariosDirectos",1,"form-control"],["for","beneficiariosIndirectos"],["type","number","id","beneficiariosIndirectos","formControlName","beneficiariosIndirectos",1,"form-control"],["for","presupuestoInicial"],["type","number","id","presupuestoInicial","formControlName","presupuestoInicial",1,"form-control"],["for","aliados"],["type","text","id","aliados","formControlName","aliados",1,"form-control"],[1,"form-group","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"text-danger"],[3,"value"],[3,"for"],["type","text",1,"form-control",3,"id","formControlName","placeholder"]],template:function(o,r){if(o&1&&(c(0,"div",0)(1,"h2"),u(2,"Editar Voluntariado"),l(),c(3,"form",1),v("ngSubmit",function(){return r.guardar()}),c(4,"div",2)(5,"label",3),u(6,"Nombre del voluntariado"),l(),k(7,"input",4),M(8,My,2,0,"div",5),l(),c(9,"div",2)(10,"label",6),u(11,"Tipo de voluntariado"),l(),c(12,"select",7)(13,"option",8),u(14,"Seleccione un tipo"),l(),M(15,ky,2,2,"option",9),l(),M(16,Iy,2,0,"div",5),l(),c(17,"div",2)(18,"label",10),u(19,"Fecha de inicio"),l(),k(20,"input",11),l(),c(21,"div",2)(22,"label",12),u(23,"Fecha de cierre proyectada"),l(),k(24,"input",13),l(),c(25,"div",2)(26,"label",14),u(27,"Objetivo general"),l(),k(28,"input",15),l(),M(29,Vy,4,5,"div",16),c(30,"div",2)(31,"label",17),u(32,"P\xFAblico objetivo"),l(),k(33,"input",18),l(),c(34,"div",2)(35,"label",19),u(36,"Beneficiarios directos"),l(),k(37,"input",20),l(),c(38,"div",2)(39,"label",21),u(40,"Beneficiarios indirectos"),l(),k(41,"input",22),l(),c(42,"div",2)(43,"label",23),u(44,"Presupuesto inicial"),l(),k(45,"input",24),l(),c(46,"div",2)(47,"label",25),u(48,"Aliados"),l(),k(49,"input",26),l(),c(50,"div",27)(51,"button",28),u(52,"Guardar"),l(),c(53,"button",29),v("click",function(){return r.cancelar()}),u(54,"Cancelar"),l()()()()),o&2){let a,s;f(3),g("formGroup",r.voluntariadoForm),f(5),g("ngIf",((a=r.voluntariadoForm.get("nombre"))==null?null:a.invalid)&&((a=r.voluntariadoForm.get("nombre"))==null?null:a.touched)),f(7),g("ngForOf",r.tiposVoluntariado),f(),g("ngIf",((s=r.voluntariadoForm.get("tipo"))==null?null:s.invalid)&&((s=r.voluntariadoForm.get("tipo"))==null?null:s.touched)),f(13),g("ngForOf",Oo(6,Py)),f(22),g("disabled",r.voluntariadoForm.invalid)}},dependencies:[ge,Q,ue,me,K,He,ae,Z,J,de,fe,U,ne,ee],styles:[".modal[_ngcontent-%COMP%]{display:block;position:fixed;z-index:1050;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 10px #0000001a}"]});let t=e;return t})();function Fy(t,e){t&1&&(c(0,"small",36),u(1," El DNI es obligatorio. "),l())}function Ay(t,e){t&1&&(c(0,"small",36),u(1," El DNI debe contener 8 d\xEDgitos num\xE9ricos. "),l())}function Oy(t,e){if(t&1&&(c(0,"div"),M(1,Fy,2,0,"small",35)(2,Ay,2,0,"small",35),l()),t&2){let n=E(),i,o;f(),g("ngIf",(i=n.registroForm.get("dni"))==null||i.errors==null?null:i.errors.required),f(),g("ngIf",(o=n.registroForm.get("dni"))==null||o.errors==null?null:o.errors.pattern)}}function Dy(t,e){t&1&&(c(0,"small",36),u(1," El nombre es obligatorio. "),l())}function Ty(t,e){if(t&1&&(c(0,"div"),M(1,Dy,2,0,"small",35),l()),t&2){let n=E(),i;f(),g("ngIf",(i=n.registroForm.get("nombre"))==null||i.errors==null?null:i.errors.required)}}function Ny(t,e){if(t&1&&(c(0,"option",37),u(1),l()),t&2){let n=e.$implicit;g("value",n),f(),A(n)}}function Ry(t,e){if(t&1&&(c(0,"option",37),u(1),l()),t&2){let n=e.$implicit;g("value",n),f(),ie(" ",n," ")}}function Ly(t,e){if(t&1&&(c(0,"option",37),u(1),l()),t&2){let n=e.$implicit;g("value",n),f(),ie(" ",n," ")}}function By(t,e){if(t&1&&(c(0,"option",37),u(1),l()),t&2){let n=e.$implicit;g("value",n),f(),ie(" ",n," ")}}var Nm=(()=>{let e=class e{constructor(i,o,r,a,s){this.fb=i,this.voluntariosService=o,this.notificationService=r,this.router=a,this.variablesService=s,this.areas=[],this.situaciones=[],this.carreras=[],this.categorias=[],this.file=null}ngOnInit(){this.initializeForm(),this.cargarValores("AREA"),this.cargarValores("SITUACION"),this.cargarValores("CARRERA"),this.cargarValores("CATEGORIA")}initializeForm(){this.registroForm=this.fb.group({dni:["",[S.required,S.pattern(/^\d{8}$/)]],nombre:["",[S.required]],apellido_paterno:["",[S.required]],apellido_materno:["",[S.required]],correo:["",[S.required,S.email]],telefono:["",[S.required,S.pattern(/^\d{9}$/)]],fecha_nacimiento:["",[S.required]],area:["",[S.required]],situacion:["",[S.required]],carrera:["",[S.required]],categoria:["",[S.required]],cv:[null]})}onFileChange(i){let o=i.target.files[0];o&&o.type==="application/pdf"?this.file=o:(this.file=null,o&&alert("Por favor, sube un archivo PDF v\xE1lido."))}onSubmit(){if(this.registroForm.valid){let i=new FormData,o=De({},this.registroForm.value);o.celular=o.telefono,delete o.telefono,Object.keys(o).forEach(r=>{i.append(r,o[r])}),this.file&&i.append("cv",this.file,this.file.name),this.voluntariosService.registrarVoluntario(i).subscribe(()=>{this.notificationService.showSuccess("Registro exitoso","El voluntario ha sido registrado."),this.router.navigate(["/voluntarios"])},r=>{console.error("Error en el registro:",r),this.notificationService.showError("Error en el registro",r.error?.message||"Error al registrar el voluntario.")})}else this.notificationService.showError("Formulario inv\xE1lido","Complete todos los campos requeridos correctamente.")}cargarValores(i){this.variablesService.obtenerValoresPorNombre(i).subscribe({next:o=>{i==="AREA"?this.areas=o:i==="SITUACION"?this.situaciones=o:i==="CARRERA"?this.carreras=o:i==="CATEGORIA"&&(this.categorias=o)},error:o=>console.error(`Error al cargar ${i}:`,o)})}};e.\u0275fac=function(o){return new(o||e)(y(he),y(ve),y(We),y(H),y(Ye))},e.\u0275cmp=z({type:e,selectors:[["app-registro-voluntario"]],standalone:!0,features:[R([ve,We,Ye]),j],decls:77,vars:8,consts:[[1,"container","mt-4"],[1,"text-center","mb-4"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6","col-12"],["for","dni"],["id","dni","type","text","formControlName","dni","placeholder","Ingrese el DNI",1,"form-control"],[4,"ngIf"],["for","nombre"],["id","nombre","type","text","formControlName","nombre","placeholder","Ingrese el nombre",1,"form-control"],["for","apellido_paterno"],["id","apellido_paterno","type","text","formControlName","apellido_paterno","placeholder","Ingrese el apellido paterno",1,"form-control"],["for","apellido_materno"],["id","apellido_materno","type","text","formControlName","apellido_materno","placeholder","Ingrese el apellido materno",1,"form-control"],["for","correo"],["id","correo","type","email","formControlName","correo","placeholder","Ingrese el correo",1,"form-control"],["for","telefono"],["id","telefono","type","text","formControlName","telefono","placeholder","Ingrese el tel\xE9fono",1,"form-control"],["for","fecha_nacimiento"],["id","fecha_nacimiento","type","date","formControlName","fecha_nacimiento",1,"form-control"],["for","area"],["id","area","formControlName","area",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","situacion"],["id","situacion","formControlName","situacion",1,"form-control"],["for","carrera"],["id","carrera","formControlName","carrera",1,"form-control"],["for","categoria"],["id","categoria","formControlName","categoria",1,"form-control"],["for","cv"],["id","cv","type","file","accept",".pdf",1,"form-control",3,"change"],[1,"form-group","text-center"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[3,"value"]],template:function(o,r){if(o&1&&(c(0,"div",0)(1,"h2",1),u(2,"Registrar Voluntario"),l(),c(3,"form",2),v("ngSubmit",function(){return r.onSubmit()}),c(4,"div",3)(5,"div",4)(6,"label",5),u(7,"DNI"),l(),k(8,"input",6),M(9,Oy,3,2,"div",7),l(),c(10,"div",4)(11,"label",8),u(12,"Nombre"),l(),k(13,"input",9),M(14,Ty,2,1,"div",7),l()(),c(15,"div",3)(16,"div",4)(17,"label",10),u(18,"Apellido Paterno"),l(),k(19,"input",11),l(),c(20,"div",4)(21,"label",12),u(22,"Apellido Materno"),l(),k(23,"input",13),l()(),c(24,"div",3)(25,"div",4)(26,"label",14),u(27,"Correo Electr\xF3nico"),l(),k(28,"input",15),l(),c(29,"div",4)(30,"label",16),u(31,"Tel\xE9fono"),l(),k(32,"input",17),l()(),c(33,"div",3)(34,"div",4)(35,"label",18),u(36,"Fecha de Nacimiento"),l(),k(37,"input",19),l(),c(38,"div",4)(39,"label",20),u(40,"\xC1rea"),l(),c(41,"select",21)(42,"option",22),u(43,"Seleccione un \xE1rea"),l(),M(44,Ny,2,2,"option",23),l()()(),c(45,"div",3)(46,"div",4)(47,"label",24),u(48,"Situaci\xF3n Acad\xE9mica"),l(),c(49,"select",25)(50,"option",22),u(51,"Seleccione una situaci\xF3n"),l(),M(52,Ry,2,2,"option",23),l()(),c(53,"div",4)(54,"label",26),u(55,"Carrera"),l(),c(56,"select",27)(57,"option",22),u(58,"Seleccione una carrera"),l(),M(59,Ly,2,2,"option",23),l()()(),c(60,"div",3)(61,"div",4)(62,"label",28),u(63,"Categor\xEDa"),l(),c(64,"select",29)(65,"option",22),u(66,"Seleccione una categor\xEDa"),l(),M(67,By,2,2,"option",23),l()(),c(68,"div",4)(69,"label",30),u(70,"Adjuntar CV (PDF)"),l(),c(71,"input",31),v("change",function(s){return r.onFileChange(s)}),l()()(),c(72,"div",32)(73,"button",33),u(74," Guardar "),l(),c(75,"button",34),v("click",function(){return r.router.navigate(["/voluntarios"])}),u(76," Cancelar "),l()()()()),o&2){let a,s;f(3),g("formGroup",r.registroForm),f(6),g("ngIf",((a=r.registroForm.get("dni"))==null?null:a.touched)&&((a=r.registroForm.get("dni"))==null?null:a.invalid)),f(5),g("ngIf",((s=r.registroForm.get("nombre"))==null?null:s.touched)&&((s=r.registroForm.get("nombre"))==null?null:s.invalid)),f(30),g("ngForOf",r.areas),f(8),g("ngForOf",r.situaciones),f(7),g("ngForOf",r.carreras),f(8),g("ngForOf",r.categorias),f(6),g("disabled",r.registroForm.invalid)}},dependencies:[U,ne,ee,ge,Q,ue,me,K,ae,Z,J,de,fe],styles:[".form-container[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.form-title[_ngcontent-%COMP%]{color:#343a40;font-weight:700;margin-bottom:20px}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px}.col-md-6[_ngcontent-%COMP%]{flex:0 0 48%}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{border-radius:4px}.btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:14px;border-radius:6px}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}@media (max-width: 768px){.col-md-6[_ngcontent-%COMP%]{flex:0 0 100%}}"]});let t=e;return t})();function zy(t,e){if(t&1&&(c(0,"option",33),u(1),l()),t&2){let n=e.$implicit;g("value",n),f(),A(n)}}function jy(t,e){if(t&1&&(c(0,"option",33),u(1),l()),t&2){let n=e.$implicit;g("value",n),f(),A(n)}}function $y(t,e){if(t&1&&(c(0,"option",33),u(1),l()),t&2){let n=e.$implicit;g("value",n),f(),A(n)}}function Hy(t,e){if(t&1&&(c(0,"option",33),u(1),l()),t&2){let n=e.$implicit;g("value",n),f(),A(n)}}var Rm=(()=>{let e=class e{constructor(i,o,r,a){this.fb=i,this.route=o,this.voluntariosService=r,this.router=a,this.areas=[],this.situaciones=[],this.carreras=[],this.categorias=[],this.file=null}ngOnInit(){this.voluntarioId=+this.route.snapshot.paramMap.get("id"),this.initializeForm(),this.cargarDatosVoluntario(),this.cargarValores("AREA"),this.cargarValores("SITUACION"),this.cargarValores("CARRERA"),this.cargarValores("CATEGORIA")}initializeForm(){this.editarForm=this.fb.group({nombre:["",[S.required]],apellido_paterno:["",[S.required]],apellido_materno:["",[S.required]],correo:["",[S.required,S.email]],telefono:["",[S.required,S.pattern(/^\d{9}$/)]],fecha_nacimiento:["",[S.required]],area:["",[S.required]],situacion:["",[S.required]],categoria:["",[S.required]],carrera:["",[S.required]]})}cargarValores(i){this.voluntariosService.obtenerValoresPorNombre(i).subscribe({next:o=>{i==="AREA"?this.areas=o:i==="SITUACION"?this.situaciones=o:i==="CARRERA"?this.carreras=o:i==="CATEGORIA"&&(this.categorias=o)},error:o=>{console.error(`Error al cargar ${i}:`,o)}})}cargarDatosVoluntario(){let i=this.route.snapshot.params.id;this.voluntariosService.obtenerVoluntarioPorId(i).subscribe({next:o=>{if(o.grado_instruccion&&(o.situacion=o.grado_instruccion),o.celular&&(o.telefono=o.celular),o.fecha_nacimiento){let r=new Date(o.fecha_nacimiento);o.fecha_nacimiento=r.toISOString().split("T")[0]}this.editarForm.patchValue(o),console.log("Datos cargados en el formulario:",this.editarForm.value)},error:o=>{console.error("Error al cargar datos del voluntario:",o),I.fire("Error","No se pudieron cargar los datos del voluntario.","error")}})}onFileChange(i){let o=i.target.files[0];o&&o.type==="application/pdf"?this.file=o:(this.file=null,I.fire("Error","Por favor, selecciona un archivo PDF v\xE1lido.","error"))}onSubmit(){if(this.editarForm.valid){let i=new FormData,o=De({},this.editarForm.value);o.grado_instruccion=o.situacion,delete o.situacion,Object.keys(o).forEach(r=>{i.append(r,o[r])}),this.file&&i.append("cv",this.file,this.file.name),this.voluntariosService.editarVoluntario(this.voluntarioId,i).subscribe(()=>{I.fire("\xC9xito","Voluntario actualizado correctamente.","success"),this.router.navigate(["/voluntarios"])},r=>{console.error("Error al actualizar voluntario:",r),I.fire("Error","No se pudo actualizar el voluntario.","error")})}else console.log("Errores en el formulario:",this.editarForm.controls),I.fire("Error","Completa correctamente todos los campos.","error")}};e.\u0275fac=function(o){return new(o||e)(y(he),y(ce),y(ve),y(H))},e.\u0275cmp=z({type:e,selectors:[["app-editar-voluntario"]],standalone:!0,features:[R([ve]),j],decls:70,vars:5,consts:[[1,"container","form-container"],[1,"form-title"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6"],["for","nombre"],["id","nombre","formControlName","nombre",1,"form-control"],["for","apellido_paterno"],["id","apellido_paterno","formControlName","apellido_paterno",1,"form-control"],["for","apellido_materno"],["id","apellido_materno","formControlName","apellido_materno",1,"form-control"],["for","correo"],["id","correo","formControlName","correo","type","email",1,"form-control"],["for","telefono"],["id","telefono","formControlName","telefono","type","text",1,"form-control"],["for","fecha_nacimiento"],["id","fecha_nacimiento","formControlName","fecha_nacimiento","type","date",1,"form-control"],["for","area"],["id","area","formControlName","area",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","situacion"],["id","situacion","formControlName","situacion",1,"form-control"],["for","carrera"],["id","carrera","formControlName","carrera",1,"form-control"],["for","categoria"],["id","categoria","formControlName","categoria",1,"form-control"],[1,"form-group"],["for","cv"],["id","cv","type","file","accept",".pdf",1,"form-control",3,"change"],[1,"form-buttons"],["type","submit",1,"btn","btn-success"],["type","button",1,"btn","btn-secondary",3,"click"],[3,"value"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"h2",1),u(2,"Editar Voluntario"),l(),c(3,"form",2),v("ngSubmit",function(){return r.onSubmit()}),c(4,"div",3)(5,"div",4)(6,"label",5),u(7,"Nombre"),l(),k(8,"input",6),l(),c(9,"div",4)(10,"label",7),u(11,"Apellido Paterno"),l(),k(12,"input",8),l()(),c(13,"div",3)(14,"div",4)(15,"label",9),u(16,"Apellido Materno"),l(),k(17,"input",10),l(),c(18,"div",4)(19,"label",11),u(20,"Correo"),l(),k(21,"input",12),l()(),c(22,"div",3)(23,"div",4)(24,"label",13),u(25,"Tel\xE9fono"),l(),k(26,"input",14),l(),c(27,"div",4)(28,"label",15),u(29,"Fecha de Nacimiento"),l(),k(30,"input",16),l()(),c(31,"div",3)(32,"div",4)(33,"label",17),u(34,"\xC1rea"),l(),c(35,"select",18)(36,"option",19),u(37,"Seleccione un \xE1rea"),l(),M(38,zy,2,2,"option",20),l()(),c(39,"div",4)(40,"label",21),u(41,"Situaci\xF3n Acad\xE9mica"),l(),c(42,"select",22)(43,"option",19),u(44,"Seleccione una situaci\xF3n"),l(),M(45,jy,2,2,"option",20),l()()(),c(46,"div",3)(47,"div",4)(48,"label",23),u(49,"Carrera"),l(),c(50,"select",24)(51,"option",19),u(52,"Seleccione una carrera"),l(),M(53,$y,2,2,"option",20),l()(),c(54,"div",4)(55,"label",25),u(56,"Categor\xEDa"),l(),c(57,"select",26)(58,"option",19),u(59,"Seleccione una categor\xEDa"),l(),M(60,Hy,2,2,"option",20),l()()(),c(61,"div",27)(62,"label",28),u(63,"Actualizar CV"),l(),c(64,"input",29),v("change",function(s){return r.onFileChange(s)}),l()(),c(65,"div",30)(66,"button",31),u(67,"Guardar Cambios"),l(),c(68,"button",32),v("click",function(){return r.router.navigate(["/voluntarios"])}),u(69,"Cancelar"),l()()()()),o&2&&(f(3),g("formGroup",r.editarForm),f(35),g("ngForOf",r.areas),f(7),g("ngForOf",r.situaciones),f(8),g("ngForOf",r.carreras),f(7),g("ngForOf",r.categorias))},dependencies:[U,ne,ge,Q,ue,me,K,ae,Z,J,de,fe],styles:[".form-container[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.form-title[_ngcontent-%COMP%]{color:#343a40;font-weight:700;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{border-radius:4px}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px}.col-md-6[_ngcontent-%COMP%]{flex:0 0 48%}.form-buttons[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-size:14px;margin:5px}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}@media (max-width: 768px){.col-md-6[_ngcontent-%COMP%]{flex:0 0 100%}}"]});let t=e;return t})();function Uy(t,e){t&1&&(c(0,"div",9)(1,"p"),u(2,"Cargando voluntarios..."),l()())}function qy(t,e){if(t&1){let n=q();c(0,"tr")(1,"td"),u(2),l(),c(3,"td")(4,"button",14),v("click",function(){let r=D(n).$implicit,a=E(2);return T(a.asignarVoluntario(r.id))}),u(5," Asignar "),l()()()}if(t&2){let n=e.$implicit;f(2),A(n.nombre_completo)}}function Gy(t,e){if(t&1&&(c(0,"div",10)(1,"table",11)(2,"thead",12)(3,"tr")(4,"th"),u(5,"Nombre Completo"),l(),c(6,"th"),u(7,"Acciones"),l()()(),c(8,"tbody"),M(9,qy,6,1,"tr",13),l()()()),t&2){let n=E();f(9),g("ngForOf",n.voluntarios)}}var Lm=(()=>{let e=class e{constructor(i){this.voluntariadosService=i,this.cerrarModal=new ht,this.actualizarVoluntarios=new ht,this.voluntarios=[],this.cargando=!1}ngOnInit(){this.obtenerVoluntariosNoAsignados()}obtenerVoluntariosNoAsignados(){this.cargando=!0,this.voluntariadosService.getVoluntariosNoAsignados().subscribe(i=>{this.voluntarios=i,this.cargando=!1},i=>{console.error("Error al obtener voluntarios sin asignaci\xF3n:",i),this.cargando=!1})}asignarVoluntario(i){this.voluntariadosService.asignarVoluntario(this.idVoluntariado,i).subscribe(()=>{I.fire({icon:"success",title:"\xC9xito",text:"Voluntario asignado con \xE9xito.",confirmButtonText:"OK",confirmButtonColor:"#4caf50"}),this.voluntarios=this.voluntarios.filter(o=>o.id!==i),this.actualizarVoluntarios.emit()},o=>{console.error("Error al asignar voluntario:",o),I.fire({icon:"error",title:"Error",text:"Ocurri\xF3 un problema al asignar el voluntario. Por favor, intenta nuevamente.",confirmButtonText:"OK",confirmButtonColor:"#f44336"})})}cerrar(){this.cerrarModal.emit()}};e.\u0275fac=function(o){return new(o||e)(y(Ae))},e.\u0275cmp=z({type:e,selectors:[["app-asignar-voluntario-modal"]],inputs:{idVoluntariado:"idVoluntariado"},outputs:{cerrarModal:"cerrarModal",actualizarVoluntarios:"actualizarVoluntarios"},standalone:!0,features:[R([Ae]),j],decls:10,vars:2,consts:[["tabindex","-1",1,"modal",2,"display","block","background-color","rgba(0,0,0,0.5)"],[1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-danger","text-white"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","text-center",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"text-center"],[1,"table-responsive"],[1,"table","table-hover","table-striped","align-middle"],[1,"table-danger"],[4,"ngFor","ngForOf"],[1,"btn","btn-success","btn-sm",3,"click"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),u(5,"Asignar Voluntario"),l(),c(6,"button",5),v("click",function(){return r.cerrar()}),l()(),c(7,"div",6),M(8,Uy,3,0,"div",7)(9,Gy,10,1,"div",8),l()()()()),o&2&&(f(8),g("ngIf",r.cargando),f(),g("ngIf",!r.cargando))},dependencies:[U,ne,ee],styles:[".modal-dialog[_ngcontent-%COMP%]{margin:2rem auto;border-radius:10px;box-shadow:0 4px 10px #0000004d}.modal-dialog-centered[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:calc(100vh - 1rem)}.modal-content[_ngcontent-%COMP%]{margin-top:2rem}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.table[_ngcontent-%COMP%]{font-size:.9rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}"]});let t=e;return t})();function Wy(t,e){if(t&1){let n=q();c(0,"button",32),v("click",function(){D(n);let o=E();return T(o.aprobarVoluntariado())}),u(1," Aprobar Voluntariado "),l()}}function Yy(t,e){if(t&1){let n=q();c(0,"button",33),v("click",function(){D(n);let o=E();return T(o.abrirModalCerrarVoluntariado())}),u(1," Cerrar Voluntariado "),l()}}function Xy(t,e){if(t&1&&(c(0,"div",34)(1,"h3"),u(2,"Historial del Voluntariado"),l(),c(3,"div",8)(4,"label"),u(5,"Presupuesto Ejecutado:"),l(),k(6,"input",9),we(7,"currency"),l(),c(8,"div",8)(9,"label"),u(10,"Logros:"),l(),k(11,"textarea",35),l(),c(12,"div",8)(13,"label"),u(14,"Fecha de Cierre:"),l(),k(15,"input",9),we(16,"date"),l()()),t&2){let n=E();f(6),g("value",cl(7,3,n.voluntariado.presupuesto_ejecutado)),f(5),g("value",n.voluntariado.logros),f(4),g("value",Me(16,5,n.voluntariado.fecha_cierre,"dd/MM/yyyy"))}}function Ky(t,e){if(t&1){let n=q();c(0,"button",36),v("click",function(){D(n);let o=E();return T(o.abrirModal(o.voluntariado.id))}),u(1," Asignar Voluntario "),l()}}function Zy(t,e){if(t&1){let n=q();c(0,"button",40),v("click",function(){D(n);let o=E().$implicit,r=E();return T(r.desasignarVoluntario(o.id))}),u(1," Desasignar "),l()}}function Jy(t,e){if(t&1){let n=q();c(0,"tr")(1,"td"),u(2),l(),c(3,"td"),u(4),l(),c(5,"td"),u(6),l(),c(7,"td",37)(8,"button",38),v("click",function(){let r=D(n).$implicit,a=E();return T(a.abrirDetalleVoluntario(r))}),u(9,"Ver"),l(),M(10,Zy,2,0,"button",39),c(11,"button",4),v("click",function(){let r=D(n).$implicit,a=E();return T(a.abrirFeedback(r.id))}),u(12,"Ver Feedback"),l()()()}if(t&2){let n=e.$implicit,i=E();f(2),A(n.id),f(2),A(n.nombre),f(2),A(n.dni),f(4),g("ngIf",i.voluntariado.estado_dinamico!=="Cerrado")}}function Qy(t,e){if(t&1){let n=q();c(0,"button",41),v("click",function(){D(n);let o=E();return T(o.registrarEvidencia())}),u(1," Registrar Evidencia "),l()}}function eC(t,e){if(t&1){let n=q();c(0,"button",33),v("click",function(){D(n);let o=E().$implicit,r=E();return T(r.confirmarEliminarEvidencia(o.id))}),u(1," Eliminar "),l()}}function tC(t,e){if(t&1){let n=q();c(0,"tr")(1,"td"),u(2),we(3,"date"),l(),c(4,"td"),u(5),l(),c(6,"td")(7,"button",42),v("click",function(){let r=D(n).$implicit,a=E();return T(a.abrirDetalleEvidencia(r.id))}),u(8,"Ver"),l(),M(9,eC,2,0,"button",6),l()()}if(t&2){let n=e.$implicit,i=E();f(2),A(Me(3,3,n.fecha_evidencia,"dd/MM/yyyy")),f(3),A(n.descripcion),f(4),g("ngIf",i.isMentor&&i.voluntariado.estado_dinamico!=="Cerrado")}}function iC(t,e){if(t&1){let n=q();c(0,"button",41),v("click",function(){D(n);let o=E();return T(o.irARegistrarAsistencia(o.voluntariado.id))}),u(1," Registrar Asistencia "),l()}}function nC(t,e){if(t&1){let n=q();c(0,"button",40),v("click",function(){D(n);let o=E().$implicit,r=E();return T(r.irAEditarAsistencia(o.id))}),u(1," Editar "),l()}}function oC(t,e){if(t&1){let n=q();c(0,"tr")(1,"td"),u(2),we(3,"date"),l(),c(4,"td"),u(5),l(),c(6,"td")(7,"button",42),v("click",function(){let r=D(n).$implicit,a=E();return T(a.abrirDetalleAsistencia(r.id))}),u(8,"Ver"),l(),M(9,nC,2,0,"button",39),l()()}if(t&2){let n=e.$implicit,i=E();f(2),A(Me(3,3,n.fecha_asistencia,"dd/MM/yyyy")),f(3),A(n.total_asistentes),f(4),g("ngIf",i.isMentor&&i.voluntariado.estado_dinamico!=="Cerrado")}}function rC(t,e){t&1&&(c(0,"small"),u(1," El presupuesto es obligatorio y debe ser un n\xFAmero v\xE1lido. "),l())}function aC(t,e){t&1&&(c(0,"small"),u(1," Los logros son obligatorios y no deben superar los 1000 caracteres. "),l())}function sC(t,e){if(t&1){let n=q();c(0,"app-asignar-voluntario-modal",43),v("actualizarVoluntarios",function(){D(n);let o=E();return T(o.actualizarListaVoluntarios())})("cerrarModal",function(){D(n);let o=E();return T(o.cerrarModal())}),l()}if(t&2){let n=E();g("idVoluntariado",n.idVoluntariadoSeleccionado)}}function lC(t,e){if(t&1&&(c(0,"tr")(1,"td"),u(2),l(),c(3,"td"),u(4),l()()),t&2){let n=e.$implicit;f(2),A(n.nombre),f(2),A(n.estado)}}var Yr=t=>({"d-block":t}),Bm=(()=>{let e=class e{constructor(i,o,r,a,s){this.route=i,this.router=o,this.voluntariadosService=r,this.authService=a,this.fb=s,this.voluntariado={},this.voluntarios=[],this.evidencias=[],this.asistencias=[],this.isMentor=!1,this.modalAbierto=!1,this.modalDesasignarAbierto=!1,this.modalFeedbackAbierto=!1,this.voluntarioSeleccionado=null,this.modalDetalleVoluntarioAbierto=!1,this.evidenciaSeleccionada=null,this.modalDetalleEvidenciaAbierto=!1,this.modalDetalleAsistenciaAbierto=!1,this.asistenciaSeleccionada=null,this.voluntariosAsistencia=[],this.modalCerrarVoluntariadoAbierto=!1}ngOnInit(){let i=+this.route.snapshot.paramMap.get("id");this.idVoluntariadoSeleccionado=i,this.isMentor=this.authService.gettipo_usuario()==="MENTOR",this.cargarVoluntariado(i),this.cargarVoluntarios(i),this.cargarEvidencias(i),this.cargarAsistencias(i),this.cerrarVoluntariadoForm=this.fb.group({presupuestoEjecutado:["",[S.required,S.pattern("^[0-9]+$")]],logros:["",[S.required,S.maxLength(1e3)]]})}abrirModalCerrarVoluntariado(){this.modalCerrarVoluntariadoAbierto=!0}cerrarModalCerrarVoluntariado(){this.modalCerrarVoluntariadoAbierto=!1,this.cerrarVoluntariadoForm.reset()}cargarVoluntariado(i){this.voluntariadosService.obtenerVoluntariadoPorId(i).subscribe({next:o=>{console.log("Voluntariado cargado:",o),this.voluntariado=o},error:o=>{console.error("Error al cargar el voluntariado:",o),alert("No se pudo cargar el detalle del voluntariado.")}})}cargarVoluntarios(i){this.voluntariadosService.getVoluntariosAsignados(i).subscribe({next:o=>{console.log("Voluntarios asignados:",o),this.voluntarios=o},error:o=>{console.error("Error al cargar los voluntarios:",o)}})}cargarEvidencias(i){this.voluntariadosService.obtenerEvidencias(i).subscribe({next:o=>{console.log("Evidencias cargadas:",o),this.evidencias=o},error:o=>{console.error("Error al cargar evidencias:",o)}})}cargarAsistencias(i){this.voluntariadosService.obtenerAsistencias(i).subscribe({next:o=>{console.log("Asistencias cargadas:",o),this.asistencias=o},error:o=>{console.error("Error al cargar asistencias:",o)}})}retroceder(){this.router.navigate(["/voluntariados"])}aprobarVoluntariado(){this.voluntariadosService.aprobarVoluntariado(this.idVoluntariadoSeleccionado).subscribe({next:()=>{I.fire("\xC9xito","Voluntariado aprobado con \xE9xito.","success"),this.cargarVoluntariado(this.idVoluntariadoSeleccionado)},error:i=>{console.error("Error al aprobar voluntariado:",i),I.fire("Error","No se pudo aprobar el voluntariado. Intente nuevamente.","error")}})}cerrarVoluntariado(){if(this.cerrarVoluntariadoForm.valid){let i=this.cerrarVoluntariadoForm.value;this.voluntariadosService.cerrarVoluntariado(this.idVoluntariadoSeleccionado,i).subscribe({next:()=>{I.fire("\xC9xito","Voluntariado cerrado correctamente.","success"),this.cargarVoluntariado(this.idVoluntariadoSeleccionado),this.cerrarModalCerrarVoluntariado()},error:o=>{console.error("Error al cerrar el voluntariado:",o),I.fire("Error","No se pudo cerrar el voluntariado. Intente nuevamente.","error")}})}else I.fire("Error","Complete correctamente todos los campos.","error")}cargarHistorialVoluntariado(i){this.voluntariadosService.obtenerHistorialVoluntariado(i).subscribe({next:o=>{console.log("Historial del voluntariado:",o),this.voluntariado=De(De({},this.voluntariado),o)},error:o=>{console.error("Error al cargar el historial del voluntariado:",o)}})}abrirModal(i){this.modalAbierto=!0,this.idVoluntariadoSeleccionado=i}cerrarModal(){this.modalAbierto=!1}actualizarListaVoluntarios(){this.cargarVoluntarios(this.idVoluntariadoSeleccionado)}desasignarVoluntario(i){this.idVoluntario=i,I.fire({title:"\xBFEst\xE1s seguro?",text:"Esto eliminar\xE1 al voluntario del voluntariado.",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xED, desasignar",cancelButtonText:"Cancelar",confirmButtonColor:"#f44336"}).then(o=>{o.isConfirmed&&(console.log("Desasignando voluntario con ID:",i),this.voluntariadosService.desasignarVoluntario(this.idVoluntariadoSeleccionado,i).subscribe(()=>{this.voluntarios=this.voluntarios.filter(r=>r.id!==i),I.fire("\xC9xito","Voluntario desasignado con \xE9xito.","success")},r=>{console.error("Error al desasignar voluntario:",r),I.fire("Error","Ocurri\xF3 un problema al desasignar el voluntario.","error")}))})}abrirFeedback(i){if(!i||!this.idVoluntariadoSeleccionado){console.error("Faltan los IDs necesarios para navegar a Feedback.");return}this.router.navigate([`/voluntariados/${this.idVoluntariadoSeleccionado}/voluntarios/${i}/feedback`])}cerrarFeedbackModal(){this.modalFeedbackAbierto=!1}abrirDetalleVoluntario(i){console.log("Voluntario recibido:",i),this.voluntarioSeleccionado=i,this.modalDetalleVoluntarioAbierto=!0}cerrarDetalleVoluntario(){this.modalDetalleVoluntarioAbierto=!1,this.voluntarioSeleccionado=null}registrarEvidencia(){console.log("si esta entrando aqu\xED eh"),this.router.navigate([`/voluntariados/${this.idVoluntariadoSeleccionado}/evidencias/registrar`])}confirmarEliminarEvidencia(i){I.fire({title:"\xBFEst\xE1s seguro?",text:"No podr\xE1s revertir esta acci\xF3n.",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xED, eliminar",cancelButtonText:"Cancelar",confirmButtonColor:"#d33",cancelButtonColor:"#3085d6"}).then(o=>{o.isConfirmed&&this.eliminarEvidencia(i)})}eliminarEvidencia(i){this.voluntariadosService.eliminarEvidencia(i).subscribe({next:()=>{I.fire("Eliminado","La evidencia ha sido eliminada.","success"),this.cargarEvidencias(this.idVoluntariadoSeleccionado)},error:o=>{console.error("Error al eliminar la evidencia:",o),I.fire("Error","No se pudo eliminar la evidencia.","error")}})}abrirDetalleEvidencia(i){this.voluntariadosService.obtenerEvidenciaPorId(i).subscribe({next:o=>{console.log("Evidencia cargada:",o),this.evidenciaSeleccionada=o,this.modalDetalleEvidenciaAbierto=!0},error:o=>{console.error("Error al cargar la evidencia:",o),I.fire("Error","No se pudo cargar la evidencia.","error")}})}cerrarDetalleEvidencia(){this.modalDetalleEvidenciaAbierto=!1,this.evidenciaSeleccionada=null}irARegistrarAsistencia(i){this.router.navigate(["/registrar-asistencia",i])}abrirDetalleAsistencia(i){this.voluntariadosService.obtenerDetalleAsistencia(i).subscribe({next:o=>{this.asistenciaSeleccionada=o.asistencia,this.voluntariosAsistencia=o.voluntarios,this.modalDetalleAsistenciaAbierto=!0},error:o=>{console.error("Error al cargar los detalles de la asistencia:",o),I.fire("Error","No se pudieron cargar los detalles de la asistencia.","error")}})}cerrarDetalleAsistencia(){this.modalDetalleAsistenciaAbierto=!1,this.asistenciaSeleccionada=null,this.voluntariosAsistencia=[]}irAEditarAsistencia(i){this.router.navigate(["/editar-asistencia",i],{queryParams:{idVoluntariado:this.idVoluntariadoSeleccionado}})}};e.\u0275fac=function(o){return new(o||e)(y(ce),y(H),y(Ae),y(oe),y(he))},e.\u0275cmp=z({type:e,selectors:[["app-ver-detalle-voluntariado"]],standalone:!0,features:[R([Ae,oe]),j],decls:196,vars:49,consts:[[1,"container-fluid","detalle-voluntariado"],[1,"row"],[1,"col-md-12"],[1,"header-actions"],[1,"btn","btn-secondary",3,"click"],["class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"voluntariado-info"],[1,"info-block"],["disabled","",3,"value"],["class","historial-voluntariado",4,"ngIf"],["class","btn btn-success btn-sm mb-3",3,"click",4,"ngIf"],[1,"responsive-table"],[4,"ngFor","ngForOf"],["class","btn btn-primary mb-3",3,"click",4,"ngIf"],[1,"modal",3,"ngClass"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"form-group"],["formControlName","presupuestoEjecutado","type","number",1,"form-control"],[4,"ngIf"],["formControlName","logros","rows","3",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-success"],["type","button",1,"btn","btn-secondary",3,"click"],[3,"idVoluntariado","actualizarVoluntarios","cerrarModal",4,"ngIf"],[1,"table","table-striped"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"historial-voluntariado"],["rows","3","disabled","",3,"value"],[1,"btn","btn-success","btn-sm","mb-3",3,"click"],[1,"actions"],[1,"btn","btn-primary","btn-sm",3,"click"],["class","btn btn-warning",3,"click",4,"ngIf"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-primary","mb-3",3,"click"],[1,"btn","btn-info",3,"click"],[3,"idVoluntariado","actualizarVoluntarios","cerrarModal"]],template:function(o,r){if(o&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"header")(4,"h2"),u(5,"Detalle del Voluntariado"),l(),c(6,"div",3)(7,"button",4),v("click",function(){return r.retroceder()}),u(8,"Retroceder"),l(),M(9,Wy,2,0,"button",5)(10,Yy,2,0,"button",6),l()(),c(11,"section",7)(12,"div",8)(13,"label"),u(14,"Nombre:"),l(),k(15,"input",9),l(),c(16,"div",8)(17,"label"),u(18,"Tipo:"),l(),k(19,"input",9),l(),c(20,"div",8)(21,"label"),u(22,"Estado:"),l(),k(23,"input",9),l()(),M(24,Xy,17,8,"div",10),c(25,"h3"),u(26,"Voluntarios"),l(),M(27,Ky,2,0,"button",11),c(28,"table",12)(29,"thead")(30,"tr")(31,"th"),u(32,"ID"),l(),c(33,"th"),u(34,"Nombre"),l(),c(35,"th"),u(36,"DNI"),l(),c(37,"th"),u(38,"Acciones"),l()()(),c(39,"tbody"),M(40,Jy,13,4,"tr",13),l()(),c(41,"h3"),u(42,"Evidencias"),l(),M(43,Qy,2,0,"button",14),c(44,"table",12)(45,"thead")(46,"tr")(47,"th"),u(48,"Fecha"),l(),c(49,"th"),u(50,"Descripci\xF3n"),l(),c(51,"th"),u(52,"Acciones"),l()()(),c(53,"tbody"),M(54,tC,10,6,"tr",13),l()(),c(55,"h3"),u(56,"Asistencias"),l(),M(57,iC,2,0,"button",14),c(58,"table",12)(59,"thead")(60,"tr")(61,"th"),u(62,"Fecha"),l(),c(63,"th"),u(64,"Total Asistentes"),l(),c(65,"th"),u(66,"Acciones"),l()()(),c(67,"tbody"),M(68,oC,10,6,"tr",13),l()()()()(),c(69,"div",15)(70,"div",16)(71,"div",17)(72,"div",18)(73,"h5",19),u(74,"Cerrar Voluntariado"),l(),c(75,"button",20),v("click",function(){return r.cerrarModalCerrarVoluntariado()}),l()(),c(76,"form",21),v("ngSubmit",function(){return r.cerrarVoluntariado()}),c(77,"div",22)(78,"div",23)(79,"label"),u(80,"Presupuesto Ejecutado:"),l(),k(81,"input",24),M(82,rC,2,0,"small",25),l(),c(83,"div",23)(84,"label"),u(85,"Logros:"),l(),k(86,"textarea",26),M(87,aC,2,0,"small",25),l()(),c(88,"div",27)(89,"button",28),u(90,"Cerrar"),l(),c(91,"button",29),v("click",function(){return r.cerrarModalCerrarVoluntariado()}),u(92,"Cancelar"),l()()()()()(),M(93,sC,1,1,"app-asignar-voluntario-modal",30),c(94,"div",15)(95,"div",16)(96,"div",17)(97,"div",18)(98,"h5",19),u(99,"Detalle del Voluntario"),l(),c(100,"button",20),v("click",function(){return r.cerrarDetalleVoluntario()}),l()(),c(101,"div",22)(102,"p")(103,"strong"),u(104,"Nombre:"),l(),u(105),l(),c(106,"p")(107,"strong"),u(108,"Rol:"),l(),u(109),l(),c(110,"p")(111,"strong"),u(112,"Correo:"),l(),u(113),l(),c(114,"p")(115,"strong"),u(116,"Tel\xE9fono:"),l(),u(117),l(),c(118,"p")(119,"strong"),u(120,"\xC1rea:"),l(),u(121),l(),c(122,"p")(123,"strong"),u(124,"Situaci\xF3n Acad\xE9mica:"),l(),u(125),l()(),c(126,"div",27)(127,"button",29),v("click",function(){return r.cerrarDetalleVoluntario()}),u(128,"Cerrar"),l()()()()(),c(129,"div",15)(130,"div",16)(131,"div",17)(132,"div",18)(133,"h5",19),u(134,"Detalle de la Evidencia"),l(),c(135,"button",20),v("click",function(){return r.cerrarDetalleEvidencia()}),l()(),c(136,"div",22)(137,"p")(138,"strong"),u(139,"Fecha:"),l(),u(140),we(141,"date"),l(),c(142,"p")(143,"strong"),u(144,"Descripci\xF3n:"),l(),u(145),l(),c(146,"p")(147,"strong"),u(148,"Incidentes:"),l(),u(149),l(),c(150,"p")(151,"strong"),u(152,"Asistencia de Mentores:"),l(),u(153),l(),c(154,"p")(155,"strong"),u(156,"Asistencia de Voluntarios:"),l(),u(157),l(),c(158,"p")(159,"strong"),u(160,"Porcentaje de Participaci\xF3n:"),l(),u(161),l()(),c(162,"div",27)(163,"button",29),v("click",function(){return r.cerrarDetalleEvidencia()}),u(164,"Cerrar"),l()()()()(),c(165,"div",15)(166,"div",16)(167,"div",17)(168,"div",18)(169,"h5",19),u(170,"Detalle de Asistencia"),l(),c(171,"button",20),v("click",function(){return r.cerrarDetalleAsistencia()}),l()(),c(172,"div",22)(173,"p")(174,"strong"),u(175,"Fecha:"),l(),u(176),we(177,"date"),l(),c(178,"p")(179,"strong"),u(180,"Nombre de la sesi\xF3n:"),l(),u(181),l(),c(182,"h6"),u(183,"Listado de Voluntarios:"),l(),c(184,"table",31)(185,"thead")(186,"tr")(187,"th"),u(188,"Nombre"),l(),c(189,"th"),u(190,"Estado"),l()()(),c(191,"tbody"),M(192,lC,5,2,"tr",13),l()()(),c(193,"div",27)(194,"button",29),v("click",function(){return r.cerrarDetalleAsistencia()}),u(195,"Cerrar"),l()()()()()),o&2){let a,s;f(9),g("ngIf",!r.isMentor&&r.voluntariado.estado_dinamico==="Pendiente"),f(),g("ngIf",!r.isMentor&&r.voluntariado.estado_dinamico!=="Cerrado"),f(5),g("value",r.voluntariado.nombre),f(4),g("value",r.voluntariado.tipo),f(4),g("value",r.voluntariado.estado_dinamico),f(),g("ngIf",r.voluntariado.estado_dinamico==="Cerrado"),f(3),g("ngIf",r.voluntariado.estado_dinamico!=="Cerrado"),f(13),g("ngForOf",r.voluntarios),f(3),g("ngIf",r.isMentor&&r.voluntariado.estado_dinamico!=="Cerrado"),f(11),g("ngForOf",r.evidencias),f(3),g("ngIf",r.isMentor&&r.voluntariado.estado_dinamico!=="Cerrado"),f(11),g("ngForOf",r.asistencias),f(),g("ngClass",Ge(41,Yr,r.modalCerrarVoluntariadoAbierto)),f(7),g("formGroup",r.cerrarVoluntariadoForm),f(6),g("ngIf",((a=r.cerrarVoluntariadoForm.get("presupuestoEjecutado"))==null?null:a.invalid)&&((a=r.cerrarVoluntariadoForm.get("presupuestoEjecutado"))==null?null:a.touched)),f(5),g("ngIf",((s=r.cerrarVoluntariadoForm.get("logros"))==null?null:s.invalid)&&((s=r.cerrarVoluntariadoForm.get("logros"))==null?null:s.touched)),f(6),g("ngIf",r.modalAbierto),f(),g("ngClass",Ge(43,Yr,r.modalDetalleVoluntarioAbierto)),f(11),ie(" ",r.voluntarioSeleccionado==null?null:r.voluntarioSeleccionado.nombre,""),f(4),ie(" ",r.voluntarioSeleccionado==null?null:r.voluntarioSeleccionado.rol,""),f(4),ie(" ",r.voluntarioSeleccionado==null?null:r.voluntarioSeleccionado.correo,""),f(4),ie(" ",r.voluntarioSeleccionado==null?null:r.voluntarioSeleccionado.celular,""),f(4),ie(" ",r.voluntarioSeleccionado==null?null:r.voluntarioSeleccionado.area,""),f(4),ie(" ",r.voluntarioSeleccionado==null?null:r.voluntarioSeleccionado.grado_instruccion,""),f(4),g("ngClass",Ge(45,Yr,r.modalDetalleEvidenciaAbierto)),f(11),ie(" ",Me(141,35,r.evidenciaSeleccionada==null?null:r.evidenciaSeleccionada.fecha_evidencia,"dd/MM/yyyy"),""),f(5),ie(" ",r.evidenciaSeleccionada==null?null:r.evidenciaSeleccionada.descripcion,""),f(4),ie(" ",r.evidenciaSeleccionada==null?null:r.evidenciaSeleccionada.incidentes,""),f(4),ie(" ",r.evidenciaSeleccionada==null?null:r.evidenciaSeleccionada.asistencia_mentores,""),f(4),ie(" ",r.evidenciaSeleccionada==null?null:r.evidenciaSeleccionada.asistencia_voluntarios,""),f(4),ie(" ",r.evidenciaSeleccionada==null?null:r.evidenciaSeleccionada.porcentaje_participacion,"%"),f(4),g("ngClass",Ge(47,Yr,r.modalDetalleAsistenciaAbierto)),f(11),ie(" ",Me(177,38,r.asistenciaSeleccionada==null?null:r.asistenciaSeleccionada.fecha_asistencia,"dd/MM/yyyy"),""),f(5),ie(" ",r.asistenciaSeleccionada==null?null:r.asistenciaSeleccionada.nombre_sesion,""),f(11),g("ngForOf",r.voluntariosAsistencia)}},dependencies:[U,Nt,ne,ee,Do,Rt,Lm,ge,Q,K,He,Z,J,de,fe],styles:[".detalle-voluntariado[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:0 auto;padding:1rem;background-color:#fff;border-radius:8px;box-shadow:0 4px 6px #0000001a}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.voluntariado-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.info-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.5rem;display:block}.responsive-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:1.5rem}.responsive-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .responsive-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:.8rem;text-align:left}.responsive-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f4f4f4}.actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.cerrar-voluntariado-form[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1rem}.cerrar-voluntariado-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.cerrar-voluntariado-form[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:red}@media (min-width: 768px){.cerrar-voluntariado-form[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}.modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1050;left:0;top:0;width:100%;height:100%;overflow:hidden;background-color:#00000080}.modal.d-block[_ngcontent-%COMP%]{display:block}.modal-dialog[_ngcontent-%COMP%]{position:relative;margin:auto;top:20%;max-width:500px;width:100%}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:20px}"]});let t=e;return t})();var jt=(()=>{let e=class e{constructor(i,o){this.http=i,this.authService=o,this.apiUrl="https://kururayback-app-a1f8360c6979.herokuapp.com/benefactores"}getHeaders(){let i=this.authService.gettoken();if(!i)throw new Error("Token no disponible");return new X({Authorization:`Bearer ${i}`})}obtenerBenefactores(){return this.http.get(`${this.apiUrl}`,{headers:this.getHeaders()}).pipe(Ne(i=>(console.error("Error al obtener benefactores:",i),Te("Error al obtener benefactores"))))}obtenerBenefactorPorId(i){return this.http.get(`${this.apiUrl}/${i}`,{headers:this.getHeaders()}).pipe(Ne(o=>(console.error("Error al obtener benefactor:",o),Te("Error al obtener benefactor"))))}registrarBenefactor(i){return this.http.post(`${this.apiUrl}`,i,{headers:this.getHeaders()}).pipe(Ne(o=>(console.error("Error al registrar benefactor:",o),Te("Error al registrar benefactor"))))}actualizarBenefactor(i,o){return this.http.put(`${this.apiUrl}/${i}`,o,{headers:this.getHeaders()}).pipe(Ne(r=>(console.error("Error al actualizar benefactor:",r),Te("Error al actualizar benefactor"))))}eliminarBenefactor(i){return this.http.delete(`${this.apiUrl}/${i}`,{headers:this.getHeaders()}).pipe(Ne(o=>(console.error("Error al eliminar benefactor:",o),Te("Error al eliminar benefactor"))))}};e.\u0275fac=function(o){return new(o||e)(Ie(Le),Ie(oe))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cC(t,e){if(t&1){let n=q();c(0,"tr")(1,"td"),u(2),l(),c(3,"td"),u(4),l(),c(5,"td"),u(6),l(),c(7,"td"),u(8),l(),c(9,"td"),u(10),l(),c(11,"td"),u(12),l(),c(13,"td"),u(14),l(),c(15,"td"),u(16),l(),c(17,"td"),u(18),l(),c(19,"td")(20,"button",9),v("click",function(){let r=D(n).$implicit,a=E();return T(a.editarBenefactor(r))}),u(21," Editar "),l()()()}if(t&2){let n=e.$implicit;f(2),A(n.id),f(2),A(n.nombre),f(2),A(n.tipo),f(2),A(n.nombre_contacto),f(2),A(n.celular_contacto),f(2),A(n.direccion),f(2),A(n.dni||"-"),f(2),A(n.razon_social||"-"),f(2),A(n.ruc||"-")}}var dC=t=>({itemsPerPage:10,currentPage:t}),zm=(()=>{let e=class e{constructor(i,o){this.benefactoresService=i,this.router=o,this.currentPage=1,this.benefactores=[]}ngOnInit(){this.cargarBenefactores()}cargarBenefactores(){this.benefactoresService.obtenerBenefactores().subscribe({next:i=>{this.benefactores=i,this.currentPage=1},error:i=>{console.error("Error al cargar benefactores:",i),I.fire("Error","No se pudieron cargar los benefactores","error")}})}nuevoBenefactor(){console.log("Redirigiendo al formulario de registro"),this.router.navigate(["/benefactores/registro"])}editarBenefactor(i){this.router.navigate([`/benefactores/${i.id}/editar`])}onPageChange(i){console.log("Cambiando a la p\xE1gina:",i),this.currentPage=i}};e.\u0275fac=function(o){return new(o||e)(y(jt),y(H))},e.\u0275cmp=z({type:e,selectors:[["app-lista-benefactores"]],standalone:!0,features:[R([jt]),j],decls:33,vars:6,consts:[[1,"card-container"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"btn","btn-new-benefactor","ms-3",3,"click"],[1,"card"],[1,"table-responsive"],[1,"table","table-striped","table-hover","align-middle"],[1,"thead-highlight"],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center",3,"pageChange"],[1,"btn","btn-primary","btn-sm",3,"click"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"div",1)(2,"button",2),v("click",function(){return r.nuevoBenefactor()}),u(3,"Nuevo Benefactor"),l()(),c(4,"div",3)(5,"div",4)(6,"table",5)(7,"thead",6)(8,"tr")(9,"th"),u(10,"ID"),l(),c(11,"th"),u(12,"Nombre del Benefactor"),l(),c(13,"th"),u(14,"Tipo"),l(),c(15,"th"),u(16,"Nombre del Contacto"),l(),c(17,"th"),u(18,"Celular del Contacto"),l(),c(19,"th"),u(20,"Direcci\xF3n"),l(),c(21,"th"),u(22,"DNI"),l(),c(23,"th"),u(24,"Raz\xF3n Social"),l(),c(25,"th"),u(26,"RUC"),l(),c(27,"th"),u(28,"Acciones"),l()()(),c(29,"tbody"),M(30,cC,22,9,"tr",7),we(31,"paginate"),l()()(),c(32,"pagination-controls",8),v("pageChange",function(s){return r.onPageChange(s)}),l()()()),o&2&&(f(30),g("ngForOf",Me(31,1,r.benefactores,Ge(4,dC,r.currentPage))))},dependencies:[U,ne,sn,Pe,Pt,It,Vt],styles:[".card-container[_ngcontent-%COMP%]{padding:1.5rem;background-color:#fff;border-radius:8px;box-shadow:0 4px 6px #0000001a}.card[_ngcontent-%COMP%]{margin-top:20px;padding:1rem}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto}.table[_ngcontent-%COMP%]{margin-bottom:1rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;padding:.75rem}.thead-highlight[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#343a40;color:#fff}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.btn-new-benefactor[_ngcontent-%COMP%]{background-color:#006400;color:#fff;border:none;padding:.5rem 1rem;border-radius:8px}.btn-new-benefactor[_ngcontent-%COMP%]:hover{background-color:#004d00}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border:none}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.pagination[_ngcontent-%COMP%]{margin-top:1rem;justify-content:center}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:#007bff}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;color:#fff}.btn-new-benefactor[_ngcontent-%COMP%]{background-color:#8b0000;color:#fff;border:none;padding:.5rem 1rem;border-radius:8px;font-weight:700;font-size:.9rem}.btn-new-benefactor[_ngcontent-%COMP%]:hover{background-color:#6a0000;color:#fff}"]});let t=e;return t})();function uC(t,e){if(t&1){let n=q();c(0,"div",4)(1,"label",22),u(2,"Raz\xF3n Social"),l(),c(3,"input",23),v("ngModelChange",function(o){D(n);let r=E();return T(r.benefactor.razon_social=o)}),l()()}if(t&2){let n=E();f(3),g("ngModel",n.benefactor.razon_social)("required",n.esEmpresa)}}function mC(t,e){if(t&1){let n=q();c(0,"div",4)(1,"label",24),u(2,"RUC"),l(),c(3,"input",25),v("ngModelChange",function(o){D(n);let r=E();return T(r.benefactor.ruc=o)}),l()()}if(t&2){let n=E();f(3),g("ngModel",n.benefactor.ruc)("required",n.esEmpresa)}}function pC(t,e){if(t&1){let n=q();c(0,"div",4)(1,"label",26),u(2,"DNI"),l(),c(3,"input",27),v("ngModelChange",function(o){D(n);let r=E();return T(r.benefactor.dni=o)}),l()()}if(t&2){let n=E();f(3),g("ngModel",n.benefactor.dni)("required",n.esPersonaNatural)}}var jm=(()=>{let e=class e{constructor(i,o){this.benefactoresService=i,this.router=o,this.benefactor={nombre:"",tipo:"",nombre_contacto:"",celular_contacto:"",direccion:"",razon_social:"",ruc:"",dni:""},this.esEmpresa=!1,this.esPersonaNatural=!1}onTipoChange(){this.esEmpresa=this.benefactor.tipo==="empresa",this.esPersonaNatural=this.benefactor.tipo==="persona natural",this.esEmpresa?this.benefactor.dni="":this.esPersonaNatural&&(this.benefactor.razon_social="",this.benefactor.ruc="")}guardarBenefactor(){this.benefactoresService.registrarBenefactor(this.benefactor).subscribe({next:()=>{I.fire("\xC9xito","Benefactor registrado correctamente","success"),this.router.navigate(["/benefactores"])},error:i=>{console.error("Error al registrar benefactor:",i),I.fire("Error","No se pudo registrar el benefactor","error")}})}cancelar(){this.router.navigate(["/benefactores"])}formValido(){return this.esEmpresa?!!(this.benefactor.nombre&&this.benefactor.tipo&&this.benefactor.nombre_contacto&&this.benefactor.celular_contacto&&this.benefactor.direccion&&this.benefactor.razon_social&&this.benefactor.ruc):this.esPersonaNatural?!!(this.benefactor.nombre&&this.benefactor.tipo&&this.benefactor.nombre_contacto&&this.benefactor.celular_contacto&&this.benefactor.direccion&&this.benefactor.dni):!1}};e.\u0275fac=function(o){return new(o||e)(y(jt),y(H))},e.\u0275cmp=z({type:e,selectors:[["app-registro-benefactores"]],standalone:!0,features:[R([jt]),j],decls:42,vars:9,consts:[[1,"container","form-container"],[1,"form-title","text-center"],[3,"ngSubmit"],[1,"row"],[1,"form-group","col-md-6"],["for","nombre"],["id","nombre","type","text","placeholder","Ingrese el nombre del benefactor","name","nombre","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","tipo"],["id","tipo","name","tipo","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["value","","disabled","","selected",""],["value","persona natural"],["value","empresa"],["for","nombre-contacto"],["id","nombre-contacto","type","text","placeholder","Ingrese el nombre del contacto","name","nombre_contacto","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","celular"],["id","celular","type","text","placeholder","Ingrese el celular del contacto","maxlength","9","name","celular_contacto","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","direccion"],["id","direccion","type","text","placeholder","Ingrese la direcci\xF3n","name","direccion","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","form-group col-md-6",4,"ngIf"],[1,"form-group","text-center","mt-4"],["type","submit",1,"btn","btn-success","me-2","px-4",3,"disabled"],["type","button",1,"btn","btn-secondary","px-4",3,"click"],["for","razon-social"],["id","razon-social","type","text","placeholder","Ingrese la raz\xF3n social","name","razon_social",1,"form-control",3,"ngModel","required","ngModelChange"],["for","ruc"],["id","ruc","type","text","placeholder","Ingrese el RUC","maxlength","11","name","ruc",1,"form-control",3,"ngModel","required","ngModelChange"],["for","dni"],["id","dni","type","text","placeholder","Ingrese el DNI","maxlength","8","name","dni",1,"form-control",3,"ngModel","required","ngModelChange"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"h2",1),u(2,"Registrar Benefactor"),l(),c(3,"form",2),v("ngSubmit",function(){return r.guardarBenefactor()}),c(4,"div",3)(5,"div",4)(6,"label",5),u(7,"Nombre del Benefactor"),l(),c(8,"input",6),v("ngModelChange",function(s){return r.benefactor.nombre=s}),l()(),c(9,"div",4)(10,"label",7),u(11,"Tipo de Benefactor"),l(),c(12,"select",8),v("ngModelChange",function(s){return r.benefactor.tipo=s})("change",function(){return r.onTipoChange()}),c(13,"option",9),u(14,"Seleccione un tipo"),l(),c(15,"option",10),u(16,"Persona Natural"),l(),c(17,"option",11),u(18,"Empresa"),l()()()(),c(19,"div",3)(20,"div",4)(21,"label",12),u(22,"Nombre del Contacto"),l(),c(23,"input",13),v("ngModelChange",function(s){return r.benefactor.nombre_contacto=s}),l()(),c(24,"div",4)(25,"label",14),u(26,"Celular del Contacto"),l(),c(27,"input",15),v("ngModelChange",function(s){return r.benefactor.celular_contacto=s}),l()()(),c(28,"div",3)(29,"div",4)(30,"label",16),u(31,"Direcci\xF3n"),l(),c(32,"input",17),v("ngModelChange",function(s){return r.benefactor.direccion=s}),l()(),M(33,uC,4,2,"div",18),l(),c(34,"div",3),M(35,mC,4,2,"div",18)(36,pC,4,2,"div",18),l(),c(37,"div",19)(38,"button",20),u(39," Guardar "),l(),c(40,"button",21),v("click",function(){return r.cancelar()}),u(41," Cancelar "),l()()()()),o&2&&(f(8),g("ngModel",r.benefactor.nombre),f(4),g("ngModel",r.benefactor.tipo),f(11),g("ngModel",r.benefactor.nombre_contacto),f(4),g("ngModel",r.benefactor.celular_contacto),f(5),g("ngModel",r.benefactor.direccion),f(),g("ngIf",r.esEmpresa),f(2),g("ngIf",r.esEmpresa),f(),g("ngIf",r.esPersonaNatural),f(2),g("disabled",!r.formValido()))},dependencies:[Pe,Q,ue,me,K,ae,Z,J,rt,at,Ze,ut,U,ee]});let t=e;return t})();var $t=(()=>{let e=class e{constructor(i,o){this.http=i,this.authService=o,this.baseUrl="https://kururayback-app-a1f8360c6979.herokuapp.com/beneficiarios"}getHeaders(){let i=this.authService.gettoken();if(!i)throw new Error("Token no disponible");return new X({Authorization:`Bearer ${i}`})}obtenerBeneficiarios(){return this.http.get(`${this.baseUrl}`,{headers:this.getHeaders()}).pipe(Ne(i=>(console.error("Error al obtener beneficiarios:",i),Te("Error al obtener beneficiarios"))))}obtenerBeneficiarioPorId(i){return this.http.get(`${this.baseUrl}/${i}`,{headers:this.getHeaders()}).pipe(Ne(o=>(console.error("Error al obtener beneficiario:",o),Te("Error al obtener beneficiario"))))}registrarBeneficiario(i){return this.http.post(`${this.baseUrl}`,i,{headers:this.getHeaders()}).pipe(Ne(o=>(console.error("Error al registrar beneficiario:",o),Te("Error al registrar beneficiario"))))}actualizarBeneficiario(i,o){return this.http.put(`${this.baseUrl}/${i}`,o,{headers:this.getHeaders()}).pipe(Ne(r=>(console.error("Error al actualizar beneficiario:",r),Te("Error al actualizar beneficiario"))))}eliminarBeneficiario(i){return this.http.delete(`${this.baseUrl}/${i}`,{headers:this.getHeaders()}).pipe(Ne(o=>(console.error("Error al eliminar beneficiario:",o),Te("Error al eliminar beneficiario"))))}};e.\u0275fac=function(o){return new(o||e)(Ie(Le),Ie(oe))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fC(t,e){if(t&1){let n=q();c(0,"tr")(1,"td"),u(2),l(),c(3,"td"),u(4),l(),c(5,"td"),u(6),l(),c(7,"td"),u(8),l(),c(9,"td"),u(10),l(),c(11,"td"),u(12),l(),c(13,"td"),u(14),l(),c(15,"td"),u(16),l(),c(17,"td"),u(18),l(),c(19,"td"),u(20),l(),c(21,"td")(22,"button",9),v("click",function(){let r=D(n).$implicit,a=E();return T(a.editarBeneficiario(r.id))}),u(23,"Editar"),l()()()}if(t&2){let n=e.$implicit;f(2),A(n.id),f(2),A(n.nombre||"-"),f(2),A(n.dni||"-"),f(2),A(n.tipo),f(2),A(n.representante||"-"),f(2),A(n.direccion||"-"),f(2),A(n.telefono||"-"),f(2),A(n.email||"-"),f(2),A(n.genero||"-"),f(2),A(n.edad||"-")}}var hC=t=>({itemsPerPage:10,currentPage:t}),$m=(()=>{let e=class e{constructor(i,o){this.beneficiariosService=i,this.router=o,this.beneficiarios=[],this.p=1}ngOnInit(){this.cargarBeneficiarios()}cargarBeneficiarios(){this.beneficiariosService.obtenerBeneficiarios().subscribe(i=>{this.beneficiarios=i})}nuevoBeneficiario(){this.router.navigate(["/beneficiarios/nuevo"])}editarBeneficiario(i){this.router.navigate([`/beneficiarios/${i}/editar`])}onPageChange(i){console.log("Cambiando a la p\xE1gina:",i),this.p=i}};e.\u0275fac=function(o){return new(o||e)(y($t),y(H))},e.\u0275cmp=z({type:e,selectors:[["app-lista-beneficiarios"]],standalone:!0,features:[R([$t]),j],decls:35,vars:6,consts:[[1,"card-container"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"btn","btn-new-benefactor","ms-3",3,"click"],[1,"card"],[1,"table-responsive"],[1,"table","table-striped","table-hover","align-middle"],[1,"thead-highlight"],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center",3,"pageChange"],[1,"btn","btn-primary","btn-sm",3,"click"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"div",1)(2,"button",2),v("click",function(){return r.nuevoBeneficiario()}),u(3,"Nuevo Beneficiario"),l()(),c(4,"div",3)(5,"div",4)(6,"table",5)(7,"thead",6)(8,"tr")(9,"th"),u(10,"ID"),l(),c(11,"th"),u(12,"Nombre"),l(),c(13,"th"),u(14,"DNI"),l(),c(15,"th"),u(16,"Tipo"),l(),c(17,"th"),u(18,"Representante"),l(),c(19,"th"),u(20,"Direcci\xF3n"),l(),c(21,"th"),u(22,"Tel\xE9fono"),l(),c(23,"th"),u(24,"Email"),l(),c(25,"th"),u(26,"G\xE9nero"),l(),c(27,"th"),u(28,"Edad"),l(),c(29,"th"),u(30,"Acciones"),l()()(),c(31,"tbody"),M(32,fC,24,10,"tr",7),we(33,"paginate"),l()()(),c(34,"pagination-controls",8),v("pageChange",function(s){return r.onPageChange(s)}),l()()()),o&2&&(f(32),g("ngForOf",Me(33,1,r.beneficiarios,Ge(4,hC,r.p))))},dependencies:[U,ne,Pt,It,Vt],styles:[".card-container[_ngcontent-%COMP%]{padding:1.5rem;background-color:#fff;border-radius:8px;box-shadow:0 4px 6px #0000001a}.card[_ngcontent-%COMP%]{margin-top:20px;padding:1rem}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto}.table[_ngcontent-%COMP%]{margin-bottom:1rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;padding:.75rem}.thead-highlight[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#343a40;color:#fff}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.btn-new-benefactor[_ngcontent-%COMP%]{background-color:#8b0000;color:#fff;border:none;padding:.5rem 1rem;border-radius:8px;font-weight:700;font-size:.9rem}.btn-new-benefactor[_ngcontent-%COMP%]:hover{background-color:#6a0000;color:#fff}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border:none}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.pagination[_ngcontent-%COMP%]{margin-top:1rem;justify-content:center}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:#007bff}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;color:#fff}"]});let t=e;return t})();function gC(t,e){if(t&1){let n=q();c(0,"div")(1,"div",3)(2,"div",4)(3,"label",21),u(4,"DNI"),l(),c(5,"input",22),v("ngModelChange",function(o){D(n);let r=E();return T(r.beneficiario.dni=o)}),l()(),c(6,"div",4)(7,"label",23),u(8,"Nombre"),l(),c(9,"input",24),v("ngModelChange",function(o){D(n);let r=E();return T(r.beneficiario.nombre=o)}),l()()(),c(10,"div",3)(11,"div",4)(12,"label",25),u(13,"G\xE9nero"),l(),c(14,"select",26),v("ngModelChange",function(o){D(n);let r=E();return T(r.beneficiario.genero=o)}),c(15,"option",7),u(16,"Seleccione el g\xE9nero"),l(),c(17,"option",27),u(18,"Masculino"),l(),c(19,"option",28),u(20,"Femenino"),l()()(),c(21,"div",4)(22,"label",29),u(23,"Edad"),l(),c(24,"input",30),v("ngModelChange",function(o){D(n);let r=E();return T(r.beneficiario.edad=o)}),l()()()()}if(t&2){let n=E();f(5),g("ngModel",n.beneficiario.dni),f(4),g("ngModel",n.beneficiario.nombre),f(5),g("ngModel",n.beneficiario.genero),f(10),g("ngModel",n.beneficiario.edad)}}function bC(t,e){if(t&1){let n=q();c(0,"div")(1,"div",3)(2,"div",4)(3,"label",31),u(4,"Nombre de la Comunidad"),l(),c(5,"input",32),v("ngModelChange",function(o){D(n);let r=E();return T(r.beneficiario.nombre=o)}),l()(),c(6,"div",4)(7,"label",33),u(8,"Representante"),l(),c(9,"input",34),v("ngModelChange",function(o){D(n);let r=E();return T(r.beneficiario.representante=o)}),l()()()()}if(t&2){let n=E();f(5),g("ngModel",n.beneficiario.nombre),f(4),g("ngModel",n.beneficiario.representante)}}function _C(t,e){if(t&1){let n=q();c(0,"div")(1,"div",3)(2,"div",4)(3,"label",35),u(4,"Nombre de la Organizaci\xF3n"),l(),c(5,"input",36),v("ngModelChange",function(o){D(n);let r=E();return T(r.beneficiario.nombre=o)}),l()(),c(6,"div",4)(7,"label",37),u(8,"RUC"),l(),c(9,"input",38),v("ngModelChange",function(o){D(n);let r=E();return T(r.beneficiario.ruc=o)}),l()()()()}if(t&2){let n=E();f(5),g("ngModel",n.beneficiario.nombre),f(4),g("ngModel",n.beneficiario.ruc)}}var Hm=(()=>{let e=class e{constructor(i,o){this.beneficiariosService=i,this.router=o,this.beneficiario={tipo:"",nombre:"",direccion:"",telefono:"",email:"",genero:"",edad:null,representante:"",ruc:"",comentarios:""},this.esPersona=!1,this.esComunidad=!1,this.esOrganizacion=!1}onTipoChange(){this.esPersona=this.beneficiario.tipo==="Persona",this.esComunidad=this.beneficiario.tipo==="Comunidad",this.esOrganizacion=this.beneficiario.tipo==="Organizaci\xF3n",this.esPersona?(this.beneficiario.representante="",this.beneficiario.ruc=""):this.esComunidad?(this.beneficiario.genero="",this.beneficiario.edad=null,this.beneficiario.ruc=""):this.esOrganizacion&&(this.beneficiario.genero="",this.beneficiario.edad=null,this.beneficiario.representante="")}guardarBeneficiario(){console.log(this.beneficiario),this.beneficiariosService.registrarBeneficiario(this.beneficiario).subscribe({next:()=>{I.fire("\xC9xito","Beneficiario registrado correctamente","success"),this.router.navigate(["/beneficiarios"])},error:i=>{console.error("Error al registrar beneficiario:",i),I.fire("Error","No se pudo registrar el beneficiario","error")}})}cancelar(){this.router.navigate(["/beneficiarios"])}};e.\u0275fac=function(o){return new(o||e)(y($t),y(H))},e.\u0275cmp=z({type:e,selectors:[["app-registro-beneficiarios"]],standalone:!0,features:[R([$t]),j],decls:39,vars:7,consts:[[1,"container","form-container"],[1,"form-title","text-center"],[3,"ngSubmit"],[1,"row"],[1,"form-group","col-md-6"],["for","tipo"],["id","tipo","name","tipo","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["value","","disabled","","selected",""],["value","Persona"],["value","Comunidad"],["value","Organizaci\xF3n"],[4,"ngIf"],["for","direccion"],["id","direccion","type","text","placeholder","Ingrese la direcci\xF3n","name","direccion",1,"form-control",3,"ngModel","ngModelChange"],["for","telefono"],["id","telefono","type","text","placeholder","Ingrese el tel\xE9fono","name","telefono",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["id","email","type","email","placeholder","Ingrese el email","name","email",1,"form-control",3,"ngModel","ngModelChange"],[1,"button-group","text-center","mt-4"],["type","submit",1,"btn","btn-success","me-3"],["type","button",1,"btn","btn-secondary",3,"click"],["for","dni"],["id","dni","type","text","placeholder","Ingrese el DNI","maxlength","8","name","dni","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","nombre"],["id","nombre","type","text","placeholder","Ingrese el nombre","name","nombre","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","genero"],["id","genero","name","genero","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","Masculino"],["value","Femenino"],["for","edad"],["id","edad","type","number","placeholder","Ingrese la edad","name","edad",1,"form-control",3,"ngModel","ngModelChange"],["for","nombre-comunidad"],["id","nombre-comunidad","type","text","placeholder","Ingrese el nombre de la comunidad","name","nombre","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","representante"],["id","representante","type","text","placeholder","Ingrese el nombre del representante","name","representante","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","nombre-organizacion"],["id","nombre-organizacion","type","text","placeholder","Ingrese el nombre de la organizaci\xF3n","name","nombre","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","ruc"],["id","ruc","type","text","placeholder","Ingrese el RUC","maxlength","11","name","ruc","required","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"h2",1),u(2,"Registrar Beneficiario"),l(),c(3,"form",2),v("ngSubmit",function(){return r.guardarBeneficiario()}),c(4,"div",3)(5,"div",4)(6,"label",5),u(7,"Tipo"),l(),c(8,"select",6),v("ngModelChange",function(s){return r.beneficiario.tipo=s})("change",function(){return r.onTipoChange()}),c(9,"option",7),u(10,"Seleccione el tipo"),l(),c(11,"option",8),u(12,"Persona"),l(),c(13,"option",9),u(14,"Comunidad"),l(),c(15,"option",10),u(16,"Organizaci\xF3n"),l()()()(),M(17,gC,25,4,"div",11)(18,bC,10,2,"div",11)(19,_C,10,2,"div",11),c(20,"div",3)(21,"div",4)(22,"label",12),u(23,"Direcci\xF3n"),l(),c(24,"input",13),v("ngModelChange",function(s){return r.beneficiario.direccion=s}),l()(),c(25,"div",4)(26,"label",14),u(27,"Tel\xE9fono"),l(),c(28,"input",15),v("ngModelChange",function(s){return r.beneficiario.telefono=s}),l()()(),c(29,"div",3)(30,"div",4)(31,"label",16),u(32,"Email"),l(),c(33,"input",17),v("ngModelChange",function(s){return r.beneficiario.email=s}),l()()(),c(34,"div",18)(35,"button",19),u(36,"Guardar"),l(),c(37,"button",20),v("click",function(){return r.cancelar()}),u(38,"Cancelar"),l()()()()),o&2&&(f(8),g("ngModel",r.beneficiario.tipo),f(9),g("ngIf",r.esPersona),f(),g("ngIf",r.esComunidad),f(),g("ngIf",r.esOrganizacion),f(5),g("ngModel",r.beneficiario.direccion),f(4),g("ngModel",r.beneficiario.telefono),f(5),g("ngModel",r.beneficiario.email))},dependencies:[Pe,Q,ue,me,K,He,ae,Z,J,rt,at,Ze,ut,U,ee]});let t=e;return t})();function vC(t,e){if(t&1){let n=q();c(0,"div")(1,"div",3)(2,"label",16),u(3,"DNI"),l(),c(4,"input",17),v("ngModelChange",function(o){D(n);let r=E();return T(r.beneficiario.dni=o)}),l()(),c(5,"div",3)(6,"label",18),u(7,"Nombre"),l(),c(8,"input",19),v("ngModelChange",function(o){D(n);let r=E();return T(r.beneficiario.nombre=o)}),l()(),c(9,"div",3)(10,"label",20),u(11,"G\xE9nero"),l(),c(12,"select",21),v("ngModelChange",function(o){D(n);let r=E();return T(r.beneficiario.genero=o)}),c(13,"option",22),u(14,"Seleccione el g\xE9nero"),l(),c(15,"option",23),u(16,"Masculino"),l(),c(17,"option",24),u(18,"Femenino"),l()()()()}if(t&2){let n=E();f(4),g("ngModel",n.beneficiario.dni),f(4),g("ngModel",n.beneficiario.nombre),f(4),g("ngModel",n.beneficiario.genero)}}function xC(t,e){if(t&1){let n=q();c(0,"div")(1,"div",3)(2,"label",25),u(3,"Representante"),l(),c(4,"input",26),v("ngModelChange",function(o){D(n);let r=E();return T(r.beneficiario.representante=o)}),l()()()}if(t&2){let n=E();f(4),g("ngModel",n.beneficiario.representante)}}function yC(t,e){if(t&1){let n=q();c(0,"div")(1,"div",3)(2,"label",27),u(3,"RUC"),l(),c(4,"input",28),v("ngModelChange",function(o){D(n);let r=E();return T(r.beneficiario.ruc=o)}),l()()()}if(t&2){let n=E();f(4),g("ngModel",n.beneficiario.ruc)}}var Um=(()=>{let e=class e{constructor(i,o,r){this.beneficiariosService=i,this.route=o,this.router=r,this.beneficiario={tipo:"",nombre:"",direccion:"",telefono:"",email:"",genero:"",edad:null,representante:"",ruc:"",dni:"",comentarios:""},this.esPersona=!1,this.esComunidad=!1,this.esOrganizacion=!1}ngOnInit(){let i=this.route.snapshot.paramMap.get("id");i&&this.cargarBeneficiario(i)}cargarBeneficiario(i){this.beneficiariosService.obtenerBeneficiarioPorId(+i).subscribe({next:o=>{this.beneficiario=o,this.onTipoChange()},error:o=>{console.error("Error al cargar beneficiario:",o),I.fire("Error","No se pudo cargar el beneficiario","error"),this.router.navigate(["/beneficiarios"])}})}onTipoChange(){this.esPersona=this.beneficiario.tipo==="Persona",this.esComunidad=this.beneficiario.tipo==="comunidad",this.esOrganizacion=this.beneficiario.tipo==="organizacion"}actualizarBeneficiario(){this.beneficiariosService.actualizarBeneficiario(this.beneficiario.id,this.beneficiario).subscribe({next:()=>{I.fire("\xC9xito","Beneficiario actualizado correctamente","success"),this.router.navigate(["/beneficiarios"])},error:i=>{console.error("Error al actualizar beneficiario:",i),I.fire("Error","No se pudo actualizar el beneficiario","error")}})}cancelar(){this.router.navigate(["/beneficiarios"])}};e.\u0275fac=function(o){return new(o||e)(y($t),y(ce),y(H))},e.\u0275cmp=z({type:e,selectors:[["app-editar-beneficiarios"]],standalone:!0,features:[R([$t]),j],decls:28,vars:7,consts:[[1,"container"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"form-group"],["for","tipo"],["id","tipo","name","tipo","readonly","",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],["for","direccion"],["id","direccion","type","text","name","direccion",1,"form-control",3,"ngModel","ngModelChange"],["for","telefono"],["id","telefono","type","text","name","telefono",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["id","email","type","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],[1,"button-group","text-center","mt-4"],["type","submit",1,"btn","btn-success","me-3"],["type","button",1,"btn","btn-secondary",3,"click"],["for","dni"],["id","dni","type","text","name","dni",1,"form-control",3,"ngModel","ngModelChange"],["for","nombre"],["id","nombre","type","text","name","nombre",1,"form-control",3,"ngModel","ngModelChange"],["for","genero"],["id","genero","name","genero",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled",""],["value","masculino"],["value","femenino"],["for","representante"],["id","representante","type","text","name","representante",1,"form-control",3,"ngModel","ngModelChange"],["for","ruc"],["id","ruc","type","text","name","ruc",1,"form-control",3,"ngModel","ngModelChange"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"h2",1),u(2,"Editar Beneficiario"),l(),c(3,"form",2),v("ngSubmit",function(){return r.actualizarBeneficiario()}),c(4,"div",3)(5,"label",4),u(6,"Tipo"),l(),c(7,"input",5),v("ngModelChange",function(s){return r.beneficiario.tipo=s}),l()(),M(8,vC,19,3,"div",6)(9,xC,5,1,"div",6)(10,yC,5,1,"div",6),c(11,"div",3)(12,"label",7),u(13,"Direcci\xF3n"),l(),c(14,"input",8),v("ngModelChange",function(s){return r.beneficiario.direccion=s}),l()(),c(15,"div",3)(16,"label",9),u(17,"Tel\xE9fono"),l(),c(18,"input",10),v("ngModelChange",function(s){return r.beneficiario.telefono=s}),l()(),c(19,"div",3)(20,"label",11),u(21,"Email"),l(),c(22,"input",12),v("ngModelChange",function(s){return r.beneficiario.email=s}),l()(),c(23,"div",13)(24,"button",14),u(25,"Actualizar"),l(),c(26,"button",15),v("click",function(){return r.cancelar()}),u(27,"Cancelar"),l()()()()),o&2&&(f(7),g("ngModel",r.beneficiario.tipo),f(),g("ngIf",r.esPersona),f(),g("ngIf",r.esComunidad),f(),g("ngIf",r.esOrganizacion),f(4),g("ngModel",r.beneficiario.direccion),f(4),g("ngModel",r.beneficiario.telefono),f(4),g("ngModel",r.beneficiario.email))},dependencies:[Pe,Q,ue,me,K,ae,Z,J,Ze,ut,U,ee]});let t=e;return t})();function CC(t,e){if(t&1){let n=q();c(0,"div",4)(1,"label",22),u(2,"Raz\xF3n Social"),l(),c(3,"input",23),v("ngModelChange",function(o){D(n);let r=E();return T(r.benefactor.razon_social=o)}),l()()}if(t&2){let n=E();f(3),g("ngModel",n.benefactor.razon_social)}}function wC(t,e){if(t&1){let n=q();c(0,"div",4)(1,"label",24),u(2,"RUC"),l(),c(3,"input",25),v("ngModelChange",function(o){D(n);let r=E();return T(r.benefactor.ruc=o)}),l()()}if(t&2){let n=E();f(3),g("ngModel",n.benefactor.ruc)}}function SC(t,e){if(t&1){let n=q();c(0,"div",4)(1,"label",26),u(2,"DNI"),l(),c(3,"input",27),v("ngModelChange",function(o){D(n);let r=E();return T(r.benefactor.dni=o)}),l()()}if(t&2){let n=E();f(3),g("ngModel",n.benefactor.dni)}}var qm=(()=>{let e=class e{constructor(i,o,r){this.route=i,this.router=o,this.benefactoresService=r,this.benefactor={nombre:"",tipo:"",nombre_contacto:"",celular_contacto:"",direccion:"",razon_social:"",ruc:"",dni:""},this.esEmpresa=!1,this.esPersonaNatural=!1}ngOnInit(){let i=this.route.snapshot.paramMap.get("id");i&&this.cargarBenefactor(i)}cargarBenefactor(i){this.benefactoresService.obtenerBenefactorPorId(+i).subscribe({next:o=>{this.benefactor=o,this.onTipoChange()},error:o=>{console.error("Error al cargar benefactor:",o),I.fire("Error","No se pudo cargar el benefactor","error"),this.router.navigate(["/benefactores"])}})}onTipoChange(){this.esEmpresa=this.benefactor.tipo==="empresa",this.esPersonaNatural=this.benefactor.tipo==="persona natural",this.esEmpresa?this.benefactor.dni=null:this.esPersonaNatural&&(this.benefactor.razon_social=null,this.benefactor.ruc=null)}actualizarBenefactor(){let i=this.route.snapshot.paramMap.get("id");i&&this.benefactoresService.actualizarBenefactor(+i,this.benefactor).subscribe({next:()=>{I.fire("\xC9xito","Benefactor actualizado correctamente","success"),this.router.navigate(["/benefactores"])},error:o=>{console.error("Error al actualizar benefactor:",o);let r=o.error?.message||"No se pudo actualizar el benefactor, revise los campos.";I.fire("Error",r,"error")}})}cancelar(){this.router.navigate(["/benefactores"])}formValido(){return this.esEmpresa?!!(this.benefactor.nombre&&this.benefactor.tipo&&this.benefactor.nombre_contacto&&this.benefactor.celular_contacto&&this.benefactor.direccion&&this.benefactor.razon_social&&this.benefactor.ruc):this.esPersonaNatural?!!(this.benefactor.nombre&&this.benefactor.tipo&&this.benefactor.nombre_contacto&&this.benefactor.celular_contacto&&this.benefactor.direccion&&this.benefactor.dni):!1}};e.\u0275fac=function(o){return new(o||e)(y(ce),y(H),y(jt))},e.\u0275cmp=z({type:e,selectors:[["app-editar-benefactor"]],standalone:!0,features:[R([jt]),j],decls:39,vars:9,consts:[[1,"container"],[1,"text-center","mb-4"],[1,"benefactor-form",3,"ngSubmit"],[1,"form-grid"],[1,"form-group"],["for","nombre"],["id","nombre","type","text","placeholder","Ingrese el nombre del benefactor","name","nombre","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","tipo"],["id","tipo","name","tipo","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["value","","disabled",""],["value","persona natural"],["value","empresa"],["for","nombre-contacto"],["id","nombre-contacto","type","text","placeholder","Ingrese el nombre del contacto","name","nombre_contacto","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","celular"],["id","celular","type","text","placeholder","Ingrese el celular del contacto","maxlength","9","name","celular_contacto","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","direccion"],["id","direccion","type","text","placeholder","Ingrese la direcci\xF3n","name","direccion","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","form-group",4,"ngIf"],[1,"button-group","text-center","mt-4"],["type","submit",1,"btn","btn-success","me-3",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],["for","razon-social"],["id","razon-social","type","text","placeholder","Ingrese la raz\xF3n social","name","razon_social",1,"form-control",3,"ngModel","ngModelChange"],["for","ruc"],["id","ruc","type","text","placeholder","Ingrese el RUC","maxlength","11","name","ruc",1,"form-control",3,"ngModel","ngModelChange"],["for","dni"],["id","dni","type","text","placeholder","Ingrese el DNI","maxlength","8","name","dni",1,"form-control",3,"ngModel","ngModelChange"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"h2",1),u(2,"Editar Benefactor"),l(),c(3,"form",2),v("ngSubmit",function(){return r.actualizarBenefactor()}),c(4,"div",3)(5,"div",4)(6,"label",5),u(7,"Nombre del Benefactor"),l(),c(8,"input",6),v("ngModelChange",function(s){return r.benefactor.nombre=s}),l()(),c(9,"div",4)(10,"label",7),u(11,"Tipo de Benefactor"),l(),c(12,"select",8),v("ngModelChange",function(s){return r.benefactor.tipo=s})("change",function(){return r.onTipoChange()}),c(13,"option",9),u(14,"Seleccione un tipo"),l(),c(15,"option",10),u(16,"Persona Natural"),l(),c(17,"option",11),u(18,"Empresa"),l()()(),c(19,"div",4)(20,"label",12),u(21,"Nombre del Contacto"),l(),c(22,"input",13),v("ngModelChange",function(s){return r.benefactor.nombre_contacto=s}),l()(),c(23,"div",4)(24,"label",14),u(25,"Celular del Contacto"),l(),c(26,"input",15),v("ngModelChange",function(s){return r.benefactor.celular_contacto=s}),l()(),c(27,"div",4)(28,"label",16),u(29,"Direcci\xF3n"),l(),c(30,"input",17),v("ngModelChange",function(s){return r.benefactor.direccion=s}),l()(),M(31,CC,4,1,"div",18)(32,wC,4,1,"div",18)(33,SC,4,1,"div",18),l(),c(34,"div",19)(35,"button",20),u(36,"Guardar"),l(),c(37,"button",21),v("click",function(){return r.cancelar()}),u(38,"Cancelar"),l()()()()),o&2&&(f(8),g("ngModel",r.benefactor.nombre),f(4),g("ngModel",r.benefactor.tipo),f(10),g("ngModel",r.benefactor.nombre_contacto),f(4),g("ngModel",r.benefactor.celular_contacto),f(4),g("ngModel",r.benefactor.direccion),f(),g("ngIf",r.esEmpresa),f(),g("ngIf",r.esEmpresa),f(),g("ngIf",r.esPersonaNatural),f(2),g("disabled",!r.formValido()))},dependencies:[U,ee,Pe,Q,ue,me,K,ae,Z,J,rt,at,Ze,ut]});let t=e;return t})();var Gm=(()=>{let e=class e{constructor(i,o,r,a){this.router=i,this.route=o,this.voluntariosService=r,this.authService=a,this.feedback={id_voluntario:0,fecha:"",tipo:"",descripcion:"",adicional:"",mentor:""}}ngOnInit(){if(this.voluntariadoId=+this.route.snapshot.paramMap.get("voluntariadoId"),this.feedbackId=+this.route.snapshot.paramMap.get("feedbackId"),!this.voluntariadoId||!this.feedbackId){I.fire({icon:"error",title:"Faltan par\xE1metros para cargar el feedback."}),this.router.navigate(["/voluntariados"]);return}this.cargarFeedback()}cargarFeedback(){this.voluntariosService.obtenerFeedbackPorId(this.feedbackId).subscribe({next:i=>{i?(i.fecha=i.fecha?new Date(i.fecha).toISOString().split("T")[0]:"",this.feedback=i):(I.fire({icon:"error",title:"Feedback no encontrado."}),this.router.navigate([`/voluntariados/${this.voluntariadoId}/voluntarios`]))},error:i=>{console.error("Error al cargar feedback:",i),I.fire({icon:"error",title:"No se pudo cargar el feedback."})}})}guardarFeedback(){if(!this.feedback.fecha||!this.feedback.tipo||!this.feedback.descripcion){I.fire({icon:"warning",title:"Todos los campos son obligatorios."});return}this.voluntariosService.editarFeedback(this.feedbackId,this.feedback).subscribe({next:()=>{I.fire({icon:"success",title:"Feedback actualizado correctamente",showConfirmButton:!1,timer:1500}).then(()=>{this.router.navigate([`/voluntariados/${this.voluntariadoId}/voluntarios/${this.feedback.id_voluntario}/feedback`])})},error:i=>{console.error("Error al actualizar feedback:",i),I.fire({icon:"error",title:"No fue posible actualizar el feedback."})}})}cancelar(){this.router.navigate([`/voluntariados/${this.voluntariadoId}/voluntarios/${this.feedback.id_voluntario}/feedback`])}};e.\u0275fac=function(o){return new(o||e)(y(H),y(ce),y(ve),y(oe))},e.\u0275cmp=z({type:e,selectors:[["app-editar-feedback"]],standalone:!0,features:[R([oe,ve]),j],decls:35,vars:5,consts:[[1,"container"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"form-group"],["for","fecha"],["id","fecha","type","date","name","fecha","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","tipo"],["id","tipo","name","tipo","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected",""],["value","Reconocimiento"],["value","Oportunidad de Mejora"],["for","descripcion"],["id","descripcion","name","descripcion","maxlength","500","rows","4","placeholder","Describa el feedback","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","adicional"],["id","adicional","name","adicional","maxlength","500","rows","2","placeholder","Informaci\xF3n adicional",1,"form-control",3,"ngModel","ngModelChange"],["for","mentor"],["id","mentor","type","text","name","mentor","readonly","","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-center","mt-4"],["type","submit",1,"btn","btn-primary","me-3"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"h2",1),u(2,"Editar Feedback del Voluntario"),l(),c(3,"form",2),v("ngSubmit",function(){return r.guardarFeedback()}),c(4,"div",3)(5,"label",4),u(6,"Fecha"),l(),c(7,"input",5),v("ngModelChange",function(s){return r.feedback.fecha=s}),l()(),c(8,"div",3)(9,"label",6),u(10,"Tipo de Feedback"),l(),c(11,"select",7),v("ngModelChange",function(s){return r.feedback.tipo=s}),c(12,"option",8),u(13,"Seleccione el tipo"),l(),c(14,"option",9),u(15,"Reconocimiento"),l(),c(16,"option",10),u(17,"Oportunidad de Mejora"),l()()(),c(18,"div",3)(19,"label",11),u(20,"Descripci\xF3n"),l(),c(21,"textarea",12),v("ngModelChange",function(s){return r.feedback.descripcion=s}),l()(),c(22,"div",3)(23,"label",13),u(24,"Adicional (opcional)"),l(),c(25,"textarea",14),v("ngModelChange",function(s){return r.feedback.adicional=s}),l()(),c(26,"div",3)(27,"label",15),u(28,"Mentor"),l(),c(29,"input",16),v("ngModelChange",function(s){return r.feedback.mentor=s}),l()(),c(30,"div",17)(31,"button",18),u(32,"Guardar"),l(),c(33,"button",19),v("click",function(){return r.cancelar()}),u(34,"Cancelar"),l()()()()),o&2&&(f(7),g("ngModel",r.feedback.fecha),f(4),g("ngModel",r.feedback.tipo),f(10),g("ngModel",r.feedback.descripcion),f(4),g("ngModel",r.feedback.adicional),f(4),g("ngModel",r.feedback.mentor))},dependencies:[Pe,Q,ue,me,K,ae,Z,J,rt,at,Ze,ut]});let t=e;return t})();var Wm=(()=>{let e=class e{constructor(i,o,r,a){this.router=i,this.route=o,this.voluntariosService=r,this.authService=a,this.feedback={id_voluntario:0,fecha:"",tipo:"",descripcion:"",adicional:"",mentor:""}}ngOnInit(){this.voluntariadoId=+this.route.snapshot.paramMap.get("voluntariadoId"),this.feedback.id_voluntario=+this.route.snapshot.paramMap.get("voluntarioId"),this.feedback.mentor=this.authService.getNombreUsuario()||"Unknown"}guardarFeedback(){if(!this.feedback.fecha||!this.feedback.tipo||!this.feedback.descripcion){alert("Todos los campos son obligatorios.");return}let i=dt(De({},this.feedback),{id_voluntariado:this.voluntariadoId});this.voluntariosService.registrarFeedback(i).subscribe({next:()=>{I.fire({icon:"success",title:"Feedback registrado correctamente",showConfirmButton:!1,timer:1500}).then(()=>{this.router.navigate([`/voluntariados/${this.voluntariadoId}/voluntarios/${this.feedback.id_voluntario}/feedback`])})},error:o=>{console.error("Error al registrar feedback:",o),I.fire({icon:"error",title:"No fue posible registrar el feedback.",text:"Intenta nuevamente."})}})}cancelar(){this.router.navigate([`/voluntariados/${this.voluntariadoId}/voluntarios/${this.feedback.id_voluntario}/feedback`])}};e.\u0275fac=function(o){return new(o||e)(y(H),y(ce),y(ve),y(oe))},e.\u0275cmp=z({type:e,selectors:[["app-registrar-feedback"]],standalone:!0,features:[R([oe,ve]),j],decls:35,vars:5,consts:[[1,"container"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"form-group"],["for","fecha"],["id","fecha","type","date","name","fecha","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","tipo"],["id","tipo","name","tipo","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected",""],["value","Reconocimiento"],["value","Oportunidad de Mejora"],["for","descripcion"],["id","descripcion","name","descripcion","maxlength","500","rows","4","placeholder","Describa el feedback","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","adicional"],["id","adicional","name","adicional","maxlength","500","rows","2","placeholder","Informaci\xF3n adicional",1,"form-control",3,"ngModel","ngModelChange"],["for","mentor"],["id","mentor","type","text","name","mentor","readonly","","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-center","mt-4"],["type","submit",1,"btn","btn-success","me-3"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"h2",1),u(2,"Registrar Feedback del Voluntario"),l(),c(3,"form",2),v("ngSubmit",function(){return r.guardarFeedback()}),c(4,"div",3)(5,"label",4),u(6,"Fecha"),l(),c(7,"input",5),v("ngModelChange",function(s){return r.feedback.fecha=s}),l()(),c(8,"div",3)(9,"label",6),u(10,"Tipo de Feedback"),l(),c(11,"select",7),v("ngModelChange",function(s){return r.feedback.tipo=s}),c(12,"option",8),u(13,"Seleccione el tipo"),l(),c(14,"option",9),u(15,"Reconocimiento"),l(),c(16,"option",10),u(17,"Oportunidad de Mejora"),l()()(),c(18,"div",3)(19,"label",11),u(20,"Descripci\xF3n"),l(),c(21,"textarea",12),v("ngModelChange",function(s){return r.feedback.descripcion=s}),l()(),c(22,"div",3)(23,"label",13),u(24,"Adicional (opcional)"),l(),c(25,"textarea",14),v("ngModelChange",function(s){return r.feedback.adicional=s}),l()(),c(26,"div",3)(27,"label",15),u(28,"Mentor"),l(),c(29,"input",16),v("ngModelChange",function(s){return r.feedback.mentor=s}),l()(),c(30,"div",17)(31,"button",18),u(32,"Guardar"),l(),c(33,"button",19),v("click",function(){return r.cancelar()}),u(34,"Cancelar"),l()()()()),o&2&&(f(7),g("ngModel",r.feedback.fecha),f(4),g("ngModel",r.feedback.tipo),f(10),g("ngModel",r.feedback.descripcion),f(4),g("ngModel",r.feedback.adicional),f(4),g("ngModel",r.feedback.mentor))},dependencies:[Pe,Q,ue,me,K,ae,Z,J,rt,at,Ze,ut],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:auto;padding:20px;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{font-size:1.5rem;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700}textarea[_ngcontent-%COMP%], input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:5px;border-radius:4px;border:1px solid #ccc;font-size:1rem}button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1rem}button.btn-success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none}button.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}button.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none}button.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}"]});let t=e;return t})();var Ym=(()=>{let e=class e{constructor(i,o,r,a){this.router=i,this.route=o,this.voluntariadosService=r,this.http=a,this.porcentajeParticipacion=0,this.asistenciaVoluntarios=0,this.evidencia={fecha_evidencia:"",descripcion:"",incidentes:"",asistencia_mentores:0}}ngOnInit(){this.idVoluntariado=+this.route.snapshot.paramMap.get("id"),this.idVoluntariado?this.obtenerCalculos():(I.fire("Error","No se encontr\xF3 el voluntariado.","error"),this.router.navigate(["/voluntariados"]))}obtenerCalculos(){this.voluntariadosService.obtenerCalculosEvidencia(this.idVoluntariado).subscribe({next:i=>{this.porcentajeParticipacion=i.porcentajeParticipacion,this.asistenciaVoluntarios=i.asistenciaVoluntarios},error:i=>{console.error("Error al obtener c\xE1lculos:",i),I.fire("Error","No se pudieron cargar los c\xE1lculos.","error")}})}guardar(){if(!this.evidencia.fecha_evidencia.trim()){I.fire("Error","La fecha de la evidencia es obligatoria.","error");return}if(!this.evidencia.descripcion.trim()){I.fire("Error","La descripci\xF3n es obligatoria.","error");return}if(!this.evidencia.incidentes.trim()){I.fire("Error","Debe proporcionar informaci\xF3n sobre incidentes.","error");return}if(this.evidencia.asistencia_mentores<=0){I.fire("Error","Debe ingresar la asistencia de mentores.","error");return}let i=dt(De({},this.evidencia),{porcentaje_participacion:this.porcentajeParticipacion,asistencia_voluntarios:this.asistenciaVoluntarios});console.log(i),this.voluntariadosService.registrarEvidencia(this.idVoluntariado,i).subscribe({next:()=>{I.fire("\xC9xito","Evidencia registrada correctamente.","success"),this.router.navigate([`/voluntariados/${this.idVoluntariado}/detalle`])},error:o=>{console.error("Error al registrar evidencia:",o),I.fire("Error","No se pudo registrar la evidencia.","error")}})}cancelar(){this.router.navigate([`/voluntariados/${this.idVoluntariado}/detalle`])}};e.\u0275fac=function(o){return new(o||e)(y(H),y(ce),y(Ae),y(Le))},e.\u0275cmp=z({type:e,selectors:[["app-registrar-evidencia"]],standalone:!0,features:[R([Ae,Le]),j],decls:33,vars:6,consts:[[1,"container"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"form-group","mb-3"],["for","fechaEvidencia"],["id","fechaEvidencia","type","date","name","fechaEvidencia","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","descripcion"],["id","descripcion","name","descripcion","maxlength","1000","rows","4","placeholder","Ingrese una descripci\xF3n","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","porcentaje"],["id","porcentaje","type","number","name","porcentaje","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["for","incidentes"],["id","incidentes","name","incidentes","maxlength","1000","rows","4","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","asistenciaVoluntarios"],["id","asistenciaVoluntarios","type","number","name","asistenciaVoluntarios","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["for","asistenciaMentores"],["id","asistenciaMentores","type","number","name","asistenciaMentores","required","","placeholder","Ingrese asistencia de mentores",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-center","mt-4"],["type","submit",1,"btn","btn-primary","me-3"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"h2",1),u(2,"Registrar Evidencia"),l(),c(3,"form",2),v("ngSubmit",function(){return r.guardar()}),c(4,"div",3)(5,"label",4),u(6,"Fecha de Evidencia"),l(),c(7,"input",5),v("ngModelChange",function(s){return r.evidencia.fecha_evidencia=s}),l()(),c(8,"div",3)(9,"label",6),u(10,"Descripci\xF3n"),l(),c(11,"textarea",7),v("ngModelChange",function(s){return r.evidencia.descripcion=s}),l()(),c(12,"div",3)(13,"label",8),u(14,"Porcentaje de Participaci\xF3n"),l(),c(15,"input",9),v("ngModelChange",function(s){return r.porcentajeParticipacion=s}),l()(),c(16,"div",3)(17,"label",10),u(18,"Incidentes"),l(),c(19,"textarea",11),v("ngModelChange",function(s){return r.evidencia.incidentes=s}),l()(),c(20,"div",3)(21,"label",12),u(22,"Asistencia de Voluntarios (calculado)"),l(),c(23,"input",13),v("ngModelChange",function(s){return r.asistenciaVoluntarios=s}),l()(),c(24,"div",3)(25,"label",14),u(26,"Asistencia de Mentores"),l(),c(27,"input",15),v("ngModelChange",function(s){return r.evidencia.asistencia_mentores=s}),l()(),c(28,"div",16)(29,"button",17),u(30,"Guardar"),l(),c(31,"button",18),v("click",function(){return r.cancelar()}),u(32,"Cancelar"),l()()()()),o&2&&(f(7),g("ngModel",r.evidencia.fecha_evidencia),f(4),g("ngModel",r.evidencia.descripcion),f(4),g("ngModel",r.porcentajeParticipacion),f(4),g("ngModel",r.evidencia.incidentes),f(4),g("ngModel",r.asistenciaVoluntarios),f(4),g("ngModel",r.evidencia.asistencia_mentores))},dependencies:[U,Pe,Q,K,He,Z,J,rt,at,Ze,ut]});let t=e;return t})();function EC(t,e){if(t&1&&(c(0,"div",9)(1,"p"),u(2),l(),c(3,"label"),k(4,"input",10),u(5," Presente "),l(),c(6,"label"),k(7,"input",11),u(8," Falta "),l(),c(9,"label"),k(10,"input",12),u(11," Tardanza "),l()()),t&2){let n=e.index,i=E();g("formGroupName",n),f(2),A(i.voluntarios[n]==null?null:i.voluntarios[n].nombre)}}var Xm=(()=>{let e=class e{constructor(i,o,r,a){this.fb=i,this.router=o,this.route=r,this.voluntariosService=a,this.voluntarios=[]}ngOnInit(){this.idVoluntariado=+this.route.snapshot.paramMap.get("id"),this.initializeForm(),this.cargarVoluntarios()}initializeForm(){this.asistenciaForm=this.fb.group({fecha:["",[S.required]],nombreSesion:["",[S.required,S.maxLength(255)]],estados:this.fb.array([])})}cargarVoluntarios(){this.voluntariosService.obtenerVoluntariosPorVoluntariado(this.idVoluntariado).subscribe({next:i=>{this.voluntarios=i;let o=this.asistenciaForm.get("estados");this.voluntarios.forEach(r=>{o.push(this.fb.group({voluntario_id:[r.id,S.required],estado:["",S.required]}))})},error:i=>console.error(i)})}get estados(){return this.asistenciaForm.get("estados")}onSubmit(){if(this.asistenciaForm.valid){let i=this.asistenciaForm.value,o={fecha_asistencia:i.fecha,nombre_sesion:i.nombreSesion,estados:i.estados,voluntariado_id:this.idVoluntariado};this.voluntariosService.registrarAsistencia(o).subscribe({next:()=>{alert("Asistencia registrada exitosamente"),this.router.navigate([`/voluntariados/${this.idVoluntariado}/detalle`])},error:r=>console.error("Error al registrar asistencia:",r)})}else alert("Formulario inv\xE1lido. Por favor, revisa los campos.")}cancelar(){this.router.navigate([`/voluntariados/${this.idVoluntariado}/detalle`])}};e.\u0275fac=function(o){return new(o||e)(y(he),y(H),y(ce),y(ve))},e.\u0275cmp=z({type:e,selectors:[["app-registrar-asistencia"]],standalone:!0,features:[R([ve]),j],decls:13,vars:2,consts:[[3,"formGroup","ngSubmit"],["for","fecha"],["id","fecha","type","date","formControlName","fecha","required",""],["for","nombreSesion"],["id","nombreSesion","type","text","formControlName","nombreSesion","maxlength","255","required",""],["formArrayName","estados"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","submit"],["type","button",3,"click"],[3,"formGroupName"],["type","radio","formControlName","estado","value","Presente"],["type","radio","formControlName","estado","value","Falta"],["type","radio","formControlName","estado","value","Tardanza"]],template:function(o,r){o&1&&(c(0,"form",0),v("ngSubmit",function(){return r.onSubmit()}),c(1,"label",1),u(2,"Fecha:"),l(),k(3,"input",2),c(4,"label",3),u(5,"Nombre de la sesi\xF3n:"),l(),k(6,"input",4),c(7,"div",5),M(8,EC,12,2,"div",6),l(),c(9,"button",7),u(10,"Guardar"),l(),c(11,"button",8),v("click",function(){return r.cancelar()}),u(12,"Cancelar"),l()()),o&2&&(g("formGroup",r.asistenciaForm),f(8),g("ngForOf",r.estados.controls))},dependencies:[U,ne,ge,Q,K,Kn,Z,J,rt,at,de,fe,pn,fn]});let t=e;return t})();function MC(t,e){if(t&1&&(c(0,"div",12)(1,"p")(2,"strong"),u(3),l()(),c(4,"div",13)(5,"label"),k(6,"input",14),u(7," Presente "),l()(),c(8,"div",13)(9,"label"),k(10,"input",15),u(11," Falta "),l()(),c(12,"div",13)(13,"label"),k(14,"input",16),u(15," Tardanza "),l()()()),t&2){let n=e.index,i=E();g("formGroupName",n),f(3),A(i.voluntarios[n]==null?null:i.voluntarios[n].nombre)}}var Km=(()=>{let e=class e{constructor(i,o,r,a){this.fb=i,this.route=o,this.router=r,this.voluntariadosService=a,this.voluntarios=[]}ngOnInit(){this.idAsistencia=+this.route.snapshot.paramMap.get("id"),this.idVoluntariado=+this.route.snapshot.queryParamMap.get("idVoluntariado"),this.initializeForm(),this.cargarAsistencia()}initializeForm(){this.asistenciaForm=this.fb.group({fecha:["",S.required],nombreSesion:["",[S.required,S.maxLength(255)]],estados:this.fb.array([])})}get estados(){return this.asistenciaForm.get("estados")}cargarAsistencia(){this.voluntariadosService.obtenerDetalleAsistencia(this.idAsistencia).subscribe({next:i=>{let o=new Date(i.asistencia.fecha_asistencia).toISOString().split("T")[0];this.asistenciaForm.patchValue({fecha:o,nombreSesion:i.asistencia.nombre_sesion});let r=this.asistenciaForm.get("estados");i.voluntarios.forEach(a=>{r.push(this.fb.group({voluntario_id:[a.voluntario_id,S.required],estado:[a.estado,S.required]}))}),this.voluntarios=i.voluntarios},error:i=>{console.error("Error al cargar la asistencia:",i)}})}onSubmit(){this.asistenciaForm.valid&&this.voluntariadosService.actualizarAsistencia(this.idAsistencia,this.asistenciaForm.value).subscribe({next:()=>{I.fire("\xC9xito","Asistencia actualizada correctamente","success"),this.router.navigate(["/voluntariados",this.idVoluntariado,"detalle"])},error:i=>{console.error("Error al actualizar la asistencia:",i),I.fire("Error","No se pudo actualizar la asistencia.","error")}})}cancelar(){this.router.navigate(["/voluntariados",this.idVoluntariado,"detalle"])}};e.\u0275fac=function(o){return new(o||e)(y(he),y(ce),y(H),y(Ae))},e.\u0275cmp=z({type:e,selectors:[["app-editar-asistencia"]],standalone:!0,features:[R([Ae]),j],decls:19,vars:3,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","fecha"],["id","fecha","type","date","formControlName","fecha","required","",1,"form-control"],["for","nombreSesion"],["id","nombreSesion","type","text","formControlName","nombreSesion","maxlength","255","required","",1,"form-control"],["formArrayName","estados",1,"form-group"],["class","estado-item",3,"formGroupName",4,"ngFor","ngForOf"],[1,"form-actions"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"estado-item",3,"formGroupName"],[1,"form-check"],["type","radio","formControlName","estado","value","Presente",1,"form-check-input"],["type","radio","formControlName","estado","value","Falta",1,"form-check-input"],["type","radio","formControlName","estado","value","Tardanza",1,"form-check-input"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"h3"),u(2,"Editar Asistencia"),l(),c(3,"form",1),v("ngSubmit",function(){return r.onSubmit()}),c(4,"div",2)(5,"label",3),u(6,"Fecha:"),l(),k(7,"input",4),l(),c(8,"div",2)(9,"label",5),u(10,"Nombre de la sesi\xF3n:"),l(),k(11,"input",6),l(),c(12,"div",7),M(13,MC,16,2,"div",8),l(),c(14,"div",9)(15,"button",10),u(16," Guardar "),l(),c(17,"button",11),v("click",function(){return r.cancelar()}),u(18," Cancelar "),l()()()()),o&2&&(f(3),g("formGroup",r.asistenciaForm),f(10),g("ngForOf",r.estados.controls),f(2),g("disabled",r.asistenciaForm.invalid))},dependencies:[ge,Q,K,Kn,Z,J,rt,at,de,fe,pn,fn,U,ne]});let t=e;return t})();var Xe=(()=>{let e=class e{constructor(i){this.http=i,this.apiUrl="https://kururayback-app-a1f8360c6979.herokuapp.com/ingresos",this.voluntariadoUrl="https://kururayback-app-a1f8360c6979.herokuapp.com/voluntariados"}listarIngresos(){let i=localStorage.getItem("token"),o=new X({Authorization:`Bearer ${i}`});return this.http.get(this.apiUrl,{headers:o})}registrarIngreso(i){let o=localStorage.getItem("token"),r=new X({Authorization:`Bearer ${o}`});return this.http.post(`${this.apiUrl}`,i,{headers:r})}editarIngreso(i,o){let r=localStorage.getItem("token"),a=new X({Authorization:`Bearer ${r}`});return this.http.put(`${this.apiUrl}/${i}`,o,{headers:a})}obtenerIngreso(i){let o=localStorage.getItem("token"),r=new X({Authorization:`Bearer ${o}`});return this.http.get(`${this.apiUrl}/${i}`,{headers:r})}obtenerBenefactores(){let i=localStorage.getItem("token"),o=new X({Authorization:`Bearer ${i}`});return this.http.get("https://kururayback-app-a1f8360c6979.herokuapp.com/benefactores",{headers:o})}listarVoluntariados(){let i=localStorage.getItem("token"),o=new X({Authorization:`Bearer ${i}`});return this.http.get(this.voluntariadoUrl,{headers:o})}asignarVoluntariado(i){let o=localStorage.getItem("token"),r=new X({Authorization:`Bearer ${o}`});return this.http.post(`${this.apiUrl}/asignar-voluntariado`,i,{headers:r})}obtenerProductosPorIngreso(i){let o=localStorage.getItem("token"),r=new X({Authorization:`Bearer ${o}`});return this.http.get(`${this.apiUrl}/${i}/productos`,{headers:r})}registrarProducto(i,o){let r=localStorage.getItem("token"),a=new X({Authorization:`Bearer ${r}`});return this.http.post(`${this.apiUrl}/${i}/productos`,o,{headers:a})}editarProducto(i,o,r){let a=localStorage.getItem("token"),s=new X({Authorization:`Bearer ${a}`});return this.http.put(`${this.apiUrl}/${i}/productos/${o}`,r,{headers:s})}obtenerProducto(i,o){let r=localStorage.getItem("token"),a=new X({Authorization:`Bearer ${r}`}),s=`${this.apiUrl}/${i}/productos/${o}`;return this.http.get(s,{headers:a})}};e.\u0275fac=function(o){return new(o||e)(Ie(Le))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kC(t,e){if(t&1){let n=q();c(0,"tr")(1,"td"),u(2),l(),c(3,"td"),u(4),l(),c(5,"td"),u(6),we(7,"date"),l(),c(8,"td"),u(9),l(),c(10,"td"),u(11),l(),c(12,"td")(13,"button",21),v("click",function(){let r=D(n).$implicit,a=E();return T(a.editarIngreso(r.id))}),u(14," Editar "),l(),c(15,"button",22),v("click",function(){let r=D(n).$implicit,a=E();return T(a.verProductos(r.id))}),u(16," Ver Productos "),l(),c(17,"button",23),v("click",function(){let r=D(n).$implicit,a=E();return T(a.openAsignacionModal(r.id))}),u(18,"Asignar Voluntariado"),l()()()}if(t&2){let n=e.$implicit;f(2),A(n.tipo_ingreso),f(2),A(n.concepto),f(2),A(Me(7,6,n.fecha_ingreso,"dd/MM/yyyy")),f(3),A(n.voluntariado_asignado||"Sin Asignar"),f(2),A(n.benefactor_nombre),f(4),g("disabled",n.tipo_ingreso!=="DONACIONES")}}function IC(t,e){if(t&1&&(c(0,"option",24),u(1),l()),t&2){let n=e.$implicit;g("value",n.id),f(),A(n.nombre)}}var Zm=(()=>{let e=class e{constructor(i,o){this.ingresosService=i,this.router=o,this.ingresos=[],this.voluntariados=[],this.selectedVoluntariado=null,this.selectedIngresoId=null,this.porcentaje=100}ngOnInit(){this.cargarIngresos(),this.cargarVoluntariados()}cargarIngresos(){this.ingresosService.listarIngresos().subscribe({next:i=>{this.ingresos=i},error:i=>{console.error("Error al cargar los ingresos:",i)}})}cargarVoluntariados(){this.ingresosService.listarVoluntariados().subscribe({next:i=>{this.voluntariados=i},error:i=>{console.error("Error al cargar los voluntariados:",i)}})}registrarIngreso(){this.router.navigate(["/contabilidad-financiera/ingresos/registrar"])}editarIngreso(i){this.router.navigate([`/contabilidad-financiera/ingresos/${i}/editar`],{replaceUrl:!0})}verProductos(i){this.router.navigate([`/contabilidad-financiera/ingresos/${i}/productos`])}openAsignacionModal(i){this.selectedIngresoId=i,document.getElementById("asignarModal").style.display="block"}closeAsignarModal(){this.selectedIngresoId=null,this.selectedVoluntariado=null,this.porcentaje=100,document.getElementById("asignarModal").style.display="none"}asignarVoluntariado(){if(!this.selectedVoluntariado){I.fire("Error","Debes seleccionar un voluntariado.","error");return}let i={ingreso_id:this.selectedIngresoId,voluntariado_id:this.selectedVoluntariado,porcentaje:this.porcentaje};this.ingresosService.asignarVoluntariado(i).subscribe({next:()=>{I.fire("\xC9xito","Voluntariado asignado correctamente","success"),this.closeAsignarModal(),this.cargarIngresos()},error:o=>{let r=o.error.message||"No se pudo asignar el voluntariado";I.fire("Error",r,"error")}})}};e.\u0275fac=function(o){return new(o||e)(y(Xe),y(H))},e.\u0275cmp=z({type:e,selectors:[["app-listar-ingresos"]],standalone:!0,features:[R([Xe]),j],decls:44,vars:4,consts:[[1,"container"],[1,"text-center","mb-4"],[1,"btn","btn-primary","mb-3",3,"click"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["id","asignarModal",1,"modal",2,"display","none"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],["for","voluntariado"],["id","voluntariado",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","porcentaje",1,"mt-3"],["id","porcentaje","type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-warning","me-2",3,"click"],[1,"btn","btn-primary",3,"disabled","click"],[1,"btn","btn-success",3,"click"],[3,"value"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"h1",1),u(2,"Listado de Ingresos"),l(),c(3,"button",2),v("click",function(){return r.registrarIngreso()}),u(4,"Registrar Ingreso"),l(),c(5,"table",3)(6,"thead")(7,"tr")(8,"th"),u(9,"Tipo de Ingreso"),l(),c(10,"th"),u(11,"Descripci\xF3n"),l(),c(12,"th"),u(13,"Fecha"),l(),c(14,"th"),u(15,"Voluntariado Asignado"),l(),c(16,"th"),u(17,"Benefactor"),l(),c(18,"th"),u(19,"Acciones"),l()()(),c(20,"tbody"),M(21,kC,19,9,"tr",4),l()()(),c(22,"div",5)(23,"div",6)(24,"div",7)(25,"div",8)(26,"h5",9),u(27,"Asignar Voluntariado"),l(),c(28,"button",10),v("click",function(){return r.closeAsignarModal()}),l()(),c(29,"div",11)(30,"label",12),u(31,"Voluntariado"),l(),c(32,"select",13),v("ngModelChange",function(s){return r.selectedVoluntariado=s}),c(33,"option",14),u(34,"Seleccione un voluntariado"),l(),M(35,IC,2,2,"option",15),l(),c(36,"label",16),u(37,"Porcentaje (opcional)"),l(),c(38,"input",17),v("ngModelChange",function(s){return r.porcentaje=s}),l()(),c(39,"div",18)(40,"button",19),v("click",function(){return r.asignarVoluntariado()}),u(41,"Guardar"),l(),c(42,"button",20),v("click",function(){return r.closeAsignarModal()}),u(43,"Cancelar"),l()()()()()),o&2&&(f(21),g("ngForOf",r.ingresos),f(11),g("ngModel",r.selectedVoluntariado),f(3),g("ngForOf",r.voluntariados),f(3),g("ngModel",r.porcentaje))},dependencies:[U,ne,Rt,Pe,ue,me,K,He,ae,Z,Ze]});let t=e;return t})();function VC(t,e){t&1&&(c(0,"div",31),u(1," El tipo de ingreso es obligatorio. "),l())}function PC(t,e){t&1&&(c(0,"small"),u(1,"El concepto es obligatorio."),l())}function FC(t,e){t&1&&(c(0,"small"),u(1," El concepto no debe exceder los 255 caracteres. "),l())}function AC(t,e){if(t&1&&(c(0,"div",31),M(1,PC,2,0,"small",32)(2,FC,2,0,"small",32),l()),t&2){let n=E(),i,o;f(),g("ngIf",(i=n.ingresoForm.get("concepto"))==null||i.errors==null?null:i.errors.required),f(),g("ngIf",(o=n.ingresoForm.get("concepto"))==null||o.errors==null?null:o.errors.maxlength)}}function OC(t,e){t&1&&(c(0,"div",31),u(1," La fecha de ingreso es obligatoria. "),l())}function DC(t,e){t&1&&(c(0,"small"),u(1,"El c\xF3digo de certificado es obligatorio."),l())}function TC(t,e){t&1&&(c(0,"small"),u(1," El c\xF3digo de certificado no debe exceder los 50 caracteres. "),l())}function NC(t,e){if(t&1&&(c(0,"div",31),M(1,DC,2,0,"small",32)(2,TC,2,0,"small",32),l()),t&2){let n=E(),i,o;f(),g("ngIf",(i=n.ingresoForm.get("codigo_certificado"))==null||i.errors==null?null:i.errors.required),f(),g("ngIf",(o=n.ingresoForm.get("codigo_certificado"))==null||o.errors==null?null:o.errors.maxlength)}}function RC(t,e){if(t&1&&(c(0,"p",33),u(1),l()),t&2){let n=E();f(),ie(" Seleccionado: ",n.selectedBenefactor.nombre," ")}}function LC(t,e){t&1&&(c(0,"div",31),u(1," El monto es obligatorio y debe ser un n\xFAmero v\xE1lido. "),l())}function BC(t,e){t&1&&(c(0,"div",31),u(1," El tipo de moneda es obligatorio. "),l())}function zC(t,e){t&1&&(c(0,"div",31),u(1," El tipo de ingreso monetario es obligatorio. "),l())}function jC(t,e){if(t&1&&(c(0,"div",34)(1,"label",35),u(2,"Monto"),l(),k(3,"input",36),M(4,LC,2,0,"div",9),c(5,"label",37),u(6,"Tipo de Moneda"),l(),c(7,"select",38)(8,"option",6),u(9,"Seleccione"),l(),c(10,"option",39),u(11,"SOLES"),l(),c(12,"option",40),u(13,"D\xD3LARES"),l()(),M(14,BC,2,0,"div",9),c(15,"label",41),u(16,"Tipo de Ingreso Monetario"),l(),c(17,"select",42)(18,"option",6),u(19,"Seleccione"),l(),c(20,"option",43),u(21,"Auspicio"),l(),c(22,"option",44),u(23,"Fondo"),l(),c(24,"option",45),u(25,"APCI"),l()(),M(26,zC,2,0,"div",9),l()),t&2){let n=E(),i,o,r;f(4),g("ngIf",((i=n.ingresoForm.get("monto"))==null?null:i.invalid)&&((i=n.ingresoForm.get("monto"))==null?null:i.touched)),f(10),g("ngIf",((o=n.ingresoForm.get("tipo_moneda"))==null?null:o.invalid)&&((o=n.ingresoForm.get("tipo_moneda"))==null?null:o.touched)),f(12),g("ngIf",((r=n.ingresoForm.get("tipo_ingreso_monetario"))==null?null:r.invalid)&&((r=n.ingresoForm.get("tipo_ingreso_monetario"))==null?null:r.touched))}}function $C(t,e){t&1&&(c(0,"div",31),u(1," La raz\xF3n social es obligatoria. "),l())}function HC(t,e){t&1&&(c(0,"div",31),u(1," El tipo de donaci\xF3n es obligatorio. "),l())}function UC(t,e){if(t&1&&(c(0,"div",34)(1,"label",54),u(2,"Tipo de Donaci\xF3n"),l(),c(3,"select",55)(4,"option",6),u(5,"Seleccione"),l(),c(6,"option",56),u(7,"Concurso de Plataforma"),l(),c(8,"option",45),u(9,"APCI"),l(),c(10,"option",57),u(11,"Individual"),l()(),M(12,HC,2,0,"div",9),l()),t&2){let n=E(2),i;f(12),g("ngIf",((i=n.ingresoForm.get("tipo_ingreso_donacion"))==null?null:i.invalid)&&((i=n.ingresoForm.get("tipo_ingreso_donacion"))==null?null:i.touched))}}function qC(t,e){t&1&&(c(0,"small"),u(1,"El RUC es obligatorio."),l())}function GC(t,e){t&1&&(c(0,"small"),u(1,"El RUC debe tener 11 d\xEDgitos."),l())}function WC(t,e){if(t&1&&(c(0,"div",31),M(1,qC,2,0,"small",32)(2,GC,2,0,"small",32),l()),t&2){let n=E(2),i,o;f(),g("ngIf",(i=n.ingresoForm.get("ruc"))==null||i.errors==null?null:i.errors.required),f(),g("ngIf",(o=n.ingresoForm.get("ruc"))==null||o.errors==null?null:o.errors.pattern)}}function YC(t,e){t&1&&(c(0,"div",31),u(1," El lugar de recojo es obligatorio. "),l())}function XC(t,e){t&1&&(c(0,"div",31),u(1," La ubicaci\xF3n actual es obligatoria. "),l())}function KC(t,e){if(t&1&&(c(0,"div",34)(1,"label",46),u(2,"Raz\xF3n Social"),l(),k(3,"input",47),M(4,$C,2,0,"div",9)(5,UC,13,1,"div",18),c(6,"label",48),u(7,"RUC"),l(),k(8,"input",49),M(9,WC,3,2,"div",9),c(10,"label",50),u(11,"Lugar de Recojo"),l(),k(12,"input",51),M(13,YC,2,0,"div",9),c(14,"label",52),u(15,"Ubicaci\xF3n Actual"),l(),k(16,"input",53),M(17,XC,2,0,"div",9),l()),t&2){let n=E(),i,o,r,a;f(4),g("ngIf",((i=n.ingresoForm.get("razon_social"))==null?null:i.invalid)&&((i=n.ingresoForm.get("razon_social"))==null?null:i.touched)),f(),g("ngIf",n.tipoIngreso==="DONACIONES"),f(4),g("ngIf",((o=n.ingresoForm.get("ruc"))==null?null:o.invalid)&&((o=n.ingresoForm.get("ruc"))==null?null:o.touched)),f(4),g("ngIf",((r=n.ingresoForm.get("lugar_recojo"))==null?null:r.invalid)&&((r=n.ingresoForm.get("lugar_recojo"))==null?null:r.touched)),f(4),g("ngIf",((a=n.ingresoForm.get("ubicacion_actual"))==null?null:a.invalid)&&((a=n.ingresoForm.get("ubicacion_actual"))==null?null:a.touched))}}function ZC(t,e){if(t&1){let n=q();c(0,"li",58),v("click",function(){let r=D(n).$implicit,a=E();return T(a.seleccionarBenefactor(r))}),u(1),l()}if(t&2){let n=e.$implicit;f(),ie(" ",n.nombre," ")}}var Jm=(()=>{let e=class e{constructor(i,o,r){this.fb=i,this.ingresosService=o,this.router=r,this.tipoIngreso="",this.benefactores=[],this.filteredBenefactores=[],this.selectedBenefactor=null,this.searchQuery="";let a=new Date().toISOString().split("T")[0];this.ingresoForm=this.fb.group({tipo_ingreso:["",[S.required]],concepto:["",[S.required,S.maxLength(255)]],monto:[null],tipo_moneda:[""],tipo_ingreso_monetario:[""],tipo_ingreso_donacion:[""],fecha_ingreso:["",[S.required]],codigo_certificado:["",[S.required,S.maxLength(50)]],fecha_registro:[a,[S.required]],benefactor_id:["",[S.required]],razon_social:[""],ruc:["",[S.pattern("^[0-9]{11}$")]],lugar_recojo:[""],ubicacion_actual:[""]})}onTipoIngresoChange(){this.tipoIngreso=this.ingresoForm.value.tipo_ingreso,this.tipoIngreso==="monetario"?(this.ingresoForm.get("tipo_ingreso_donacion")?.clearValidators(),this.ingresoForm.get("razon_social")?.clearValidators(),this.ingresoForm.get("ruc")?.clearValidators(),this.ingresoForm.get("lugar_recojo")?.clearValidators(),this.ingresoForm.get("ubicacion_actual")?.clearValidators(),this.ingresoForm.get("monto")?.setValidators([S.required]),this.ingresoForm.get("tipo_moneda")?.setValidators([S.required]),this.ingresoForm.get("tipo_ingreso_monetario")?.setValidators([S.required])):this.tipoIngreso==="donaciones"&&(this.ingresoForm.get("monto")?.clearValidators(),this.ingresoForm.get("tipo_moneda")?.clearValidators(),this.ingresoForm.get("tipo_ingreso_monetario")?.clearValidators(),this.ingresoForm.get("tipo_ingreso_donacion")?.setValidators([S.required]),this.ingresoForm.get("razon_social")?.setValidators([S.required]),this.ingresoForm.get("ruc")?.setValidators([S.required,S.pattern("^[0-9]{11}$")]),this.ingresoForm.get("lugar_recojo")?.setValidators([S.required]),this.ingresoForm.get("ubicacion_actual")?.setValidators([S.required])),this.ingresoForm.updateValueAndValidity()}openBenefactorModal(){this.cargarBenefactores();let i=document.getElementById("benefactorModal");i.style.display="block"}closeBenefactorModal(){let i=document.getElementById("benefactorModal");i.style.display="none"}cargarBenefactores(){this.ingresosService.obtenerBenefactores().subscribe({next:i=>{this.benefactores=i,this.filteredBenefactores=i},error:()=>{I.fire("Error","No se pudieron cargar los benefactores.","error")}})}filterBenefactores(){this.filteredBenefactores=this.benefactores.filter(i=>i.nombre.toLowerCase().includes(this.searchQuery.toLowerCase()))}seleccionarBenefactor(i){this.selectedBenefactor=i,this.ingresoForm.patchValue({benefactor_id:i.id}),this.closeBenefactorModal()}onSubmit(){if(console.log("Estado del formulario:",this.ingresoForm.status),console.log("Valores del formulario:",this.ingresoForm.value),this.ingresoForm.invalid){I.fire("Error","Por favor, completa todos los campos obligatorios.","error");return}this.ingresosService.registrarIngreso(this.ingresoForm.value).subscribe({next:()=>{I.fire("\xC9xito","Ingreso registrado exitosamente.","success"),this.router.navigate(["/contabilidad-financiera/ingresos"])},error:i=>{console.error("Error en el registro:",i),I.fire("Error","No fue posible registrar el ingreso.","error")}})}cancelar(){this.router.navigate(["/contabilidad-financiera/ingresos"])}};e.\u0275fac=function(o){return new(o||e)(y(he),y(Xe),y(H))},e.\u0275cmp=z({type:e,selectors:[["app-registrar-ingreso"]],standalone:!0,features:[R([Xe]),j],decls:54,vars:10,consts:[[1,"container"],[1,"text-center","mb-4"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["for","tipo_ingreso"],["id","tipo_ingreso","formControlName","tipo_ingreso",1,"form-control",3,"change"],["value",""],["value","MONETARIO"],["value","DONACIONES"],["class","text-danger",4,"ngIf"],["for","concepto"],["id","concepto","type","text","formControlName","concepto","placeholder","Ingrese el concepto del ingreso",1,"form-control"],["for","fecha_ingreso"],["id","fecha_ingreso","type","date","formControlName","fecha_ingreso",1,"form-control"],["for","codigo_certificado"],["id","codigo_certificado","type","text","formControlName","codigo_certificado",1,"form-control"],["type","button",1,"btn","btn-secondary",3,"click"],["class","mt-2",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group","mt-4","d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary","me-3"],["id","benefactorModal",1,"modal",2,"display","none"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],["type","text","placeholder","Buscar benefactor...",1,"form-control","mb-3",3,"ngModel","ngModelChange","input"],[1,"list-group"],["class","list-group-item",3,"click",4,"ngFor","ngForOf"],[1,"text-danger"],[4,"ngIf"],[1,"mt-2"],[1,"form-group"],["for","monto"],["id","monto","type","number","formControlName","monto",1,"form-control"],["for","tipo_moneda"],["id","tipo_moneda","formControlName","tipo_moneda",1,"form-control"],["value","SOLES"],["value","DOLARES"],["for","tipo_ingreso_monetario"],["id","tipo_ingreso_monetario","formControlName","tipo_ingreso_monetario",1,"form-control"],["value","auspicio"],["value","fondo"],["value","APCI"],["for","razon_social"],["id","razon_social","type","text","formControlName","razon_social",1,"form-control"],["for","ruc"],["id","ruc","type","text","formControlName","ruc",1,"form-control"],["for","lugar_recojo"],["id","lugar_recojo","type","text","formControlName","lugar_recojo",1,"form-control"],["for","ubicacion_actual"],["id","ubicacion_actual","type","text","formControlName","ubicacion_actual",1,"form-control"],["for","tipo_ingreso_donacion"],["id","tipo_ingreso_donacion","formControlName","tipo_ingreso_donacion",1,"form-control"],["value","concurso"],["value","individual"],[1,"list-group-item",3,"click"]],template:function(o,r){if(o&1&&(c(0,"div",0)(1,"h2",1),u(2,"Registrar Ingreso"),l(),c(3,"form",2),v("ngSubmit",function(){return r.onSubmit()}),c(4,"div",3)(5,"label",4),u(6,"Tipo de Ingreso"),l(),c(7,"select",5),v("change",function(){return r.onTipoIngresoChange()}),c(8,"option",6),u(9,"Seleccione"),l(),c(10,"option",7),u(11,"Monetario"),l(),c(12,"option",8),u(13,"Donaciones"),l()(),M(14,VC,2,0,"div",9),l(),c(15,"div",3)(16,"label",10),u(17,"Concepto"),l(),k(18,"input",11),M(19,AC,3,2,"div",9),l(),c(20,"div",3)(21,"label",12),u(22,"Fecha de Ingreso"),l(),k(23,"input",13),M(24,OC,2,0,"div",9),l(),c(25,"div",3)(26,"label",14),u(27,"C\xF3digo de Certificado"),l(),k(28,"input",15),M(29,NC,3,2,"div",9),l(),c(30,"div",3)(31,"label"),u(32,"Benefactor"),l(),c(33,"button",16),v("click",function(){return r.openBenefactorModal()}),u(34," Seleccionar Benefactor "),l(),M(35,RC,2,1,"p",17),l(),M(36,jC,27,3,"div",18)(37,KC,18,5,"div",18),c(38,"div",19)(39,"button",20),u(40,"Guardar"),l(),c(41,"button",16),v("click",function(){return r.cancelar()}),u(42,"Cancelar"),l()()()(),c(43,"div",21)(44,"div",22)(45,"div",23)(46,"div",24)(47,"h5",25),u(48,"Seleccionar Benefactor"),l(),c(49,"button",26),v("click",function(){return r.closeBenefactorModal()}),l()(),c(50,"div",27)(51,"input",28),v("ngModelChange",function(s){return r.searchQuery=s})("input",function(){return r.filterBenefactores()}),l(),c(52,"ul",29),M(53,ZC,2,1,"li",30),l()()()()()),o&2){let a,s,d,m;f(3),g("formGroup",r.ingresoForm),f(11),g("ngIf",((a=r.ingresoForm.get("tipo_ingreso"))==null?null:a.invalid)&&((a=r.ingresoForm.get("tipo_ingreso"))==null?null:a.touched)),f(5),g("ngIf",((s=r.ingresoForm.get("concepto"))==null?null:s.invalid)&&((s=r.ingresoForm.get("concepto"))==null?null:s.touched)),f(5),g("ngIf",((d=r.ingresoForm.get("fecha_ingreso"))==null?null:d.invalid)&&((d=r.ingresoForm.get("fecha_ingreso"))==null?null:d.touched)),f(5),g("ngIf",((m=r.ingresoForm.get("codigo_certificado"))==null?null:m.invalid)&&((m=r.ingresoForm.get("codigo_certificado"))==null?null:m.touched)),f(6),g("ngIf",r.selectedBenefactor),f(),g("ngIf",r.tipoIngreso==="MONETARIO"),f(),g("ngIf",r.tipoIngreso==="DONACIONES"),f(14),g("ngModel",r.searchQuery),f(2),g("ngForOf",r.filteredBenefactores)}},dependencies:[U,ne,ee,ge,Q,ue,me,K,He,ae,Z,J,de,fe,Pe,Ze],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}h2[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{font-size:1rem}button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1rem}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;width:90%;max-width:500px}"]});let t=e;return t})();var Qm=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=z({type:e,selectors:[["app-contabilidad-financiera"]],standalone:!0,features:[j],decls:9,vars:0,consts:[[1,"contabilidad-container"],[1,"navigation-buttons"],["routerLink","/contabilidad-financiera/ingresos",1,"btn","btn-primary"],["routerLink","/contabilidad-financiera/gastos",1,"btn","btn-secondary"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"h1"),u(2,"Contabilidad Financiera"),l(),c(3,"div",1)(4,"button",2),u(5," Ingresos "),l(),c(6,"button",3),u(7," Gastos "),l()(),k(8,"router-outlet"),l())},dependencies:[sn,an,To],styles:[".contabilidad-container[_ngcontent-%COMP%]{padding:20px;text-align:center}.navigation-buttons[_ngcontent-%COMP%]{margin:20px 0}.navigation-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}"]});let t=e;return t})();function JC(t,e){if(t&1&&(c(0,"p",31),u(1," Benefactor seleccionado: "),c(2,"strong"),u(3),l()()),t&2){let n=E();f(3),A(n.selectedBenefactor.nombre)}}function QC(t,e){t&1&&(c(0,"p",32),u(1," Ning\xFAn benefactor seleccionado. "),l())}function e2(t,e){t&1&&(c(0,"div",33)(1,"label",34),u(2,"Monto"),l(),k(3,"input",35),c(4,"label",36),u(5,"Tipo de Moneda"),l(),c(6,"select",37)(7,"option",38),u(8,"SOLES"),l(),c(9,"option",39),u(10,"D\xD3LARES"),l()(),c(11,"label",40),u(12,"Tipo de Ingreso Monetario"),l(),c(13,"select",41)(14,"option",42),u(15,"Auspicio"),l(),c(16,"option",43),u(17,"Fondo"),l(),c(18,"option",44),u(19,"APCI"),l()()())}function t2(t,e){t&1&&(c(0,"small"),u(1,"La raz\xF3n social es obligatoria."),l())}function i2(t,e){if(t&1&&(c(0,"div",58),M(1,t2,2,0,"small",59),l()),t&2){let n=E(2),i;f(),g("ngIf",(i=n.editarIngresoForm.get("razon_social"))==null||i.errors==null?null:i.errors.required)}}function n2(t,e){t&1&&(c(0,"small"),u(1,"El tipo de donaci\xF3n es obligatorio."),l())}function o2(t,e){if(t&1&&(c(0,"div",58),M(1,n2,2,0,"small",59),l()),t&2){let n=E(2),i;f(),g("ngIf",(i=n.editarIngresoForm.get("tipo_ingreso_donacion"))==null||i.errors==null?null:i.errors.required)}}function r2(t,e){if(t&1&&(c(0,"div",33)(1,"label",45),u(2,"Raz\xF3n Social"),l(),k(3,"input",46),M(4,i2,2,1,"div",47),c(5,"label",48),u(6,"Tipo de Donaci\xF3n"),l(),c(7,"select",49)(8,"option",50),u(9,"Concurso de Plataforma"),l(),c(10,"option",44),u(11,"APCI"),l(),c(12,"option",51),u(13,"Individual"),l()(),M(14,o2,2,1,"div",47),c(15,"label",52),u(16,"RUC"),l(),k(17,"input",53),c(18,"label",54),u(19,"Lugar de Recojo"),l(),k(20,"input",55),c(21,"label",56),u(22,"Ubicaci\xF3n Actual"),l(),k(23,"input",57),l()),t&2){let n=E(),i,o;f(4),g("ngIf",((i=n.editarIngresoForm.get("razon_social"))==null?null:i.invalid)&&((i=n.editarIngresoForm.get("razon_social"))==null?null:i.touched)),f(10),g("ngIf",((o=n.editarIngresoForm.get("tipo_ingreso_donacion"))==null?null:o.invalid)&&((o=n.editarIngresoForm.get("tipo_ingreso_donacion"))==null?null:o.touched))}}function a2(t,e){if(t&1){let n=q();c(0,"li",60),v("click",function(){let r=D(n).$implicit,a=E();return T(a.seleccionarBenefactor(r))}),u(1),l()}if(t&2){let n=e.$implicit;f(),ie(" ",n.nombre," ")}}var s2=t=>({show:t}),ep=(()=>{let e=class e{constructor(i,o,r,a){this.fb=i,this.ingresosService=o,this.route=r,this.router=a,this.tipoIngreso="",this.benefactores=[],this.filteredBenefactores=[],this.selectedBenefactor=null,this.searchQuery="",this.isModalOpen=!1,this.ingresoId=+this.route.snapshot.paramMap.get("id"),this.editarIngresoForm=this.fb.group({tipo_ingreso:[{value:"",disabled:!0},S.required],concepto:["",[S.required,S.maxLength(255)]],fecha_ingreso:["",S.required],codigo_certificado:["",[S.required,S.maxLength(50)]],monto:[null],tipo_moneda:[""],tipo_ingreso_monetario:[""],razon_social:[""],ruc:["",[S.pattern("^[0-9]{11}$")]],lugar_recojo:[""],ubicacion_actual:[""],tipo_ingreso_donacion:[""],benefactor_id:["",S.required]})}ngOnInit(){this.cargarIngreso(),this.cargarBenefactores(),this.tipoIngreso=this.editarIngresoForm.get("tipo_ingreso")?.value||""}cargarIngreso(){this.ingresosService.obtenerIngreso(this.ingresoId).subscribe({next:i=>{console.log("Datos recibidos:",i),i.fecha_ingreso&&(i.fecha_ingreso=this.formatDate(i.fecha_ingreso)),this.editarIngresoForm.patchValue({tipo_ingreso:i.tipo_ingreso||"",concepto:i.concepto||"",fecha_ingreso:i.fecha_ingreso||"",codigo_certificado:i.codigo_certificado||"",monto:i.monto||null,tipo_moneda:i.tipo_moneda||"",tipo_ingreso_monetario:i.tipo_ingreso_monetario||"",razon_social:i.razon_social||"",ruc:i.ruc||"",lugar_recojo:i.lugar_recojo||"",ubicacion_actual:i.ubicacion_actual||"",tipo_ingreso_donacion:i.tipo_ingreso_donacion||"",benefactor_id:i.benefactor_id||null}),this.selectedBenefactor={id:i.benefactor_id,nombre:i.benefactor_nombre},this.tipoIngreso=i.tipo_ingreso,this.onTipoIngresoChange()},error:i=>{console.error("Error al cargar el ingreso:",i),I.fire("Error","No se pudo cargar la informaci\xF3n del ingreso.","error")}})}formatDate(i){let o=new Date(i),r=o.getFullYear(),a=String(o.getMonth()+1).padStart(2,"0"),s=String(o.getDate()).padStart(2,"0");return`${r}-${a}-${s}`}onTipoIngresoChange(){this.tipoIngreso=this.editarIngresoForm.get("tipo_ingreso")?.value,this.tipoIngreso==="MONETARIO"?(this.editarIngresoForm.get("razon_social")?.clearValidators(),this.editarIngresoForm.get("ruc")?.clearValidators(),this.editarIngresoForm.get("lugar_recojo")?.clearValidators(),this.editarIngresoForm.get("ubicacion_actual")?.clearValidators(),this.editarIngresoForm.get("tipo_ingreso_donacion")?.clearValidators(),this.editarIngresoForm.get("monto")?.setValidators([S.required]),this.editarIngresoForm.get("tipo_moneda")?.setValidators([S.required]),this.editarIngresoForm.get("tipo_ingreso_monetario")?.setValidators([S.required])):this.tipoIngreso==="DONACIONES"&&(this.editarIngresoForm.get("monto")?.clearValidators(),this.editarIngresoForm.get("tipo_moneda")?.clearValidators(),this.editarIngresoForm.get("tipo_ingreso_monetario")?.clearValidators(),this.editarIngresoForm.get("razon_social")?.setValidators([S.required]),this.editarIngresoForm.get("ruc")?.setValidators([S.required,S.pattern("^[0-9]{11}$")]),this.editarIngresoForm.get("lugar_recojo")?.setValidators([S.required]),this.editarIngresoForm.get("ubicacion_actual")?.setValidators([S.required]),this.editarIngresoForm.get("tipo_ingreso_donacion")?.setValidators([S.required])),this.editarIngresoForm.updateValueAndValidity()}cargarBenefactores(){this.ingresosService.obtenerBenefactores().subscribe({next:i=>{this.benefactores=i,this.filteredBenefactores=i},error:i=>{console.error("Error al cargar benefactores:",i)}})}filterBenefactores(){this.searchQuery.trim()?this.filteredBenefactores=this.benefactores.filter(i=>i.nombre.toLowerCase().includes(this.searchQuery.toLowerCase())):this.filteredBenefactores=this.benefactores}openBenefactorModal(){let i=document.getElementById("benefactorModal");i&&(i.style.display="block")}closeBenefactorModal(){let i=document.getElementById("benefactorModal");i&&(i.style.display="none")}seleccionarBenefactor(i){this.selectedBenefactor=i,this.editarIngresoForm.patchValue({benefactor_id:i.id}),this.closeBenefactorModal()}onSubmit(){if(this.editarIngresoForm.invalid){I.fire("Error","Formulario inv\xE1lido. Revisa los campos.","error");return}let i={tipo_ingreso:this.tipoIngreso,concepto:this.editarIngresoForm.value.concepto,fecha_ingreso:this.editarIngresoForm.value.fecha_ingreso,codigo_certificado:this.editarIngresoForm.value.codigo_certificado,benefactor_id:this.editarIngresoForm.value.benefactor_id};if(this.tipoIngreso==="MONETARIO"?(i.monto=parseFloat(this.editarIngresoForm.value.monto),i.tipo_moneda=this.editarIngresoForm.value.tipo_moneda,i.tipo_ingreso_monetario=this.editarIngresoForm.value.tipo_ingreso_monetario):this.tipoIngreso==="DONACIONES"&&(i.tipo_ingreso_donacion=this.editarIngresoForm.value.tipo_ingreso_donacion,i.razon_social=this.editarIngresoForm.value.razon_social,i.ruc=this.editarIngresoForm.value.ruc,i.lugar_recojo=this.editarIngresoForm.value.lugar_recojo,i.ubicacion_actual=this.editarIngresoForm.value.ubicacion_actual),this.editarIngresoForm.invalid){I.fire("Error","Formulario inv\xE1lido. Revisa los campos.","error");return}this.editarIngresoForm.value,console.log("Payload enviado:",i),this.ingresosService.editarIngreso(this.ingresoId,i).subscribe({next:()=>{I.fire("\xC9xito","Ingreso actualizado exitosamente.","success"),this.router.navigate(["/contabilidad-financiera/ingresos"])},error:o=>{I.fire("Error","No se pudo actualizar el ingreso.","error"),console.error(o)}})}cancelar(){this.router.navigate(["/contabilidad-financiera/ingresos"])}};e.\u0275fac=function(o){return new(o||e)(y(he),y(Xe),y(ce),y(H))},e.\u0275cmp=z({type:e,selectors:[["app-editar-ingreso"]],standalone:!0,features:[R([Xe]),j],decls:49,vars:10,consts:[[1,"container"],[1,"text-center","mb-4"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["for","tipo_ingreso"],["id","tipo_ingreso","formControlName","tipo_ingreso",1,"form-control",3,"change"],["value","MONETARIO"],["value","DONACIONES"],["for","concepto"],["id","concepto","type","text","formControlName","concepto","placeholder","Ingrese el concepto del ingreso",1,"form-control"],["for","fecha_ingreso"],["id","fecha_ingreso","type","date","formControlName","fecha_ingreso",1,"form-control"],["for","codigo_certificado"],["id","codigo_certificado","type","text","formControlName","codigo_certificado",1,"form-control"],["for","benefactor"],["type","button",1,"btn","btn-secondary",3,"click"],["class","mt-2",4,"ngIf"],["class","mt-2 text-muted",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group","mt-4","d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary","me-3"],["id","benefactorModal",1,"modal",2,"display","none",3,"ngClass"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],["type","text","placeholder","Buscar benefactor...",1,"form-control","mb-3",3,"ngModel","ngModelChange","input"],[1,"list-group"],["class","list-group-item",3,"click",4,"ngFor","ngForOf"],[1,"mt-2"],[1,"mt-2","text-muted"],[1,"form-group"],["for","monto"],["id","monto","type","number","formControlName","monto",1,"form-control"],["for","tipo_moneda"],["id","tipo_moneda","formControlName","tipo_moneda",1,"form-control"],["value","SOLES"],["value","DOLARES"],["for","tipo_ingreso_monetario"],["id","tipo_ingreso_monetario","formControlName","tipo_ingreso_monetario",1,"form-control"],["value","auspicio"],["value","fondo"],["value","APCI"],["for","razon_social"],["id","razon_social","type","text","formControlName","razon_social",1,"form-control"],["class","text-danger",4,"ngIf"],["for","tipo_ingreso_donacion"],["id","tipo_ingreso_donacion","formControlName","tipo_ingreso_donacion",1,"form-control"],["value","concurso"],["value","individual"],["for","ruc"],["id","ruc","type","text","formControlName","ruc",1,"form-control"],["for","lugar_recojo"],["id","lugar_recojo","type","text","formControlName","lugar_recojo",1,"form-control"],["for","ubicacion_actual"],["id","ubicacion_actual","type","text","formControlName","ubicacion_actual",1,"form-control"],[1,"text-danger"],[4,"ngIf"],[1,"list-group-item",3,"click"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"h2",1),u(2,"Editar Ingreso"),l(),c(3,"form",2),v("ngSubmit",function(){return r.onSubmit()}),c(4,"div",3)(5,"label",4),u(6,"Tipo de Ingreso"),l(),c(7,"select",5),v("change",function(){return r.onTipoIngresoChange()}),c(8,"option",6),u(9,"Monetario"),l(),c(10,"option",7),u(11,"Donaciones"),l()()(),c(12,"div",3)(13,"label",8),u(14,"Concepto"),l(),k(15,"input",9),l(),c(16,"div",3)(17,"label",10),u(18,"Fecha de Ingreso"),l(),k(19,"input",11),l(),c(20,"div",3)(21,"label",12),u(22,"C\xF3digo de Certificado"),l(),k(23,"input",13),l(),c(24,"div",3)(25,"label",14),u(26,"Benefactor"),l(),c(27,"button",15),v("click",function(){return r.openBenefactorModal()}),u(28," Seleccionar Benefactor "),l(),M(29,JC,4,1,"p",16)(30,QC,2,0,"p",17),l(),M(31,e2,20,0,"div",18)(32,r2,24,2,"div",18),c(33,"div",19)(34,"button",20),u(35,"Guardar"),l(),c(36,"button",15),v("click",function(){return r.cancelar()}),u(37,"Cancelar"),l()()()(),c(38,"div",21)(39,"div",22)(40,"div",23)(41,"div",24)(42,"h5",25),u(43,"Seleccionar Benefactor"),l(),c(44,"button",26),v("click",function(){return r.closeBenefactorModal()}),l()(),c(45,"div",27)(46,"input",28),v("ngModelChange",function(s){return r.searchQuery=s})("input",function(){return r.filterBenefactores()}),l(),c(47,"ul",29),M(48,a2,2,1,"li",30),l()()()()()),o&2&&(f(3),g("formGroup",r.editarIngresoForm),f(26),g("ngIf",r.selectedBenefactor),f(),g("ngIf",!r.selectedBenefactor),f(),g("ngIf",r.tipoIngreso==="MONETARIO"),f(),g("ngIf",r.tipoIngreso==="DONACIONES"),f(6),g("ngClass",Ge(8,s2,r.isModalOpen)),f(8),g("ngModel",r.searchQuery),f(2),g("ngForOf",r.filteredBenefactores))},dependencies:[U,Nt,ne,ee,ge,Q,ue,me,K,He,ae,Z,J,de,fe,Pe,Ze]});let t=e;return t})();function l2(t,e){if(t&1){let n=q();c(0,"tr")(1,"td"),u(2),l(),c(3,"td"),u(4),l(),c(5,"td"),u(6),l(),c(7,"td"),u(8),l(),c(9,"td"),u(10),l(),c(11,"td"),u(12),l(),c(13,"td"),u(14),l(),c(15,"td")(16,"button",7),v("click",function(){let r=D(n).$implicit,a=E();return T(a.editarProducto(r.idproducto))}),u(17," Editar "),l()()()}if(t&2){let n=e.$implicit;f(2),A(n.nombre_producto),f(2),A(n.cantidad),f(2),A(n.tipo_unidad),f(2),A(n.tipo_producto),f(2),A(n.fecha_vencimiento||"N/A"),f(2),A(n.registro_sanitario||"N/A"),f(2),A(n.estado)}}var tp=(()=>{let e=class e{constructor(i,o,r){this.route=i,this.router=o,this.ingresosService=r,this.productos=[],this.ingresoId=0}ngOnInit(){this.ingresoId=+this.route.snapshot.paramMap.get("id"),console.log("Ingreso ID:",this.ingresoId),this.cargarProductos()}cargarProductos(){this.ingresosService.obtenerProductosPorIngreso(this.ingresoId).subscribe({next:i=>{this.productos=i},error:i=>{console.error("Error al cargar productos:",i)}})}regresar(){this.router.navigate(["contabilidad-financiera/ingresos"])}registrarProducto(){this.router.navigate([`/contabilidad-financiera/ingresos/${this.ingresoId}/productos/registrar`])}editarProducto(i){this.router.navigate([`/contabilidad-financiera/ingresos/${this.ingresoId}/productos/${i}/editar`])}};e.\u0275fac=function(o){return new(o||e)(y(ce),y(H),y(Xe))},e.\u0275cmp=z({type:e,selectors:[["app-listar-productos"]],standalone:!0,features:[R([Xe]),j],decls:30,vars:1,consts:[[1,"container","mt-4"],[1,"text-center","mb-4"],[1,"mb-3"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary","ms-2",3,"click"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"btn","btn-warning",3,"click"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"h2",1),u(2,"Listar Productos"),l(),c(3,"div",2)(4,"button",3),v("click",function(){return r.regresar()}),u(5,"Regresar"),l(),c(6,"button",4),v("click",function(){return r.registrarProducto()}),u(7," Registrar Producto "),l()(),c(8,"table",5)(9,"thead")(10,"tr")(11,"th"),u(12,"Nombre del Producto"),l(),c(13,"th"),u(14,"Cantidad"),l(),c(15,"th"),u(16,"Tipo de Unidad"),l(),c(17,"th"),u(18,"Tipo de Producto"),l(),c(19,"th"),u(20,"Fecha de Vencimiento"),l(),c(21,"th"),u(22,"Registro Sanitario"),l(),c(23,"th"),u(24,"Estado"),l(),c(25,"th"),u(26,"Acciones"),l()()(),c(27,"tbody"),M(28,l2,18,7,"tr",6),k(29,"td"),l()()()),o&2&&(f(28),g("ngForOf",r.productos))},dependencies:[U,ne]});let t=e;return t})();function c2(t,e){t&1&&(c(0,"div",4)(1,"label",38),u(2,"Fecha de Vencimiento"),l(),k(3,"input",39),l())}function d2(t,e){t&1&&(c(0,"div",4)(1,"label",40),u(2,"Registro Sanitario"),l(),k(3,"input",41),l())}var ip=(()=>{let e=class e{constructor(i,o,r,a){this.fb=i,this.router=o,this.route=r,this.ingresosService=a,this.ingresoId=0,this.productoForm=this.fb.group({nombre_producto:["",[S.required,S.maxLength(100)]],cantidad:[null,[S.required,S.min(1)]],tipo_unidad:["",S.required],tipo_producto:["",S.required],fecha_vencimiento:[""],registro_sanitario:[""],motivo:["",[S.maxLength(255)]],costo_unidad:[null,[S.required,S.min(0)]],costo_total:[null,[S.required,S.min(0)]],numero_lote:["",[S.maxLength(25)]],estado:["",S.required]})}ngOnInit(){this.ingresoId=+this.route.snapshot.paramMap.get("id"),this.configurarValidacionesCondicionales()}configurarValidacionesCondicionales(){this.productoForm.get("tipo_producto")?.valueChanges.subscribe(i=>{i==="alimentaci\xF3n"?(this.productoForm.get("fecha_vencimiento")?.setValidators([S.required]),this.productoForm.get("registro_sanitario")?.setValidators([S.required])):(this.productoForm.get("fecha_vencimiento")?.clearValidators(),this.productoForm.get("registro_sanitario")?.clearValidators()),this.productoForm.get("fecha_vencimiento")?.updateValueAndValidity(),this.productoForm.get("registro_sanitario")?.updateValueAndValidity()})}guardarProducto(){if(this.productoForm.invalid){console.log("Formulario inv\xE1lido:",this.productoForm.value),I.fire("Error","Formulario inv\xE1lido. Revisa los campos.","error");return}let i=this.productoForm.value;this.ingresosService.registrarProducto(this.ingresoId,i).subscribe({next:()=>{I.fire("\xC9xito","Producto registrado exitosamente.","success"),this.router.navigate([`/contabilidad-financiera/ingresos/${this.ingresoId}/productos`])},error:o=>{console.error("Error al registrar producto:",o),I.fire("Error","No se pudo registrar el producto.","error")}})}cancelar(){this.router.navigate([`/contabilidad-financiera/ingresos/${this.ingresoId}/productos`])}};e.\u0275fac=function(o){return new(o||e)(y(he),y(H),y(ce),y(Xe))},e.\u0275cmp=z({type:e,selectors:[["app-registrar-producto"]],standalone:!0,features:[R([Xe]),j],decls:74,vars:3,consts:[[1,"container"],[1,"form-card"],[1,"text-center","mb-4"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","nombre_producto"],["id","nombre_producto","type","text","formControlName","nombre_producto","placeholder","Ingrese el nombre del producto",1,"form-control"],["for","cantidad"],["id","cantidad","type","number","formControlName","cantidad","placeholder","Ingrese la cantidad",1,"form-control"],["for","tipo_unidad"],["id","tipo_unidad","formControlName","tipo_unidad",1,"form-control"],["value",""],["value","unidad"],["value","paquete"],["value","lote"],["for","tipo_producto"],["id","tipo_producto","formControlName","tipo_producto",1,"form-control"],["value","vestimenta"],["value","alimentaci\xF3n"],["value","otros"],["class","form-group",4,"ngIf"],["for","motivo"],["id","motivo","formControlName","motivo","placeholder","Ingrese el motivo (opcional)",1,"form-control"],["for","costo_unidad"],["id","costo_unidad","type","number","formControlName","costo_unidad","placeholder","Ingrese el costo por unidad",1,"form-control"],["for","costo_total"],["id","costo_total","type","number","formControlName","costo_total","placeholder","Ingrese el costo total",1,"form-control"],["for","numero_lote"],["id","numero_lote","type","text","formControlName","numero_lote","placeholder","Ingrese el n\xFAmero de lote (opcional)",1,"form-control"],["for","estado"],["id","estado","formControlName","estado",1,"form-control"],["value","por_vencerse"],["value","desechado"],["value","vencido_en_almacen"],["value","entregado"],[1,"form-actions"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-secondary",3,"click"],["for","fecha_vencimiento"],["id","fecha_vencimiento","type","date","formControlName","fecha_vencimiento",1,"form-control"],["for","registro_sanitario"],["id","registro_sanitario","type","text","formControlName","registro_sanitario","placeholder","Ingrese el registro sanitario",1,"form-control"]],template:function(o,r){if(o&1&&(c(0,"div",0)(1,"div",1)(2,"h2",2),u(3,"Registrar Producto"),l(),c(4,"form",3),v("ngSubmit",function(){return r.guardarProducto()}),c(5,"div",4)(6,"label",5),u(7,"Nombre del Producto"),l(),k(8,"input",6),l(),c(9,"div",4)(10,"label",7),u(11,"Cantidad"),l(),k(12,"input",8),l(),c(13,"div",4)(14,"label",9),u(15,"Tipo de Unidad"),l(),c(16,"select",10)(17,"option",11),u(18,"Seleccione una opci\xF3n"),l(),c(19,"option",12),u(20,"Unidad"),l(),c(21,"option",13),u(22,"Paquete"),l(),c(23,"option",14),u(24,"Lote"),l()()(),c(25,"div",4)(26,"label",15),u(27,"Tipo de Producto"),l(),c(28,"select",16)(29,"option",11),u(30,"Seleccione una opci\xF3n"),l(),c(31,"option",17),u(32,"Vestimenta"),l(),c(33,"option",18),u(34,"Alimentaci\xF3n"),l(),c(35,"option",19),u(36,"Otros"),l()()(),M(37,c2,4,0,"div",20)(38,d2,4,0,"div",20),c(39,"div",4)(40,"label",21),u(41,"Motivo"),l(),k(42,"textarea",22),l(),c(43,"div",4)(44,"label",23),u(45,"Costo por Unidad"),l(),k(46,"input",24),l(),c(47,"div",4)(48,"label",25),u(49,"Costo Total"),l(),k(50,"input",26),l(),c(51,"div",4)(52,"label",27),u(53,"N\xFAmero de Lote"),l(),k(54,"input",28),l(),c(55,"div",4)(56,"label",29),u(57,"Estado"),l(),c(58,"select",30)(59,"option",11),u(60,"Seleccione una opci\xF3n"),l(),c(61,"option",31),u(62,"Por vencerse"),l(),c(63,"option",32),u(64,"Desechado"),l(),c(65,"option",33),u(66,"Vencido en almac\xE9n"),l(),c(67,"option",34),u(68,"Entregado"),l()()(),c(69,"div",35)(70,"button",36),u(71,"Guardar"),l(),c(72,"button",37),v("click",function(){return r.cancelar()}),u(73,"Cancelar"),l()()()()()),o&2){let a,s;f(4),g("formGroup",r.productoForm),f(33),g("ngIf",((a=r.productoForm.get("tipo_producto"))==null?null:a.value)==="alimentaci\xF3n"),f(),g("ngIf",((s=r.productoForm.get("tipo_producto"))==null?null:s.value)==="alimentaci\xF3n")}},dependencies:[ge,Q,ue,me,K,He,ae,Z,J,de,fe,U,ee],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.form-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:30px;box-shadow:0 4px 6px #0000001a}h2[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:20px;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:700}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:16px;border:1px solid #ccc;border-radius:5px}textarea[_ngcontent-%COMP%]{height:100px}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 5px #007bff80}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px;margin-top:20px}button[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px;border:none;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:focus{outline:none}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}"]});let t=e;return t})();function u2(t,e){t&1&&(c(0,"div",4)(1,"label",38),u(2,"Fecha de Vencimiento"),l(),k(3,"input",39),l())}function m2(t,e){t&1&&(c(0,"div",4)(1,"label",40),u(2,"Registro Sanitario"),l(),k(3,"input",41),l())}var np=(()=>{let e=class e{constructor(i,o,r,a){this.fb=i,this.router=o,this.route=r,this.ingresosService=a,this.productoId=0,this.ingresoId=0,this.productoForm=this.fb.group({nombre_producto:["",[S.required,S.maxLength(100)]],cantidad:[null,[S.required,S.min(1)]],tipo_unidad:["",S.required],tipo_producto:["",S.required],fecha_vencimiento:[""],registro_sanitario:[""],motivo:["",[S.maxLength(255)]],costo_unidad:[null,[S.required,S.min(0)]],costo_total:[null,[S.required,S.min(0)]],numero_lote:["",[S.maxLength(25)]],estado:["",S.required]})}ngOnInit(){if(this.ingresoId=+this.route.snapshot.paramMap.get("id"),this.productoId=+this.route.snapshot.paramMap.get("productoId"),!this.ingresoId||!this.productoId){I.fire("Error","No se pudo cargar los datos del producto.","error"),this.router.navigate(["/contabilidad-financiera/ingresos"]);return}this.obtenerProducto(),this.configurarValidacionesCondicionales()}obtenerProducto(){this.ingresosService.obtenerProducto(this.ingresoId,this.productoId).subscribe({next:i=>{i.fecha_vencimiento&&(i.fecha_vencimiento=this.formatDate(i.fecha_vencimiento)),this.productoForm.patchValue(i)},error:i=>{console.error("Error al obtener el producto:",i),I.fire("Error","No se pudo cargar los datos del producto.","error")}})}configurarValidacionesCondicionales(){this.productoForm.get("tipo_producto")?.valueChanges.subscribe(i=>{i==="alimentaci\xF3n"?(this.productoForm.get("fecha_vencimiento")?.setValidators([S.required]),this.productoForm.get("registro_sanitario")?.setValidators([S.required])):(this.productoForm.get("fecha_vencimiento")?.clearValidators(),this.productoForm.get("registro_sanitario")?.clearValidators()),this.productoForm.get("fecha_vencimiento")?.updateValueAndValidity(),this.productoForm.get("registro_sanitario")?.updateValueAndValidity()})}formatDate(i){let o=new Date(i),r=o.getFullYear(),a=String(o.getMonth()+1).padStart(2,"0"),s=String(o.getDate()).padStart(2,"0");return`${r}-${a}-${s}`}guardarProducto(){if(this.productoForm.invalid){I.fire("Error","Formulario inv\xE1lido. Revisa los campos.","error");return}let i=this.productoForm.value;this.ingresosService.editarProducto(this.ingresoId,this.productoId,i).subscribe({next:()=>{I.fire("\xC9xito","Producto actualizado exitosamente.","success"),this.router.navigate([`/contabilidad-financiera/ingresos/${this.ingresoId}/productos`])},error:o=>{console.error("Error al actualizar producto:",o),I.fire("Error","No se pudo actualizar el producto.","error")}})}cancelar(){this.router.navigate([`/contabilidad-financiera/ingresos/${this.ingresoId}/productos`])}};e.\u0275fac=function(o){return new(o||e)(y(he),y(H),y(ce),y(Xe))},e.\u0275cmp=z({type:e,selectors:[["app-editar-producto"]],standalone:!0,features:[R([Xe]),j],decls:74,vars:3,consts:[[1,"container"],[1,"form-card"],[1,"text-center","mb-4"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","nombre_producto"],["id","nombre_producto","type","text","formControlName","nombre_producto","placeholder","Ingrese el nombre del producto",1,"form-control"],["for","cantidad"],["id","cantidad","type","number","formControlName","cantidad","placeholder","Ingrese la cantidad",1,"form-control"],["for","tipo_unidad"],["id","tipo_unidad","formControlName","tipo_unidad",1,"form-control"],["value",""],["value","unidad"],["value","paquete"],["value","lote"],["for","tipo_producto"],["id","tipo_producto","formControlName","tipo_producto",1,"form-control"],["value","vestimenta"],["value","alimentaci\xF3n"],["value","otros"],["class","form-group",4,"ngIf"],["for","motivo"],["id","motivo","formControlName","motivo","placeholder","Ingrese el motivo (opcional)",1,"form-control"],["for","costo_unidad"],["id","costo_unidad","type","number","formControlName","costo_unidad","placeholder","Ingrese el costo por unidad",1,"form-control"],["for","costo_total"],["id","costo_total","type","number","formControlName","costo_total","placeholder","Ingrese el costo total",1,"form-control"],["for","numero_lote"],["id","numero_lote","type","text","formControlName","numero_lote","placeholder","Ingrese el n\xFAmero de lote (opcional)",1,"form-control"],["for","estado"],["id","estado","formControlName","estado",1,"form-control"],["value","por_vencerse"],["value","desechado"],["value","vencido_en_almacen"],["value","entregado"],[1,"form-actions"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-secondary",3,"click"],["for","fecha_vencimiento"],["id","fecha_vencimiento","type","date","formControlName","fecha_vencimiento",1,"form-control"],["for","registro_sanitario"],["id","registro_sanitario","type","text","formControlName","registro_sanitario","placeholder","Ingrese el registro sanitario",1,"form-control"]],template:function(o,r){if(o&1&&(c(0,"div",0)(1,"div",1)(2,"h2",2),u(3,"Editar Producto"),l(),c(4,"form",3),v("ngSubmit",function(){return r.guardarProducto()}),c(5,"div",4)(6,"label",5),u(7,"Nombre del Producto"),l(),k(8,"input",6),l(),c(9,"div",4)(10,"label",7),u(11,"Cantidad"),l(),k(12,"input",8),l(),c(13,"div",4)(14,"label",9),u(15,"Tipo de Unidad"),l(),c(16,"select",10)(17,"option",11),u(18,"Seleccione una opci\xF3n"),l(),c(19,"option",12),u(20,"Unidad"),l(),c(21,"option",13),u(22,"Paquete"),l(),c(23,"option",14),u(24,"Lote"),l()()(),c(25,"div",4)(26,"label",15),u(27,"Tipo de Producto"),l(),c(28,"select",16)(29,"option",11),u(30,"Seleccione una opci\xF3n"),l(),c(31,"option",17),u(32,"Vestimenta"),l(),c(33,"option",18),u(34,"Alimentaci\xF3n"),l(),c(35,"option",19),u(36,"Otros"),l()()(),M(37,u2,4,0,"div",20)(38,m2,4,0,"div",20),c(39,"div",4)(40,"label",21),u(41,"Motivo"),l(),k(42,"textarea",22),l(),c(43,"div",4)(44,"label",23),u(45,"Costo por Unidad"),l(),k(46,"input",24),l(),c(47,"div",4)(48,"label",25),u(49,"Costo Total"),l(),k(50,"input",26),l(),c(51,"div",4)(52,"label",27),u(53,"N\xFAmero de Lote"),l(),k(54,"input",28),l(),c(55,"div",4)(56,"label",29),u(57,"Estado"),l(),c(58,"select",30)(59,"option",11),u(60,"Seleccione una opci\xF3n"),l(),c(61,"option",31),u(62,"Por vencerse"),l(),c(63,"option",32),u(64,"Desechado"),l(),c(65,"option",33),u(66,"Vencido en almac\xE9n"),l(),c(67,"option",34),u(68,"Entregado"),l()()(),c(69,"div",35)(70,"button",36),u(71,"Guardar"),l(),c(72,"button",37),v("click",function(){return r.cancelar()}),u(73,"Cancelar"),l()()()()()),o&2){let a,s;f(4),g("formGroup",r.productoForm),f(33),g("ngIf",((a=r.productoForm.get("tipo_producto"))==null?null:a.value)==="alimentaci\xF3n"),f(),g("ngIf",((s=r.productoForm.get("tipo_producto"))==null?null:s.value)==="alimentaci\xF3n")}},dependencies:[ge,Q,ue,me,K,He,ae,Z,J,de,fe,U,ee],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}h2[_ngcontent-%COMP%]{font-size:1.8rem;color:#333}button[_ngcontent-%COMP%]{width:120px}"]});let t=e;return t})();var Ht=(()=>{let e=class e{constructor(i){this.http=i,this.apiUrl="https://kururayback-app-a1f8360c6979.herokuapp.com",this.voluntariadoUrl="https://kururayback-app-a1f8360c6979.herokuapp.com/voluntariados"}listarGastos(){let i=localStorage.getItem("token"),o=new X({Authorization:`Bearer ${i}`});return this.http.get(`${this.apiUrl}/gastos`,{headers:o})}registrarGasto(i){let o=localStorage.getItem("token"),r=new X({Authorization:`Bearer ${o}`});return this.http.post(`${this.apiUrl}/gastos`,i,{headers:r})}listarVoluntariados(){let i=localStorage.getItem("token"),o=new X({Authorization:`Bearer ${i}`});return this.http.get(this.voluntariadoUrl,{headers:o})}editarGasto(i,o){let r=localStorage.getItem("token"),a=new X({Authorization:`Bearer ${r}`});return this.http.put(`${this.apiUrl}/gastos/${i}`,o,{headers:a})}obtenerGasto(i){let o=localStorage.getItem("token"),r=new X({Authorization:`Bearer ${o}`});return this.http.get(`${this.apiUrl}/gastos/${i}`,{headers:r})}obtenerGastoPorId(i){let o=localStorage.getItem("token"),r=new X({Authorization:`Bearer ${o}`});return this.http.get(`${this.apiUrl}/gastos/${i}`,{headers:r})}actualizarGasto(i,o){let r=localStorage.getItem("token"),a=new X({Authorization:`Bearer ${r}`});return this.http.put(`${this.apiUrl}/gastos/${i}`,o,{headers:a})}};e.\u0275fac=function(o){return new(o||e)(Ie(Le))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function p2(t,e){if(t&1){let n=q();c(0,"tr")(1,"td"),u(2),l(),c(3,"td"),u(4),we(5,"currency"),l(),c(6,"td"),u(7),l(),c(8,"td"),u(9),we(10,"date"),l(),c(11,"td"),u(12),l(),c(13,"td")(14,"button",4),v("click",function(){let r=D(n).$implicit,a=E();return T(a.editarGasto(r.id))}),u(15,"Editar"),l()()()}if(t&2){let n=e.$implicit;f(2),A(n.descripcion),f(2),A(dl(5,5,n.importe,"PEN","symbol-narrow")),f(3),A(n.voluntariado_nombre),f(2),A(Me(10,9,n.fecha_gasto,"dd/MM/yyyy")),f(3),A(n.tipo_gasto)}}var op=(()=>{let e=class e{constructor(i,o){this.gastosService=i,this.router=o,this.gastos=[]}ngOnInit(){this.obtenerGastos()}obtenerGastos(){this.gastosService.listarGastos().subscribe({next:i=>{this.gastos=i},error:i=>{console.error("Error al obtener los gastos:",i),I.fire("Error","No se pudo cargar la lista de gastos.","error")}})}registrarGasto(){this.router.navigate(["/contabilidad-financiera/gastos/registrar"])}editarGasto(i){this.router.navigate([`/contabilidad-financiera/gastos/${i}/editar`])}};e.\u0275fac=function(o){return new(o||e)(y(Ht),y(H))},e.\u0275cmp=z({type:e,selectors:[["app-listar-gastos"]],standalone:!0,features:[R([Ht]),j],decls:22,vars:1,consts:[[1,"container"],[1,"btn","btn-primary",3,"click"],[1,"table","mt-3"],[4,"ngFor","ngForOf"],[1,"btn","btn-warning",3,"click"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"h2"),u(2,"Listado de Gastos"),l(),c(3,"button",1),v("click",function(){return r.registrarGasto()}),u(4,"Registrar Gasto"),l(),c(5,"table",2)(6,"thead")(7,"tr")(8,"th"),u(9,"Descripci\xF3n"),l(),c(10,"th"),u(11,"Importe"),l(),c(12,"th"),u(13,"Voluntariado"),l(),c(14,"th"),u(15,"Fecha del Gasto"),l(),c(16,"th"),u(17,"Tipo de Gasto"),l(),c(18,"th"),u(19,"Acciones"),l()()(),c(20,"tbody"),M(21,p2,16,12,"tr",3),l()()()),o&2&&(f(21),g("ngForOf",r.gastos))},dependencies:[U,ne,Do,Rt],styles:[".container[_ngcontent-%COMP%]{margin:20px auto;max-width:900px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.text-center[_ngcontent-%COMP%]{text-align:center}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;text-align:left}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#f9f9f9}.btn[_ngcontent-%COMP%]{padding:5px 10px;font-size:14px}"]});let t=e;return t})();function f2(t,e){if(t&1&&(c(0,"option",39),u(1),l()),t&2){let n=e.$implicit;g("value",n.id),f(),ie(" ",n.nombre," ")}}var rp=(()=>{let e=class e{constructor(i,o,r){this.fb=i,this.router=o,this.gastosService=r,this.voluntariados=[],this.selectedVoluntariado=null,this.gastoForm=this.fb.group({descripcion:["",[S.required,S.maxLength(255)]],importe:[null,[S.required,S.min(.01)]],voluntariado_asignado:["",S.required],fecha_gasto:[null,S.required],nro_comprobante:["",[S.maxLength(25)]],tipo_comprobante:["",S.required],tipo_gasto:["",S.required],ruc_dni:["",[S.required,S.pattern(/^\d{8,11}$/)]],razon_social_nombre:["",[S.required,S.maxLength(255)]],observacion:["",[S.maxLength(255)]]})}ngOnInit(){this.cargarVoluntariados()}cargarVoluntariados(){this.gastosService.listarVoluntariados().subscribe({next:i=>{this.voluntariados=i},error:i=>{console.error("Error al cargar voluntariados:",i),I.fire("Error","No se pudo cargar la lista de voluntariados.","error")}})}guardarGasto(){if(this.gastoForm.invalid){I.fire("Error","Formulario inv\xE1lido. Revisa los campos.","error");return}let i=this.gastoForm.value;this.gastosService.registrarGasto(i).subscribe({next:()=>{I.fire("\xC9xito","Gasto registrado exitosamente.","success"),this.router.navigate(["/contabilidad-financiera/gastos"])},error:o=>{console.error("Error al registrar el gasto:",o),I.fire("Error","No es posible realizar el registro.","error")}})}cancelar(){this.router.navigate(["/contabilidad-financiera/gastos"])}openAsignacionModal(){document.getElementById("asignarModal").style.display="block"}closeAsignarModal(){this.selectedVoluntariado=null,document.getElementById("asignarModal").style.display="none"}asignarVoluntariado(){if(!this.selectedVoluntariado){I.fire("Error","Debes seleccionar un voluntariado.","error");return}console.log("Voluntariado asignado:",this.selectedVoluntariado),this.closeAsignarModal()}};e.\u0275fac=function(o){return new(o||e)(y(he),y(H),y(Ht))},e.\u0275cmp=z({type:e,selectors:[["app-registrar-gasto"]],standalone:!0,features:[R([Ht]),j],decls:75,vars:2,consts:[[1,"container-fluid","form-container"],[1,"text-center","mb-4"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6","mb-3"],["for","descripcion"],["id","descripcion","type","text","formControlName","descripcion","placeholder","Ingresa la descripci\xF3n del gasto",1,"form-control"],["for","importe"],["id","importe","type","number","formControlName","importe","placeholder","Ingresa el importe",1,"form-control"],["for","voluntariado_asignado"],["id","voluntariado_asignado","formControlName","voluntariado_asignado",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","fecha_gasto"],["id","fecha_gasto","type","date","formControlName","fecha_gasto",1,"form-control"],["for","nro_comprobante"],["id","nro_comprobante","type","text","formControlName","nro_comprobante","placeholder","Ingresa el n\xFAmero de comprobante",1,"form-control"],["for","tipo_comprobante"],["id","tipo_comprobante","formControlName","tipo_comprobante",1,"form-control"],["value","Factura"],["value","Boleta de Venta"],["value","Recibo por Honorarios"],["value","Declaraci\xF3n Jurada"],["value","Estado de Cuenta"],["for","tipo_gasto"],["id","tipo_gasto","formControlName","tipo_gasto",1,"form-control"],["value","Movilidad"],["value","Alimentaci\xF3n"],["value","Materiales / Insumos"],["value","Cargos Bancarios"],["for","ruc_dni"],["id","ruc_dni","type","text","formControlName","ruc_dni","placeholder","Ingresa el RUC o DNI",1,"form-control"],["for","razon_social_nombre"],["id","razon_social_nombre","type","text","formControlName","razon_social_nombre","placeholder","Ingresa la raz\xF3n social o nombre",1,"form-control"],["for","observacion"],["id","observacion","formControlName","observacion","placeholder","Ingresa alguna observaci\xF3n (opcional)",1,"form-control"],[1,"form-actions","text-center","mt-4"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-secondary",3,"click"],[3,"value"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"h2",1),u(2,"Registrar Gasto"),l(),c(3,"form",2),v("ngSubmit",function(){return r.guardarGasto()}),c(4,"div",3)(5,"div",4)(6,"label",5),u(7,"Descripci\xF3n / Concepto"),l(),k(8,"input",6),l(),c(9,"div",4)(10,"label",7),u(11,"Importe"),l(),k(12,"input",8),l(),c(13,"div",4)(14,"label",9),u(15,"Voluntariado Asignado"),l(),c(16,"select",10)(17,"option",11),u(18,"Selecciona una opci\xF3n"),l(),M(19,f2,2,2,"option",12),l()(),c(20,"div",4)(21,"label",13),u(22,"Fecha del Gasto"),l(),k(23,"input",14),l(),c(24,"div",4)(25,"label",15),u(26,"N\xFAmero de Comprobante"),l(),k(27,"input",16),l(),c(28,"div",4)(29,"label",17),u(30,"Tipo de Comprobante"),l(),c(31,"select",18)(32,"option",11),u(33,"Selecciona una opci\xF3n"),l(),c(34,"option",19),u(35,"Factura"),l(),c(36,"option",20),u(37,"Boleta de Venta"),l(),c(38,"option",21),u(39,"Recibo por Honorarios"),l(),c(40,"option",22),u(41,"Declaraci\xF3n Jurada"),l(),c(42,"option",23),u(43,"Estado de Cuenta"),l()()(),c(44,"div",4)(45,"label",24),u(46,"Tipo de Gasto"),l(),c(47,"select",25)(48,"option",11),u(49,"Selecciona una opci\xF3n"),l(),c(50,"option",26),u(51,"Movilidad"),l(),c(52,"option",27),u(53,"Alimentaci\xF3n"),l(),c(54,"option",28),u(55,"Materiales / Insumos"),l(),c(56,"option",29),u(57,"Cargos Bancarios"),l()()(),c(58,"div",4)(59,"label",30),u(60,"RUC / DNI"),l(),k(61,"input",31),l(),c(62,"div",4)(63,"label",32),u(64,"Raz\xF3n Social / Nombre"),l(),k(65,"input",33),l(),c(66,"div",4)(67,"label",34),u(68,"Observaci\xF3n"),l(),k(69,"textarea",35),l()(),c(70,"div",36)(71,"button",37),u(72,"Guardar"),l(),c(73,"button",38),v("click",function(){return r.cancelar()}),u(74," Cancelar "),l()()()()),o&2&&(f(3),g("formGroup",r.gastoForm),f(16),g("ngForOf",r.voluntariados))},dependencies:[ge,Q,ue,me,K,He,ae,Z,J,de,fe,U,ne,Pe],styles:[".form-container[_ngcontent-%COMP%]{max-width:100%;padding:20px}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px}.form-control[_ngcontent-%COMP%]{padding:10px;font-size:16px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}.btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px}"]});let t=e;return t})();function h2(t,e){if(t&1&&(c(0,"option",40),u(1),l()),t&2){let n=e.$implicit;g("value",n.id),f(),ie(" ",n.nombre," ")}}var ap=(()=>{let e=class e{constructor(i,o,r,a){this.fb=i,this.router=o,this.route=r,this.gastosService=a,this.voluntariados=[]}ngOnInit(){this.inicializarFormulario(),this.cargarVoluntariados(),this.cargarGasto()}inicializarFormulario(){this.gastoForm=this.fb.group({descripcion:["",[S.required,S.maxLength(255)]],importe:[null,[S.required,S.min(.01)]],voluntariado_id:["",S.required],fecha_gasto:[null,S.required],nro_comprobante:["",[S.maxLength(25)]],tipo_comprobante:["",S.required],tipo_gasto:["",S.required],ruc_dni:["",[S.required,S.pattern(/^\d{8,11}$/)]],razon_social_nombre:["",[S.required,S.maxLength(255)]],observacion:["",[S.maxLength(255)]]})}cargarVoluntariados(){this.gastosService.listarVoluntariados().subscribe({next:i=>{this.voluntariados=i},error:i=>{console.error("Error al cargar voluntariados:",i),I.fire("Error","No se pudo cargar la lista de voluntariados.","error")}})}formatDate(i){let o=new Date(i),r=o.getFullYear(),a=String(o.getMonth()+1).padStart(2,"0"),s=String(o.getDate()).padStart(2,"0");return`${r}-${a}-${s}`}cargarGasto(){let i=this.route.snapshot.paramMap.get("id");i&&this.gastosService.obtenerGastoPorId(+i).subscribe({next:o=>{o.fecha_gasto&&(o.fecha_gasto=this.formatDate(o.fecha_gasto)),this.gastoForm.patchValue(o)},error:o=>{console.error("Error al cargar el gasto:",o),I.fire("Error","No se pudo cargar el gasto.","error")}})}guardarGasto(){if(this.gastoForm.invalid){I.fire("Error","Formulario inv\xE1lido. Revisa los campos.","error");return}let i=this.gastoForm.value,o=this.route.snapshot.paramMap.get("id");this.gastosService.actualizarGasto(+o,i).subscribe({next:()=>{I.fire("\xC9xito","Gasto actualizado exitosamente.","success"),this.router.navigate(["/contabilidad-financiera/gastos"])},error:r=>{console.error("Error al actualizar el gasto:",r),I.fire("Error","No es posible realizar la actualizaci\xF3n.","error")}})}cancelar(){this.router.navigate(["/contabilidad-financiera/gastos"])}};e.\u0275fac=function(o){return new(o||e)(y(he),y(H),y(ce),y(Ht))},e.\u0275cmp=z({type:e,selectors:[["app-editar-gasto"]],standalone:!0,features:[R([Ht]),j],decls:75,vars:2,consts:[[1,"container","py-4"],[1,"text-center","mb-4"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6","mb-3"],["for","descripcion",1,"form-label"],["id","descripcion","type","text","formControlName","descripcion","placeholder","Ingresa la descripci\xF3n del gasto",1,"form-control"],["for","importe",1,"form-label"],["id","importe","type","number","formControlName","importe","placeholder","Ingresa el importe",1,"form-control"],["for","voluntariado_id",1,"form-label"],["id","voluntariado_id","formControlName","voluntariado_id",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","fecha_gasto",1,"form-label"],["id","fecha_gasto","type","date","formControlName","fecha_gasto",1,"form-control"],["for","nro_comprobante",1,"form-label"],["id","nro_comprobante","type","text","formControlName","nro_comprobante","placeholder","Ingresa el n\xFAmero de comprobante",1,"form-control"],["for","tipo_comprobante",1,"form-label"],["id","tipo_comprobante","formControlName","tipo_comprobante",1,"form-select"],["value","Factura"],["value","Boleta de Venta"],["value","Recibo por Honorarios"],["value","Declaraci\xF3n Jurada"],["value","Estado de Cuenta"],["for","tipo_gasto",1,"form-label"],["id","tipo_gasto","formControlName","tipo_gasto",1,"form-select"],["value","Movilidad"],["value","Alimentaci\xF3n"],["value","Materiales / Insumos"],["value","Cargos Bancarios"],["for","ruc_dni",1,"form-label"],["id","ruc_dni","type","text","formControlName","ruc_dni","placeholder","Ingresa el RUC o DNI",1,"form-control"],["for","razon_social_nombre",1,"form-label"],["id","razon_social_nombre","type","text","formControlName","razon_social_nombre","placeholder","Ingresa la raz\xF3n social o nombre",1,"form-control"],[1,"col-12","mb-3"],["for","observacion",1,"form-label"],["id","observacion","formControlName","observacion","placeholder","Ingresa alguna observaci\xF3n (opcional)",1,"form-control"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary","me-3"],["type","button",1,"btn","btn-secondary",3,"click"],[3,"value"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"h2",1),u(2,"Editar Gasto"),l(),c(3,"form",2),v("ngSubmit",function(){return r.guardarGasto()}),c(4,"div",3)(5,"div",4)(6,"label",5),u(7,"Descripci\xF3n / Concepto"),l(),k(8,"input",6),l(),c(9,"div",4)(10,"label",7),u(11,"Importe"),l(),k(12,"input",8),l(),c(13,"div",4)(14,"label",9),u(15,"Voluntariado Asignado"),l(),c(16,"select",10)(17,"option",11),u(18,"Selecciona un voluntariado"),l(),M(19,h2,2,2,"option",12),l()(),c(20,"div",4)(21,"label",13),u(22,"Fecha del Gasto"),l(),k(23,"input",14),l(),c(24,"div",4)(25,"label",15),u(26,"N\xFAmero de Comprobante"),l(),k(27,"input",16),l(),c(28,"div",4)(29,"label",17),u(30,"Tipo de Comprobante"),l(),c(31,"select",18)(32,"option",11),u(33,"Selecciona una opci\xF3n"),l(),c(34,"option",19),u(35,"Factura"),l(),c(36,"option",20),u(37,"Boleta de Venta"),l(),c(38,"option",21),u(39,"Recibo por Honorarios"),l(),c(40,"option",22),u(41,"Declaraci\xF3n Jurada"),l(),c(42,"option",23),u(43,"Estado de Cuenta"),l()()(),c(44,"div",4)(45,"label",24),u(46,"Tipo de Gasto"),l(),c(47,"select",25)(48,"option",11),u(49,"Selecciona una opci\xF3n"),l(),c(50,"option",26),u(51,"Movilidad"),l(),c(52,"option",27),u(53,"Alimentaci\xF3n"),l(),c(54,"option",28),u(55,"Materiales / Insumos"),l(),c(56,"option",29),u(57,"Cargos Bancarios"),l()()(),c(58,"div",4)(59,"label",30),u(60,"RUC / DNI"),l(),k(61,"input",31),l(),c(62,"div",4)(63,"label",32),u(64,"Raz\xF3n Social / Nombre"),l(),k(65,"input",33),l(),c(66,"div",34)(67,"label",35),u(68,"Observaci\xF3n"),l(),k(69,"textarea",36),l()(),c(70,"div",37)(71,"button",38),u(72,"Guardar"),l(),c(73,"button",39),v("click",function(){return r.cancelar()}),u(74," Cancelar "),l()()()()),o&2&&(f(3),g("formGroup",r.gastoForm),f(16),g("ngForOf",r.voluntariados))},dependencies:[ge,Q,ue,me,K,He,ae,Z,J,de,fe,U,ne,Pe]});let t=e;return t})();var sp=(()=>{let e=class e{constructor(i,o,r){this.voluntariosService=i,this.route=o,this.router=r,this.voluntario={}}ngOnInit(){this.voluntarioId=+this.route.snapshot.paramMap.get("id"),this.obtenerInformacionVoluntario()}obtenerInformacionVoluntario(){this.voluntariosService.obtenerInformacionVoluntario(this.voluntarioId).subscribe({next:i=>{this.voluntario=dt(De({},i),{fecha_ingreso:i.fecha_ingreso?new Date(i.fecha_ingreso).toISOString().split("T")[0]:"",fecha_nacimiento:i.fecha_nacimiento?new Date(i.fecha_nacimiento).toISOString().split("T")[0]:""})},error:i=>{console.error("Error al obtener la informaci\xF3n:",i)}})}guardarCambios(){this.voluntariosService.actualizarInformacionVoluntario(this.voluntarioId,this.voluntario).subscribe({next:()=>{I.fire("\xC9xito","Informaci\xF3n actualizada correctamente.","success").then(()=>{this.router.navigate(["/dashboard"])})},error:i=>{console.error("Error al actualizar la informaci\xF3n:",i),I.fire("Error","No se pudo actualizar la informaci\xF3n.","error")}})}cancelar(){this.router.navigate(["/dashboard"])}};e.\u0275fac=function(o){return new(o||e)(y(ve),y(ce),y(H))},e.\u0275cmp=z({type:e,selectors:[["app-mi-informacion-voluntario"]],standalone:!0,features:[R([ve]),j],decls:70,vars:13,consts:[[1,"form-container"],[3,"ngSubmit"],["type","text","name","dni","disabled","",3,"ngModel","ngModelChange"],["type","text","name","nombre","disabled","",3,"ngModel","ngModelChange"],["type","text","name","apellido_paterno","disabled","",3,"ngModel","ngModelChange"],["type","text","name","apellido_materno","disabled","",3,"ngModel","ngModelChange"],["type","email","name","correo","disabled","",3,"ngModel","ngModelChange"],["type","date","name","fecha_ingreso","disabled","",3,"ngModel","ngModelChange"],["type","date","name","fecha_nacimiento","disabled","",3,"ngModel","ngModelChange"],["type","text","name","ciudad_residencia",3,"ngModel","ngModelChange"],["type","text","name","celular","pattern","^[0-9]{9}$",3,"ngModel","ngModelChange"],["name","grado_instruccion",3,"ngModel","ngModelChange"],["value","Estudiante universitario"],["value","Egresado universitario"],["value","Bachiller"],["value","Titulado"],["value","Colegiado"],["value","N.A."],["type","text","name","instagram",3,"ngModel","ngModelChange"],["type","text","name","facebook",3,"ngModel","ngModelChange"],["type","text","name","linkedin",3,"ngModel","ngModelChange"],["type","submit"],["type","button",3,"click"]],template:function(o,r){o&1&&(c(0,"div",0)(1,"h1"),u(2,"Mi Informaci\xF3n"),l(),c(3,"form",1),v("ngSubmit",function(){return r.guardarCambios()}),c(4,"div")(5,"label"),u(6,"DNI"),l(),c(7,"input",2),v("ngModelChange",function(s){return r.voluntario.dni=s}),l()(),c(8,"div")(9,"label"),u(10,"Nombres"),l(),c(11,"input",3),v("ngModelChange",function(s){return r.voluntario.nombre=s}),l()(),c(12,"div")(13,"label"),u(14,"Apellidos"),l(),c(15,"input",4),v("ngModelChange",function(s){return r.voluntario.apellido_paterno=s}),l(),c(16,"input",5),v("ngModelChange",function(s){return r.voluntario.apellido_materno=s}),l()(),c(17,"div")(18,"label"),u(19,"Correo"),l(),c(20,"input",6),v("ngModelChange",function(s){return r.voluntario.correo=s}),l()(),c(21,"div")(22,"label"),u(23,"Fecha de Ingreso"),l(),c(24,"input",7),v("ngModelChange",function(s){return r.voluntario.fecha_ingreso=s}),l()(),c(25,"div")(26,"label"),u(27,"Fecha de Nacimiento"),l(),c(28,"input",8),v("ngModelChange",function(s){return r.voluntario.fecha_nacimiento=s}),l()(),c(29,"div")(30,"label"),u(31,"Ciudad de Residencia"),l(),c(32,"input",9),v("ngModelChange",function(s){return r.voluntario.ciudad_residencia=s}),l()(),c(33,"div")(34,"label"),u(35,"Celular"),l(),c(36,"input",10),v("ngModelChange",function(s){return r.voluntario.celular=s}),l()(),c(37,"div")(38,"label"),u(39,"Grado de Instrucci\xF3n"),l(),c(40,"select",11),v("ngModelChange",function(s){return r.voluntario.grado_instruccion=s}),c(41,"option",12),u(42,"Estudiante universitario"),l(),c(43,"option",13),u(44,"Egresado universitario"),l(),c(45,"option",14),u(46,"Bachiller"),l(),c(47,"option",15),u(48,"Titulado"),l(),c(49,"option",16),u(50,"Colegiado"),l(),c(51,"option",17),u(52,"N.A."),l()()(),c(53,"div")(54,"label"),u(55,"Instagram"),l(),c(56,"input",18),v("ngModelChange",function(s){return r.voluntario.instagram=s}),l()(),c(57,"div")(58,"label"),u(59,"Facebook"),l(),c(60,"input",19),v("ngModelChange",function(s){return r.voluntario.facebook=s}),l()(),c(61,"div")(62,"label"),u(63,"LinkedIn"),l(),c(64,"input",20),v("ngModelChange",function(s){return r.voluntario.linkedin=s}),l()(),c(65,"div")(66,"button",21),u(67,"Guardar"),l(),c(68,"button",22),v("click",function(){return r.cancelar()}),u(69,"Cancelar"),l()()()()),o&2&&(f(7),g("ngModel",r.voluntario.dni),f(4),g("ngModel",r.voluntario.nombre),f(4),g("ngModel",r.voluntario.apellido_paterno),f(),g("ngModel",r.voluntario.apellido_materno),f(4),g("ngModel",r.voluntario.correo),f(4),g("ngModel",r.voluntario.fecha_ingreso),f(4),g("ngModel",r.voluntario.fecha_nacimiento),f(4),g("ngModel",r.voluntario.ciudad_residencia),f(4),g("ngModel",r.voluntario.celular),f(4),g("ngModel",r.voluntario.grado_instruccion),f(16),g("ngModel",r.voluntario.instagram),f(4),g("ngModel",r.voluntario.facebook),f(4),g("ngModel",r.voluntario.linkedin))},dependencies:[Pe,Q,ue,me,K,ae,Z,J,la,Ze,ut],styles:[".form-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px;background:#f9f9f9;border:1px solid #ddd;border-radius:8px;box-shadow:0 2px 4px #0000001a}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}button[_ngcontent-%COMP%]{margin:5px;padding:10px 15px;border:none;border-radius:4px;cursor:pointer}button[type=submit][_ngcontent-%COMP%]{background-color:#28a745;color:#fff}button[type=button][_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}button[_ngcontent-%COMP%]:hover{opacity:.9}"]});let t=e;return t})();var lp=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:ad},{path:"usuarios/:id/actualizar-clave",component:qs,canActivate:[no]},{path:"",component:sd,canActivate:[no],children:[{path:"dashboard",component:Cm},{path:"usuarios",component:Sm},{path:"registro",component:Mm},{path:"registro-voluntario",component:Nm},{path:"usuarios/:id/editar",component:km},{path:"usuarios/:id/actualizar-clave",component:qs},{path:"variables-sistema",component:Im},{path:"variable-registro",component:Vm},{path:"variable-sistema/:id/editar",component:Pm},{path:"voluntarios",component:Fm},{path:"voluntarios/:id/editar",component:Rm},{path:"mis-voluntariados",component:Am},{path:"mi-informacion-voluntario/:id",component:sp},{path:"voluntariados",component:Om},{path:"voluntariados/nuevo",component:Dm},{path:"voluntariados/:id/detalle",component:Bm},{path:"voluntariados/:voluntariadoId/voluntarios/:voluntarioId/feedback",component:Gs},{path:"voluntariados/:id/editar",component:Tm},{path:"benefactores",component:zm},{path:"benefactores/registro",component:jm},{path:"beneficiarios",component:$m},{path:"beneficiarios/nuevo",component:Hm},{path:"beneficiarios/:id/editar",component:Um},{path:"benefactores/:id/editar",component:qm},{path:"voluntariados/:voluntariadoId/voluntarios/:voluntarioId/feedback/registrar",component:Wm},{path:"voluntariados/:voluntariadoId/voluntarios/:voluntarioId/feedback/:feedbackId/editar",component:Gm},{path:"voluntariados/:voluntariadoId/voluntarios/:voluntarioId/feedback",component:Gs},{path:"voluntariados/:id/evidencias/registrar",component:Ym},{path:"registrar-asistencia/:id",component:Xm},{path:"editar-asistencia/:id",component:Km},{path:"contabilidad-financiera",children:[{path:"",component:Qm},{path:"ingresos",component:Zm},{path:"ingresos/registrar",component:Jm},{path:"ingresos/:id/editar",component:ep},{path:"ingresos/:id/productos",component:tp},{path:"ingresos/:id/productos/registrar",component:ip},{path:"ingresos/:id/productos/:productoId/editar",component:np},{path:"gastos",component:op},{path:"gastos/registrar",component:rp},{path:"gastos/:id/editar",component:ap}]}]},{path:"**",redirectTo:"/dashboard",pathMatch:"full"}];var cp={providers:[bl(lp),hl()]};var g2={providers:[gl()]},dp=ul(cp,g2);var b2=()=>fl(vl,dp),tI=b2;export{tI as a};
